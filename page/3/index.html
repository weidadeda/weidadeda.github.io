<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="å¤§ä¼Ÿçš„é™æ€ä¸ªäººåšå®¢">
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°">
<meta name="theme-color" content="#000">
<title>å¤§ä¼Ÿçš„åšå®¢</title>
<link rel="shortcut icon" href="/favicon.ico?v=1685442270974">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/media/css/gemini.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css"
  rel="stylesheet">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="gemini">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>å¤§ä¼Ÿçš„åšå®¢</span>
            </a>  
          
        </div>
        
          <p class="subtitle">ä¿æŒçƒ­çˆ±â¤ï¸ä¿æŒå–„è‰¯âœ¨</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item nav-item-active">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about//" target="_self">
                  <i class="fa fa-globe"></i> å…³äº
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> å‹æƒ…é“¾æ¥
                  
                </a>
              </li>
            
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout gemini ">
      <div class="section-layout-wrapper">
        <div id="sidebarMeta" class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">ç‹å¤§ä¼Ÿ</p>
    
    <div class="site-description right-motion">
      
      
      
        <p>ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆ</p>
      
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">39</span>
        <span class="site-item-stat-name">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">23</span>
        <span class="site-item-stat-name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">23</span>
        <span class="site-item-stat-name">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item" style="border-top: 1px dotted #ccc; margin-top: 10px;">
      </div>
    
  
  


</div>
</div>
<script>
  let sidebarMeta = document.querySelector('#sidebarMeta');
  let scheme = 'gemini';
  let sidebarWrapper = document.querySelector('.sidebar-wrapper');
  if (sidebarMeta && (scheme === 'pisces' || scheme === 'gemini')) {
    document.addEventListener('scroll', function(e) {
      if (document.scrollingElement.scrollTop > parseInt(sidebarMeta.style.marginTop) + 10) {
        sidebarWrapper.classList.add('home-sidebar-fixed')
      } else {
        sidebarWrapper.classList.remove('home-sidebar-fixed')
      }
    });
  }
  </script>
        <div class="section-box gemini">
          <section class="section  posts-expand slide-down-in">
            
  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/js-huo-qu-wen-jian-da-xiao">
      jsè·å–æ–‡ä»¶å¤§å° window.performance
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-09-22</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/3uoOai8za">
        <span>js</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>6åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1051<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/js-huo-qu-wen-jian-da-xiao" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/docker-attach-ming-ling">
      Docker attach å‘½ä»¤
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-09-21</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/r0XBmVMNv">
        <span>docker</span>
      </a>ã€
      
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>1åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>194<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          <p>docker attach :è¿æ¥åˆ°æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨ã€‚<br>
è¦attachä¸Šå»çš„å®¹å™¨å¿…é¡»æ­£åœ¨è¿è¡Œï¼Œå¯ä»¥åŒæ—¶è¿æ¥ä¸ŠåŒä¸€ä¸ªcontaineræ¥å…±äº«å±å¹•ï¼ˆä¸screenå‘½ä»¤çš„attachç±»ä¼¼ï¼‰ã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ä¸­è¯´attachåå¯ä»¥é€šè¿‡CTRL-Cæ¥detachï¼Œä½†å®é™…ä¸Šç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œå¦‚æœcontainerå½“å‰åœ¨è¿è¡Œbashï¼ŒCTRL-Cè‡ªç„¶æ˜¯å½“å‰è¡Œçš„è¾“å…¥ï¼Œæ²¡æœ‰é€€å‡ºï¼›å¦‚æœcontainerå½“å‰æ­£åœ¨å‰å°è¿è¡Œè¿›ç¨‹ï¼Œå¦‚è¾“å‡ºnginxçš„access.logæ—¥å¿—ï¼ŒCTRL-Cä¸ä»…ä¼šå¯¼è‡´é€€å‡ºå®¹å™¨ï¼Œè€Œä¸”è¿˜stopäº†ğŸ˜¨</p>

        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/docker-attach-ming-ling" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/sequelize">
      å‰ç«¯ä½¿ç”¨Nacos
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-08-30</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>3åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>664<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/sequelize" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/koa-zhong-jian-jian-yu-zhi-xing-shun-xu">
      KOAä¸­é—´ä»¶ä¸æ‰§è¡Œé¡ºåº
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-08-23</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>4åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>808<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/koa-zhong-jian-jian-yu-zhi-xing-shun-xu" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/koa-jie-kou-can-shu-xiao-yan-yu-fan-hui-zhi-tong-yi-chu-li">
      Koaæ¥å£å‚æ•°æ ¡éªŒä¸è¿”å›å€¼ç»Ÿä¸€å¤„ç†
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-08-20</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>7åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1341<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/koa-jie-kou-can-shu-xiao-yan-yu-fan-hui-zhi-tong-yi-chu-li" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/node-jie-kou-sheng-cheng-jie-kou-wen-dang">
      nodeæ¥å£ç”Ÿæˆæ¥å£æ–‡æ¡£
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-08-12</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>4åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>670<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/node-jie-kou-sheng-cheng-jie-kou-wen-dang" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/cao-zuo-fu">
      jsä¸­çš„ä¸€äº›æ“ä½œç¬¦ ?./??/!!/~~
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-07-29</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/3uoOai8za">
        <span>js</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>3åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>682<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/cao-zuo-fu" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/mysql-cha-xun-yu-ju">
      mysqlæŸ¥è¯¢è¯­å¥
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-07-22</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/pzYATVrka">
        <span>mysql</span>
      </a>ã€
      
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>4åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>918<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/mysql-cha-xun-yu-ju" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/docker-de-an-zhuang-yu-shi-yong">
      dockerçš„å®‰è£…ä¸ä½¿ç”¨
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-07-14</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/r0XBmVMNv">
        <span>docker</span>
      </a>ã€
      
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>9åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>2414<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/docker-de-an-zhuang-yu-shi-yong" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://weidadeda.github.io/post/nodejs-chang-yong-gong-ju-utilinherits">
      Node.js å¸¸ç”¨å·¥å…· ï¼ˆutil.inheritsï¼‰
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-06-13</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://weidadeda.github.io/tag/lTeQHqjnC">
        <span>æœåŠ¡ç«¯</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>2åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>429<span class="pc-show">å­—æ•°</span></span>
    </span>
    
  </div>
</header>
      <div class="post-body">
        
        
          
        
        
        <div class="post-button text-center">
          <a class="btn" href="https://weidadeda.github.io/post/nodejs-chang-yong-gong-ju-utilinherits" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>
  
            
            
<div class="page bg-color">
  <ul class="pagination-ul">
    
      <li class="pagination-dir">
        <a href="https://weidadeda.github.io/page/2/">
          <i class="fa fa-angle-left"></i>
        </a>
      </li>
    
    
      
        <li class="pagination-li ">
            <a href="/page/../">
              1
            </a>
        </li>
      
        <li class="pagination-li ">
            <a href="/page/2">
              2
            </a>
        </li>
      
        <li class="pagination-li pagination-active">
            <a href="/page/3">
              3
            </a>
        </li>
      
        <li class="pagination-li ">
            <a href="/page/4">
              4
            </a>
        </li>
      
    
    
      <li class="pagination-dir">
        <a href="/page/4">
          <i class="fa fa-angle-right"></i>
        </a>
      </li>
    
  </ul>
</div>
          </section>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | Â© 2019-2020 Theme By <a href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
    
<link rel="stylesheet" href="/media/live2d/css/live2d.css" />
<div class="box-scale">
  <div id="landlord" style="left: 0px;bottom: 0px;"
    data-key="">
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    

      <div class="message" style="opacity:0"></div>
      <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
          <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off"
            placeholder="ä½ çš„åå­—" />
        </div>
        <div class="live_talk_input_text_body">
          <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off"
            placeholder="è¦å’Œæˆ‘èŠä»€ä¹ˆå‘€ï¼Ÿ" />
          <button type="button" class="live_talk_send_btn" id="talk_send">å‘é€</button>
        </div>
      </div>
      <input name="live_talk" id="live_talk" value="1" type="hidden" />
      <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input id="duType" value="douqilai" type="hidden">
        
      </div>
    
  </div>
</div>
<div id="open_live2d">å¬å”¤çœ‹æ¿å¨˜</div>
<script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
  var message_Path = 'https://cdn.jsdelivr.net/gh/hsxyhao/live2d.github.io@master/';
  let landlord = document.querySelector('#landlord');
  var apiKey = landlord.dataset.key;
</script>
<script type="text/javascript" src="/media/live2d/js/live2d.js"></script>
<script>
	var home_Path = document.location.protocol + '//' + window.document.location.hostname + ":" + window.document.location.port + '/';
	var userAgent = window.navigator.userAgent.toLowerCase();
	var norunAI = ["android", "iphone", "ipod", "ipad", "windows phone", "mqqbrowser", "msie", "trident/7.0"];
	var norunFlag = false;

	for (var i = 0; i < norunAI.length; i++) {
		if (userAgent.indexOf(norunAI[i]) > -1) {
			norunFlag = true;
			break;
		}
	}

	if (!window.WebGLRenderingContext) {
		norunFlag = true;
	}

	if (!norunFlag) {
		var hitFlag = false;
		var AIFadeFlag = false;
		var liveTlakTimer = null;
		var sleepTimer_ = null;
		var AITalkFlag = false;
		var talkNum = 0;
		(function () {
			function renderTip(template, context) {
				var tokenReg = /(\\)?\{([^\{\}\\]+)(\\)?\}/g;
				return template.replace(tokenReg, function (word, slash1, token, slash2) {
					if (slash1 || slash2) {
						return word.replace('\\', '');
					}
					var variables = token.replace(/\s/g, '').split('.');
					var currentObject = context;
					var i, length, variable;
					for (i = 0, length = variables.length; i < length; ++i) {
						variable = variables[i];
						currentObject = currentObject[variable];
						if (currentObject === undefined || currentObject === null) return '';
					}
					return currentObject;
				});
			}

			String.prototype.renderTip = function (context) {
				return renderTip(this, context);
			};

			var re = /x/;
			re.toString = function () {
				showMessage('å“ˆå“ˆï¼Œä½ æ‰“å¼€äº†æ§åˆ¶å°ï¼Œæ˜¯æƒ³è¦çœ‹çœ‹æˆ‘çš„ç§˜å¯†å—ï¼Ÿ', 5000);
				return '';
			};

			$(document).on('copy', function () {
				showMessage('ä½ éƒ½å¤åˆ¶äº†äº›ä»€ä¹ˆå‘€ï¼Œè½¬è½½è¦è®°å¾—åŠ ä¸Šå‡ºå¤„å“¦~~', 5000);
			});

			function initTips() {
				$.ajax({
					cache: true,
					url: message_Path + 'message.json',
					dataType: "json",
					success: function (result) {
						$.each(result.mouseover, function (index, tips) {
							$(tips.selector).mouseover(function () {
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
								talkValTimer();
								clearInterval(liveTlakTimer);
								liveTlakTimer = null;
							});
							$(tips.selector).mouseout(function () {
								showHitokoto();
								if (liveTlakTimer == null) {
									liveTlakTimer = window.setInterval(function () {
										showHitokoto();
									}, 15000);
								};
							});
						});
						$.each(result.click, function (index, tips) {
							$(tips.selector).click(function () {
								if (hitFlag) {
									return false
								}
								hitFlag = true;
								setTimeout(function () {
									hitFlag = false;
								}, 8000);
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
							});
							clearInterval(liveTlakTimer);
							liveTlakTimer = null;
							if (liveTlakTimer == null) {
								liveTlakTimer = window.setInterval(function () {
									showHitokoto();
								}, 15000);
							};
						});
					}
				});
			}
			initTips();

			var text;
			if (document.referrer !== '') {
				var referrer = document.createElement('a');
				referrer.href = document.referrer;
				text = 'å—¨ï¼æ¥è‡ª <span style="color:#0099cc;">' + referrer.hostname + '</span> çš„æœ‹å‹ï¼';
				var domain = referrer.hostname.split('.')[1];
				if (domain == 'baidu') {
					text = 'å—¨ï¼ æ¥è‡ª ç™¾åº¦æœç´¢ çš„æœ‹å‹ï¼<br>æ¬¢è¿è®¿é—®<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				} else if (domain == 'so') {
					text = 'å—¨ï¼ æ¥è‡ª 360æœç´¢ çš„æœ‹å‹ï¼<br>æ¬¢è¿è®¿é—®<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				} else if (domain == 'google') {
					text = 'å—¨ï¼ æ¥è‡ª è°·æ­Œæœç´¢ çš„æœ‹å‹ï¼<br>æ¬¢è¿è®¿é—®<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				}
			} else {
				if (window.location.href == home_Path) { //ä¸»é¡µURLåˆ¤æ–­ï¼Œéœ€è¦æ–œæ ç»“å°¾
					var now = (new Date()).getHours();
					if (now > 23 || now <= 5) {
						text = 'ä½ æ˜¯å¤œçŒ«å­å‘€ï¼Ÿè¿™ä¹ˆæ™šè¿˜ä¸ç¡è§‰ï¼Œæ˜å¤©èµ·çš„æ¥å˜›ï¼Ÿ';
					} else if (now > 5 && now <= 7) {
						text = 'æ—©ä¸Šå¥½ï¼ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨ï¼Œç¾å¥½çš„ä¸€å¤©å°±è¦å¼€å§‹äº†ï¼';
					} else if (now > 7 && now <= 11) {
						text = 'ä¸Šåˆå¥½ï¼å·¥ä½œé¡ºåˆ©å˜›ï¼Œä¸è¦ä¹…åï¼Œå¤šèµ·æ¥èµ°åŠ¨èµ°åŠ¨å“¦ï¼';
					} else if (now > 11 && now <= 14) {
						text = 'ä¸­åˆäº†ï¼Œå·¥ä½œäº†ä¸€ä¸ªä¸Šåˆï¼Œç°åœ¨æ˜¯åˆé¤æ—¶é—´ï¼';
					} else if (now > 14 && now <= 17) {
						text = 'åˆåå¾ˆå®¹æ˜“çŠ¯å›°å‘¢ï¼Œä»Šå¤©çš„è¿åŠ¨ç›®æ ‡å®Œæˆäº†å—ï¼Ÿ';
					} else if (now > 17 && now <= 19) {
						text = 'å‚æ™šäº†ï¼çª—å¤–å¤•é˜³çš„æ™¯è‰²å¾ˆç¾ä¸½å‘¢ï¼Œæœ€ç¾ä¸è¿‡å¤•é˜³çº¢~~';
					} else if (now > 19 && now <= 21) {
						text = 'æ™šä¸Šå¥½ï¼Œä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ';
					} else if (now > 21 && now <= 23) {
						text = 'å·²ç»è¿™ä¹ˆæ™šäº†å‘€ï¼Œæ—©ç‚¹ä¼‘æ¯å§ï¼Œæ™šå®‰~~';
					} else {
						text = 'å—¨~ å¿«æ¥é€—æˆ‘ç©å§ï¼';
					}
				} else {
					text = 'æ¬¢è¿é˜…è¯»<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				}
			}
			showMessage(text, 12000);
		})();

		liveTlakTimer = setInterval(function () {
			showHitokoto();
		}, 15000);

		function showHitokoto() {
			if (sessionStorage.getItem("Sleepy") !== "1") {
				if (!AITalkFlag) {
					$.getJSON('https://v1.hitokoto.cn/', function (result) {
						talkValTimer();
						showMessage(result.hitokoto, 0);
					});
				}
			} else {
				hideMessage(0);
				if (sleepTimer_ == null) {
					sleepTimer_ = setInterval(function () {
						checkSleep();
					}, 200);
				}
			}
		}

		function checkSleep() {
			var sleepStatu = sessionStorage.getItem("Sleepy");
			if (sleepStatu !== '1') {
				talkValTimer();
				showMessage('ä½ å›æ¥å•¦~', 0);
				clearInterval(sleepTimer_);
				sleepTimer_ = null;
			}
		}

		function showMessage(text, timeout) {
			if (Array.isArray(text)) text = text[Math.floor(Math.random() * text.length + 1) - 1];
			$('.message').stop();
			$('.message').html(text);
			$('.message').fadeTo(200, 1);
			//if (timeout === null) timeout = 5000;
			//hideMessage(timeout);
		}
		function talkValTimer() {
			$('#live_talk').val('1');
		}

		function hideMessage(timeout) {
			//$('.message').stop().css('opacity',1);
			if (timeout === null) timeout = 5000;
			$('.message').delay(timeout).fadeTo(200, 0);
		}

		function initLive2d() {
			$('#hideButton').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "0");
					$('#landlord').fadeOut(200);
					$('#open_live2d').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#open_live2d').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "1");
					$('#open_live2d').fadeOut(200);
					$('#landlord').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#youduButton').on('click', function () {
				if ($('#youduButton').hasClass('doudong')) {
					var typeIs = $('#youduButton').attr('data-type');
					$('#youduButton').removeClass('doudong');
					$('body').removeClass(typeIs);
					$('#youduButton').attr('data-type', '');
				} else {
					var duType = $('#duType').val();
					var duArr = duType.split(",");
					var dataType = duArr[Math.floor(Math.random() * duArr.length)];

					$('#youduButton').addClass('doudong');
					$('#youduButton').attr('data-type', dataType);
					$('body').addClass(dataType);
				}
			});
			if (apiKey) {
				$('#showInfoBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "0") {
						return
					} else {
						$('#live_statu_val').val("0");
						$('.live_talk_input_body').fadeOut(500);
						AITalkFlag = false;
						showHitokoto();
						$('#showTalkBtn').show();
						$('#showInfoBtn').hide();
					}
				});
				$('#showTalkBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "1") {
						return
					} else {
						$('#live_statu_val').val("1");
						$('.live_talk_input_body').fadeIn(500);
						AITalkFlag = true;
						$('#showTalkBtn').hide();
						$('#showInfoBtn').show();

					}
				});
				$('#talk_send').on('click', function () {
					var info_ = $('#AIuserText').val();
					var userid_ = $('#AIuserName').val();
					if (info_ == "") {
						showMessage('å†™ç‚¹ä»€ä¹ˆå§ï¼', 0);
						return;
					}
					if (userid_ == "") {
						showMessage('èŠä¹‹å‰è¯·å‘Šè¯‰æˆ‘ä½ çš„åå­—å§ï¼', 0);
						return;
					}
					showMessage('æ€è€ƒä¸­~', 0);
					let protocol = window.location.protocol.indexOf("s") > 0 ? "https" : "http";
					$.ajax({
						type: "get",
						url: `${protocol}://www.tuling123.com/openapi/api?key=${apiKey}&info=${info_}`,
						dataType: "json",
						success: function (res) {
							talkValTimer();
							showMessage(res.text, 0);
							$('#AIuserText').val("");
							sessionStorage.setItem("live2duser", userid_);
						},
						error: function (e) {
							talkValTimer();
							showMessage('ä¼¼ä¹æœ‰ä»€ä¹ˆé”™è¯¯ï¼Œè¯·å’Œç«™é•¿è”ç³»ï¼', 0);
						}
					});
				});
			} else {
				$('#showInfoBtn').hide();
				$('#showTalkBtn').hide();
			}
			//è·å–éŸ³ä¹ä¿¡æ¯åˆå§‹åŒ–
			var bgmListInfo = $('input[name=live2dBGM]');
			if (bgmListInfo.length == 0) {
				$('#musicButton').hide();
			} else {
				var bgmPlayNow = parseInt($('#live2d_bgm').attr('data-bgm'));
				var bgmPlayTime = 0;
				var live2dBGM_Num = sessionStorage.getItem("live2dBGM_Num");
				var live2dBGM_PlayTime = sessionStorage.getItem("live2dBGM_PlayTime");
				if (live2dBGM_Num) {
					if (live2dBGM_Num <= $('input[name=live2dBGM]').length - 1) {
						bgmPlayNow = parseInt(live2dBGM_Num);
					}
				}
				if (live2dBGM_PlayTime) {
					bgmPlayTime = parseInt(live2dBGM_PlayTime);
				}
				var live2dBGMSrc = bgmListInfo.eq(bgmPlayNow).val();
				$('#live2d_bgm').attr('data-bgm', bgmPlayNow);
				$('#live2d_bgm').attr('src', live2dBGMSrc);
				$('#live2d_bgm')[0].currentTime = bgmPlayTime;
				$('#live2d_bgm')[0].volume = 0.5;
				var live2dBGM_IsPlay = sessionStorage.getItem("live2dBGM_IsPlay");
				var live2dBGM_WindowClose = sessionStorage.getItem("live2dBGM_WindowClose");
				if (live2dBGM_IsPlay == '0' && live2dBGM_WindowClose == '0') {
					$('#live2d_bgm')[0].play();
					$('#musicButton').addClass('play');
				}
				sessionStorage.setItem("live2dBGM_WindowClose", '1');
				$('#musicButton').on('click', function () {
					if ($('#musicButton').hasClass('play')) {
						$('#live2d_bgm')[0].pause();
						$('#musicButton').removeClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '1');
					} else {
						$('#live2d_bgm')[0].play();
						$('#musicButton').addClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				});
				window.onbeforeunload = function () {
					sessionStorage.setItem("live2dBGM_WindowClose", '0');
					if ($('#musicButton').hasClass('play')) {
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				}
				document.getElementById('live2d_bgm').addEventListener("timeupdate", function () {
					var live2dBgmPlayTimeNow = document.getElementById('live2d_bgm').currentTime;
					sessionStorage.setItem("live2dBGM_PlayTime", live2dBgmPlayTimeNow);
				});
				document.getElementById('live2d_bgm').addEventListener("ended", function () {
					var listNow = parseInt($('#live2d_bgm').attr('data-bgm'));
					listNow++;
					if (listNow > $('input[name=live2dBGM]').length - 1) {
						listNow = 0;
					}
					var listNewSrc = $('input[name=live2dBGM]').eq(listNow).val();
					sessionStorage.setItem("live2dBGM_Num", listNow);
					$('#live2d_bgm').attr('src', listNewSrc);
					$('#live2d_bgm')[0].play();
					$('#live2d_bgm').attr('data-bgm', listNow);
				});
				document.getElementById('live2d_bgm').addEventListener("error", function () {
					$('#live2d_bgm')[0].pause();
					$('#musicButton').removeClass('play');
					showMessage('éŸ³ä¹ä¼¼ä¹åŠ è½½ä¸å‡ºæ¥äº†å‘¢ï¼', 0);
				});
			}
			//è·å–ç”¨æˆ·å
			var live2dUser = sessionStorage.getItem("live2duser");
			if (live2dUser !== null) {
				$('#AIuserName').val(live2dUser);
			}
			//è·å–ä½ç½®
			var landL = sessionStorage.getItem("historywidth");
			var landB = sessionStorage.getItem("historyheight");
			if (landL == null || landB == null) {
				landL = '5px'
				landB = '0px'
			}
			$('#landlord').css('left', landL + 'px');
			$('#landlord').css('bottom', landB + 'px');
			//ç§»åŠ¨
			function getEvent() {
				return window.event || arguments.callee.caller.arguments[0];
			}
			var smcc = document.getElementById("landlord");
			var moveX = 0;
			var moveY = 0;
			var moveBottom = 0;
			var moveLeft = 0;
			var moveable = false;
			var docMouseMoveEvent = document.onmousemove;
			var docMouseUpEvent = document.onmouseup;
			smcc.onmousedown = function () {
				var ent = getEvent();
				moveable = true;
				moveX = ent.clientX;
				moveY = ent.clientY;
				var obj = smcc;
				moveBottom = parseInt(obj.style.bottom);
				moveLeft = parseInt(obj.style.left);
				if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {
					window.getSelection().removeAllRanges();
				}
				document.onmousemove = function () {
					if (moveable) {
						var ent = getEvent();
						var x = moveLeft + ent.clientX - moveX;
						var y = moveBottom + (moveY - ent.clientY);
						obj.style.left = x + "px";
						obj.style.bottom = y + "px";
					}
				};
				document.onmouseup = function () {
					if (moveable) {
						var historywidth = obj.style.left;
						var historyheight = obj.style.bottom;
						historywidth = historywidth.replace('px', '');
						historyheight = historyheight.replace('px', '');
						sessionStorage.setItem("historywidth", historywidth);
						sessionStorage.setItem("historyheight", historyheight);
						document.onmousemove = docMouseMoveEvent;
						document.onmouseup = docMouseUpEvent;
						moveable = false;
						moveX = 0;
						moveY = 0;
						moveBottom = 0;
						moveLeft = 0;
					}
				};
			};
		}
		$(document).ready(function () {
			var AIimgSrc = [];
			let chooseLive2d = 'histoire'
			if (chooseLive2d === 'histoire') {
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_00.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_01.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_02.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_03.png");
			} else if (chooseLive2d === 'rem') {
				AIimgSrc.push(message_Path + "model/rem/remu2048/texture_00.png");
			} else if (chooseLive2d === 'Aoba') {
				AIimgSrc.push(message_Path + "model/Aoba/textures/texture_00.png");
			} else if (chooseLive2d === 'hijiki') {
				AIimgSrc.push(message_Path + "model/hijiki/moc/hijiki.2048/texture_00.png");
			} else if (chooseLive2d === 'tororo') {
				AIimgSrc.push(message_Path + "model/tororo/moc/tororo.2048/texture_00.png");
			}
			var images = [];
			var imgLength = AIimgSrc.length;
			var loadingNum = 0;
			for (var i = 0; i < imgLength; i++) {
				images[i] = new Image();
				images[i].src = AIimgSrc[i];
				images[i].onload = function () {
					loadingNum++;
					if (loadingNum === imgLength) {
						var live2dhidden = localStorage.getItem("live2dhidden");
						if (live2dhidden === "0") {
							setTimeout(function () {
								$('#open_live2d').fadeIn(200);
							}, 1300);
						} else {
							setTimeout(function () {
								$('#landlord').fadeIn(200);
							}, 1300);
						}
						let model = '';
						if (chooseLive2d === 'histoire') {
							model = message_Path + "model/histoire/model.json";
						} else if (chooseLive2d === 'rem') {
							model = message_Path + "model/rem/model.json";
						} else if (chooseLive2d === 'Aoba') {
							model = message_Path + "model/Aoba/model.json";
						} else if (chooseLive2d === 'hijiki') {
							model = message_Path + "model/hijiki/hijiki.model.json";
						} else if (chooseLive2d === 'tororo') {
							model = message_Path + "model/tororo/tororo.model.json";
						}
						setTimeout(function () {
							loadlive2d("live2d", model);
						}, 1000);
						initLive2d();
						images = null;
					}
				}
			}
		});
	}
</script>
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // é“¾æ¥è·³è½¬
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target","_blank");
      }
    })
  }
  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px; border: 1px solid #fff; border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
  </div>
</body>
<input hidden id="copy" />
<script>
  //æ‹¿æ¥ä¸»ä¹‰(çœŸé¦™)^_^ï¼ŒClipboard å®ç°æ‘˜è‡ªæ˜é‡‘ https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // åˆ¤æ–­æ˜¯ä¸æ˜¯iosç«¯
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //åˆ›å»ºæ–‡æœ¬å…ƒç´ 
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //é€‰æ‹©å†…å®¹
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("å¤åˆ¶é”™è¯¯ï¼è¯·æ‰‹åŠ¨å¤åˆ¶ï¼")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'å¤åˆ¶æˆåŠŸ') {
        console.log('å¤åˆ¶æ“ä½œé¢‘ç‡è¿‡é«˜');
        return;
      }
      e.srcElement.textContent = 'å¤åˆ¶æˆåŠŸ';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'å¤åˆ¶æˆåŠŸ') {
            elem.textContent = 'å¤åˆ¶ä»£ç '
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'å¤åˆ¶ä»£ç ';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })
</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 500
  });
</script>

<!-- <div class="search-mask" id="search_mask">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input type="text" placeholder="æœç´¢">
      </div>
      <i class="fa fa-times-circle"></i>
    </div>
    <div class="result">
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/wo-men-shi-ru-he-cong-ling-dao-yi-da-jian-zhi-bo-xiao-cheng-xu-de"" data-c="
          &lt;h3 id=&#34;ä¸€-èƒŒæ™¯&#34;&gt;ä¸€ã€èƒŒæ™¯&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç›´æ’­æŠ€æœ¯æ˜¯ä½¿ç”¨çš„zegoçš„sdkï¼Œå…¶å®æˆ‘ä»¬å’Œzegoå¯¹äºå°ç¨‹åºç›´æ’­åœºæ™¯æ˜¯å…±åŒæˆé•¿çš„ï¼Œæˆ‘ä»¬å¸®ä»–ä»¬è§£å†³äº†å¾ˆå¤šé—®é¢˜ï¼Œå‘ç°äº†å¾ˆå¤šé—®é¢˜ï¼Œæå‡ºäº†å¾ˆå¤šé—®é¢˜ï¼ŒåŒæ ·ä»–ä»¬ä¹Ÿå¸®æˆ‘ä»¬è§£å†³äº†å¾ˆå¤šé—®é¢˜ä¸æä¾›äº†å¾ˆå¤šæ–¹æ¡ˆï¼Œå› ä¸ºå°ç¨‹åºæ¨æ‹‰å¤šè·¯æµæ¯”è¾ƒå¤æ‚ï¼ŒåŠ ä¸Šæ²¡æœ‰å¤ªå¤šå¯å‚è€ƒçš„æ–‡ç« ï¼Œæ‰€ä»¥æ•´ç†å‡ºæ¥åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒ-é¡¹ç›®ä»‹ç»&#34;&gt;äºŒã€é¡¹ç›®ä»‹ç»&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬çš„é¡¹ç›®æ˜¯åŸºäºreact-hooks + redux+ ts + Taro + Taro-UIæ­å»ºçš„ï¼Œæ˜¯ä¸€æ¬¾è§†é¢‘ç›¸äº²ç±»çš„å¾®ä¿¡å°ç¨‹åºã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰-æŠ€æœ¯æ¶æ„&#34;&gt;ä¸‰ã€æŠ€æœ¯æ¶æ„&lt;/h3&gt;
&lt;h4 id=&#34;æŠ€æœ¯åŸºç¡€&#34;&gt;æŠ€æœ¯åŸºç¡€&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;webpackçš„é…ç½®ï¼ˆæ˜ å®¢è„šæ‰‹æ¶è‡ªå¸¦ï¼‰&lt;/li&gt;
&lt;li&gt;æ ·å¼ä½¿ç”¨scss&lt;/li&gt;
&lt;li&gt;Typescriptçš„é…ç½®&lt;/li&gt;
&lt;li&gt;é¡¹ç›®çš„è·¯ç”±çš„è®¾è®¡å’Œé…ç½®&lt;/li&gt;
&lt;li&gt;é¡¹ç›®ç›®å½•ç»“æ„çš„è®¾è®¡å’Œé…ç½®&lt;/li&gt;
&lt;li&gt;é¡¹ç›®é€šç”¨çš„ç»„ä»¶å°è£…&lt;/li&gt;
&lt;li&gt;é¡¹ç›®çš„åˆ†åŒ…å¤„ç†&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒåšçš„åŒ…ä½“ç§¯åˆ†æ&lt;/li&gt;
&lt;li&gt;eslintåŠ prettieræ­é…ä½¿ç”¨ï¼Œè§£å†³æ¯ä¸ªäººç¼–ç æ–¹å¼ä¸åŒå¯¼è‡´çš„å†²çªï¼Œå¹¶ä¸”è®¾ç½®ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685423899209.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¼€å‘æµç¨‹&#34;&gt;å¼€å‘æµç¨‹&lt;/h4&gt;
&lt;h5 id=&#34;é€šè¿‡dotenvè‡ªå®šä¹‰ik_envé€šè¿‡envæ–‡ä»¶å®šä¹‰æ¥åŒºåˆ†è¯¥ä½¿ç”¨ä¸åŒç¯å¢ƒçš„å„ç§å˜é‡å¦‚ä¸‹&#34;&gt;é€šè¿‡dotEnvè‡ªå®šä¹‰IK_ENVï¼Œé€šè¿‡.envæ–‡ä»¶å®šä¹‰ï¼Œæ¥åŒºåˆ†è¯¥ä½¿ç”¨ä¸åŒç¯å¢ƒçš„å„ç§å˜é‡ï¼Œå¦‚ä¸‹ï¼š&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685425793342.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685425801928.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685425938717.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685426039298.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;git-commitæ ¡éªŒè§„èŒƒä»£ç æäº¤&#34;&gt;git commitæ ¡éªŒï¼Œè§„èŒƒä»£ç æäº¤&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;&amp;quot;gitHooks&amp;quot;: {
  &amp;quot;pre-commit&amp;quot;: &amp;quot;lint-staged&amp;quot;,
  &amp;quot;commit-msg&amp;quot;: &amp;quot;node .bin/verify-commit-msg.js&amp;quot;
},
&amp;quot;lint-staged&amp;quot;: {
  &amp;quot;*.{ts, tsx}&amp;quot;: [
    &amp;quot;prettier --config --write&amp;quot;
  ]
},
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const chalk = require(&#39;chalk&#39;)
const msgPath = process.env.GIT_PARAMS
const msg = require(&#39;fs&#39;).readFileSync(msgPath, &#39;utf-8&#39;).trim()

const commitRE =
  /^(revert: )?(feat|fix|polish|docs|style|refactor|perf|test|workflow|ci|chore|types|build|tool|comment|rewrite|Merge|Revert)(\(.+\))?: .{1,50}|Merge|Revert /

if (!commitRE.test(msg)) {
  console.error(
    `  ${chalk.bgRed.white(&#39; ERROR &#39;)} ${chalk.red(`invalid commit message format.`)}\n\n` +
      chalk.red(`  Proper commit message format is required for automated changelog generation. Examples:\n\n`) +
      `    ${chalk.green(`feat: add &#39;comments&#39; option`)}\n` +
      `    ${chalk.green(`fix: handle events on blur (close #28)`)}\n\n` +
      chalk.red(`  You can also use ${chalk.cyan(`npm run commit`)} to interactively generate a commit message.\n`)
  )
  process.exit(1)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœä¸æŒ‰ç…§è§„åˆ™æäº¤åˆ™ä¼šæäº¤å¤±è´¥å¹¶æç¤ºè¯¥å¦‚ä½•æäº¤&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685426148683.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¹Ÿå¯ä»¥è¿è¡Œnpm run commit&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&amp;quot;commit&amp;quot;: &amp;quot;git-cz&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685426213792.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685426219051.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;tså†™æ³•å®šä¹‰ä¸€ä¸ªç½‘ç»œè¯·æ±‚èƒ½ç»™ä¸¥æ ¼è¦æ±‚è¯·æ±‚å‚æ•°ä¸è¿”å›å€¼é˜²æ­¢å¼€å‘äººå‘˜ä»£ç é”™è¯¯&#34;&gt;tså†™æ³•å®šä¹‰ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œèƒ½ç»™ä¸¥æ ¼è¦æ±‚è¯·æ±‚å‚æ•°ä¸è¿”å›å€¼ï¼Œé˜²æ­¢å¼€å‘äººå‘˜ä»£ç é”™è¯¯&lt;/h5&gt;
&lt;details&gt;
&lt;summary&gt;api.ts&lt;/summary&gt;
&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;import { serviceFetch } from &#39;config/api-roots&#39;
export interface resData&amp;lt;T = any&amp;gt; {
  data: T
  error_msg: string
  dm_error: number
}
/**
 * è·å–å…³æ³¨çŠ¶æ€æ¥å£è¿”å›å€¼
 */
interface getFollowStatusApiRes {
  /**
   * å…³æ³¨çŠ¶æ€,0ä¸ºæœªå…³æ³¨,1å·²å…³æ³¨
   */
  follow_status: number
  /**
   * å…³æ³¨å…¬ä¼—å·çŠ¶æ€ï¼Œ0ä¸ºæœªå…³æ³¨ï¼Œ1ä¸ºå·²å…³æ³¨
   */
  subscribe_status: number
  /**
   * æ˜¯å¦å±•ç¤ºå…³æ³¨æŒ‰é’®,1å±•ç¤º,0ä¸å±•ç¤º
   */
  is_show_follow: number
  /**
   * å¤´åƒæ¡†
   */
  resource_frame_img: string
}
/**
 * è·å–å…³æ³¨çŠ¶æ€æ¥å£
 */
export const getFollowStatusApi: (params: { target_uid?: number }) =&amp;gt; resData&amp;lt;getFollowStatusApiRes&amp;gt; = serviceFetch({
  url: &#39;/api/relation/follow/get_follow_status&#39;,
  method: &#39;POST&#39;,
  errorTips: true
})
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;å¦‚æœå†™é”™äº†ï¼Œåˆ™ä¼šæç¤ºï¼Œå–è¿”å›å­—æ®µä¹Ÿèƒ½ç²¾å‡†æç¤º&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685426335606.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685426342517.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685426348461.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ„å»ºä¸Šçº¿æ—¶çš„å¤„ç†&#34;&gt;æ„å»ºä¸Šçº¿æ—¶çš„å¤„ç†&lt;/h5&gt;
&lt;p&gt;ä¼ ç»Ÿçš„ä¸Šçº¿äººå·¥æˆæœ¬å¤ªé«˜ï¼Œå› ä¸ºéœ€è¦äººä¸ºå¤„ç†çš„äº‹æƒ…å¤ªå¤šï¼Œå¯¹æ­¤æˆ‘ä»¬å†™äº†ä¸€ä¸ªè„šæœ¬æ¥å°†è¿™ä¸€ç³»åˆ—æµç¨‹ä¸²èµ·æ¥ã€‚&lt;br&gt;
1ã€è‡ªåŠ¨å‡çº§é¡¹ç›®ç‰ˆæœ¬å·&lt;br&gt;
2ã€è‡ªåŠ¨ç”Ÿæˆchanglog&lt;br&gt;
3ã€è‡ªåŠ¨å°†æ‰“åŒ…å‡ºæ¥çš„åŒ…ä¸Šä¼ è‡³å¾®ä¿¡å°ç¨‹åºåå°&lt;br&gt;
4ã€è‡ªåŠ¨å‘é€åˆå¹¶è¯·æ±‚&lt;br&gt;
5ã€è‡ªåŠ¨å‘é€é’‰é’‰é€šçŸ¥ï¼ˆæ„å»ºäººï¼Œæ„å»ºç¯å¢ƒï¼Œæ„å»ºåˆ†æ”¯ï¼Œæ„å»ºç‰ˆæœ¬ï¼‰&lt;br&gt;
6ã€å› ä¸ºå¾®ä¿¡å®¡æ ¸æœ‰é™åˆ¶ï¼Œæœ‰äº›åŠŸèƒ½åœ¨æäº¤å®¡æ ¸æ—¶ä¸èƒ½å±•ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥éœ€è¦è®©äº§å“/è¿è¥äººå‘˜æ›´æ”¹ä¸æ£€æŸ¥å®¡æ ¸ç‰ˆæœ¬å·ï¼Œé€šè¿‡é’‰é’‰@åŠŸèƒ½å®ç°&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;buildè„šæœ¬&lt;/summary&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const ora = require(&#39;ora&#39;)
const { exec, execSync } = require(&#39;child_process&#39;)
const inquirer = require(&#39;inquirer&#39;)
let colors = require(&#39;colors&#39;)
const ChatBot = require(&#39;dingtalk-robot-sender&#39;)
const spinner = ora(&#39;æ­£åœ¨æ„å»º...&#39;)
const ci = require(&#39;miniprogram-ci&#39;)
const robot = new ChatBot({
  webhook:
    &#39;https://oapi.dingtalk.com/robot/send?access_token=xxx&#39;
})
spinner.color = &#39;yellow&#39;
colors.setTheme({
  silly: &#39;rainbow&#39;,
  input: &#39;grey&#39;,
  verbose: &#39;cyan&#39;,
  prompt: &#39;grey&#39;,
  info: &#39;green&#39;,
  data: &#39;grey&#39;,
  help: &#39;cyan&#39;,
  warn: &#39;yellow&#39;,
  debug: &#39;blue&#39;,
  error: &#39;red&#39;
})
const verMap = {
  &#39;è¡¥ä¸ç‰ˆæœ¬é€’å¢0.0.1&#39;: &#39;patch&#39;,
  &#39;å°ç‰ˆæœ¬é€’å¢0.1.0&#39;: &#39;minor&#39;,
  &#39;å¤§ç‰ˆæœ¬é€’å¢1.0.0&#39;: &#39;major&#39;
}
let selectVersion = &#39;&#39;
const openUrl = &#39;https://code.inke.cn/xxx&#39;
/**
 * è·å–æäº¤äºº
 */
const lastCommitAuthor = execSync(`git config user.name`).toString().trim()
/**
 * è·å–å½“å‰åˆ†æ”¯
 */
const currentBranch = execSync(`git symbolic-ref --short -q HEAD`).toString().trim()
/**
 * git diff
 */
function gitDiff(option, tips) {
  const diff = execSync(`git diff ${option}`).toString().trim() // è·å–æ–°å¢æ–‡ä»¶
  const arrDiff = diff.split(&#39;\n&#39;).filter(Boolean)
  if (arrDiff.length) {
    console.log(
      `ğŸ“› å½“å‰åˆ†æ”¯ ${currentBranch} æœ‰${tips}ï¼Œè¯·æäº¤åå†æ‰§è¡Œè¯¥å‘½ä»¤`.error,
      `ğŸ“¦ ${tips}æ–‡ä»¶å¦‚ä¸‹: ${arrDiff}`.error
    )
    process.exit(0)
  }
}
/**
 * æ£€æŸ¥å½“å‰åˆ†æ”¯æ˜¯å¦è¿˜æœ‰æœªæäº¤ä»£ç 
 */
function checkUnCommitedCode() {
  gitDiff(&#39;--name-only&#39;, &#39;æœªæäº¤çš„ä»£ç &#39;) // diff æ˜¯å¦æœ‰æ–°å¢æ–‡ä»¶
  gitDiff(&#39;--name-only --cached&#39;, &#39;æœªæäº¤çš„ä»£ç &#39;) // diff å·²æ·»åŠ åˆ°ç¼“å­˜åŒºçš„æ–‡ä»¶
}
async function buildEnv() {
  checkUnCommitedCode()
  const { buildEnv } = await inquirer.prompt([
    {
      type: &#39;list&#39;,
      name: &#39;buildEnv&#39;,
      message: &#39;è¯·é€‰æ‹©æ„å»ºç¯å¢ƒ&#39;,
      choices: [&#39;test&#39;, &#39;beta&#39;, &#39;online&#39;]
    }
  ])
  if (buildEnv === &#39;online&#39;) {
    try {
      execSync(`bash .bin/check.sh`)
    } catch (e) {
      console.log(`æœ‰æœªåˆå¹¶çš„è¯·æ±‚ï¼Œè¯·å…ˆå®Œæˆåˆå¹¶è¯·æ±‚`.red, e.status)
      robot.text(&#39;å­˜åœ¨æœªåˆå¹¶çš„è¯·æ±‚ï¼Œæ‰“åŒ…å¤±è´¥ï¼Œè¯·å…ˆåˆå¹¶&#39;, {
        atMobiles: [&#39;18310536322&#39;],
        isAtAll: false
      })
      process.exit(1)
    }
    const { version } = await inquirer.prompt({
      type: &#39;list&#39;,
      name: &#39;version&#39;,
      default: &#39;è¡¥ä¸ç‰ˆæœ¬é€’å¢0.0.1&#39;,
      message: &#39;é€‰æ‹©æ„å»ºç‰ˆæœ¬ç±»å‹&#39;,
      choices: [&#39;none&#39;, &#39;è¡¥ä¸ç‰ˆæœ¬é€’å¢0.0.1&#39;, &#39;å°ç‰ˆæœ¬é€’å¢0.1.0&#39;, &#39;å¤§ç‰ˆæœ¬é€’å¢1.0.0&#39;]
    })
    selectVersion = version
    if (version !== &#39;none&#39;) {
      try {
        execSync(`npm version ${verMap[version]} --no-git-tag`)
        console.log(`æ›´æ–°ç‰ˆæœ¬å·å®Œæˆ`.info)
        execSync(&#39;npm run changelog&#39;)
        console.log(`ç”Ÿæˆchangelogå®Œæˆ`.info)
      } catch (error) {
        console.log(`æ›´æ–°ç‰ˆæœ¬å·å¤±è´¥${error}`.error)
      }
    }
  }
  spinner.start()
  exec(`npm run build:weapp:${buildEnv}`, (e, sdtout, sdterr) =&amp;gt; {
    const { version: currentVersion } = require(&#39;../package.json&#39;)
    let noMergeDingContent = `
              æ‰“åŒ…å®Œæˆâœ…
              æ„å»ºäºº: ${lastCommitAuthor}
              æ„å»ºç‰ˆæœ¬: ${currentVersion}
              æ„å»ºç¯å¢ƒ: ${buildEnv}
              æ„å»ºåˆ†æ”¯: ${currentBranch}
              è¯¥ç‰ˆæœ¬å·²è‡ªåŠ¨ä¸Šä¼ ï¼Œè¯·åœ¨å°ç¨‹åºåå°é€‰ä¸ºä½“éªŒç‰ˆ
            `
    let hasMergeDingContent = `
              æ‰“åŒ…å®Œæˆâœ…
              æ„å»ºäºº: ${lastCommitAuthor}
              æ„å»ºç‰ˆæœ¬: ${currentVersion}
              æ„å»ºç¯å¢ƒ: ${buildEnv}
              æ„å»ºåˆ†æ”¯: ${currentBranch}
              åˆå¹¶åœ°å€: ${openUrl}
              åˆå¹¶è¯·æ±‚å·²åˆ›å»ºï¼Œè¾›è‹¦å¤§ä½¬åˆå¹¶ï½
            `
    spinner.stop()
    if (e) {
      console.log(`æ„å»ºå¤±è´¥ï¼š${e}`.error)
    } else {
      console.log(sdtout)
      console.log(sdterr)
      let content = noMergeDingContent
      let at = {}
      if (buildEnv === &#39;online&#39;) {
        try {
          if (selectVersion !== &#39;none&#39;) {
            content = hasMergeDingContent
            at = {
              atMobiles: [&#39;18310536322&#39;],
              isAtAll: false
            }
          } else {
            content = noMergeDingContent
          }
          if (selectVersion !== &#39;none&#39;) {
            try {
              execSync(`bash .bin/mr.sh`)
              console.log(`åˆ›å»ºåˆå¹¶è¯·æ±‚å®Œæˆ`.info)
            } catch (e) {
              console.log(`åˆ›å»ºåˆå¹¶è¯·æ±‚å¤±è´¥`.red, e.status)
            }
          }
        } catch (error) {
          if (selectVersion !== &#39;none&#39;) {
            console.log(`åˆ›å»ºåˆå¹¶è¯·æ±‚å¤±è´¥${error}`.error)
          }
        }
      }
      robot.text(content, at).then(async res =&amp;gt; {
        if (!res.data.errcode) {
          console.log(`é’‰é’‰é€šçŸ¥å®Œæˆ`.info)
          const project = new ci.Project({
            appid: &#39;xxxx&#39;,
            type: &#39;miniProgram&#39;,
            projectPath: &#39;build/weapp&#39;,
            privateKeyPath: &#39;.bin/private.xxxx.key&#39;,
            ignores: [&#39;node_modules/**/*&#39;]
          })
          const uploadResult = await ci.upload({
            project,
            version: currentVersion,
            desc: `æ„å»ºäººï¼š${lastCommitAuthor}`,
            setting: {
              es6: false,
              minifyJS: true,
              minifyWXML: true
            },
            onProgressUpdate: console.log
          })
          console.log(&#39;è‡ªåŠ¨ä¸Šä¼ å·²å®Œæˆ&#39;.green)
        } else {
          console.log(`é’‰é’‰é€šçŸ¥å¤±è´¥${res.data.errmsg}`.error)
        }
      })
    }
  })
}
buildEnv()
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;details&gt;
&lt;summary&gt;mr.sh&lt;/summary&gt;
&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;#!/usr/bin

# æäº¤MR

PROJECT_ID=xxx
PRIVATE_TOKEN=&amp;quot;xxx&amp;quot;
# CURRENT_BRANCH=`git symbolic-ref --short -q HEAD`
CURRENT_BRANCH=`git rev-parse HEAD`

echo ${CURRENT_BRANCH}
TIME=$(date &amp;quot;+%Y%m%d%H%M%S&amp;quot;)
NEW_BRANCH=&amp;quot;TaroBuild-${TIME}&amp;quot;
GITLAB_HOST=&amp;quot;https://code.inke.cn&amp;quot;

# åˆ›å»ºåˆ†æ”¯
curl --request POST --header &amp;quot;PRIVATE-TOKEN: ${PRIVATE_TOKEN}&amp;quot; &amp;quot;${GITLAB_HOST}/api/v4/projects/${PROJECT_ID}/repository/branches?branch=${NEW_BRANCH}&amp;amp;ref=${CURRENT_BRANCH}&amp;quot;
echo &amp;quot;\næäº¤MR: æ·»åŠ ã€Œ${NEW_BRANCH}ã€åˆ†æ”¯å®Œæˆï¼&amp;quot;

# MR data
DATA=&amp;quot;{\&amp;quot;id\&amp;quot;:\&amp;quot;${PROJECT_ID}\&amp;quot;,\&amp;quot;source_branch\&amp;quot;:\&amp;quot;${NEW_BRANCH}\&amp;quot;,\&amp;quot;target_branch\&amp;quot;:\&amp;quot;master\&amp;quot;,\&amp;quot;private_token\&amp;quot;:\&amp;quot;${PRIVATE_TOKEN}\&amp;quot;,\&amp;quot;title\&amp;quot;:\&amp;quot;Script Build Auto Submit Merge Resquest\&amp;quot;,\&amp;quot;description\&amp;quot;:\&amp;quot;æ„å»ºè‡ªåŠ¨æäº¤merge request\&amp;quot;}&amp;quot;
# åˆ›å»ºMR
curl -X POST -d &amp;quot;${DATA}&amp;quot; -H &amp;quot;Content-Type: application/json, PRIVATE-TOKEN: ${PRIVATE_TOKEN}&amp;quot; &amp;quot;${GITLAB_HOST}/api/v4/projects/${PROJECT_ID}/merge_requests&amp;quot;
echo &amp;quot;\næäº¤MR: æäº¤MRå®Œæˆï¼&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;details&gt;
&lt;summary&gt;check.sh&lt;/summary&gt;
&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;#!/usr/bin

PRIVATE_TOKEN=&amp;quot;xxx&amp;quot;
GITLAB_HOST=&amp;quot;https://code.gitlab.cn&amp;quot;
PROJECT_ID=xxx

MR_LIST=`curl -X GET --header &amp;quot;PRIVATE-TOKEN: ${PRIVATE_TOKEN}&amp;quot; &amp;quot;${GITLAB_HOST}/api/v4/projects/${PROJECT_ID}/merge_requests?state=opened&amp;quot;`
if [ ${MR_LIST} != &#39;[]&#39; ];then
  echo &#39;å­˜åœ¨æœªåˆå¹¶çš„è¯·æ±‚&#39;
  exit 1
else
  echo &#39;ç»§ç»­æ‰§è¡Œ&#39;
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685428233851.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è‡ªåŠ¨ç”Ÿæˆçš„changelogï¼Œæ¯æœŸåšäº†ä»€ä¹ˆä¸€ç›®äº†ç„¶&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685428511981.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é€šè¿‡è„šæœ¬è‡ªåŠ¨ä¸Šä¼ çš„æ„å»ºåŒ…&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å’Œäº§å“åŒå­¦ä¸æµ‹è¯•åŒå­¦è¾¾æˆäº†ä¸€ä¸ªçº¦å®šçš„æ¨¡å¼ï¼Œæ¯æ¬¡ä¸Šçº¿ä¸æµ‹è¯•å¼€å‘åªç®¡è¿è¡Œå‘½ä»¤æ‰“å‡ºæ¥å¹¶è‡ªåŠ¨ä¸Šä¼ è‡³å°ç¨‹åºåå°ï¼Œå…¶ä»–çš„æ¯”å¦‚ä½“éªŒç‰ˆå°ç¨‹åºçš„åˆ‡æ¢ã€å°ç¨‹åºçš„æå®¡ã€å®¡æ ¸é€šè¿‡åå°ç¨‹åºçš„åˆ†æ‰¹å‘å¸ƒä¸å…¨é‡å‘å¸ƒç­‰èƒ½åœ¨åå°æ“ä½œçš„äº‹æƒ…å…¨éƒ½ç”±å¥¹ä»¬æ ¹æ®è‡ªå·±çš„éœ€è¦å»åšã€‚&lt;br&gt;
è¿™æ ·æˆ‘ä»¬çš„å¼€å‘åŒå­¦åªéœ€è¦è¿è¡Œä¸€æ¡&lt;code&gt;yarn build&lt;/code&gt;å‘½ä»¤ï¼Œå…¶ä»–çš„ä»€ä¹ˆéƒ½ä¸ç”¨ç®¡äº†ï¼Œå¤§å¤§çš„æé«˜äº†æ•ˆç‡ã€‚ä¸ç„¶åˆ†å·¥å°±ä¼šä¸æ˜ç¡®ï¼Œå…¨éƒ½å¾—ç”±å¼€å‘åŒå­¦å»æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436119226.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436124184.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436128819.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦‚æœé€‰æ‹©çº¿ä¸Šç¯å¢ƒï¼Œåˆ™ä¼šè¯¢é—®è¦æ„å»ºçš„ç‰ˆæœ¬ï¼Œé»˜è®¤é€’å¢0.0.1&lt;/p&gt;
&lt;h4 id=&#34;é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ&#34;&gt;é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;å› ä¸ºå¾®ä¿¡å°ç¨‹åºæœ‰ç€ä¸¥æ ¼çš„åŒ…ä½“ç§¯é™åˆ¶ï¼Œæ‰“åŒ…ä¸Šä¼ æ—¶ä¸»åŒ…ä½“ç§¯ä¸èƒ½è¶…è¿‡2Mï¼Œå¼€å‘ç¯å¢ƒé¢„è§ˆå’ŒçœŸæœºè°ƒè¯•æ—¶ä¸»åŒ…ä½“ç§¯ä¸èƒ½è¶…è¿‡4Mï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹åŒ…ä½“ç§¯åšä¸€äº›å¤„ç†ï¼Œå¯¹æ­¤æˆ‘ä»¬åšäº†ä»¥ä¸‹æ“ä½œï¼š&lt;br&gt;
1ã€åˆ†åŒ…ï¼ˆä¸»åŒ…æ”¾é¦–é¡µçš„ä¸šåŠ¡ï¼Œå…¶ä»–çš„éƒ½æ”¾åˆ°åˆ†åŒ…ä¸­ï¼Œåˆ†åŒ…å¯ä»¥åˆ†å¤šä¸ªï¼ŒæŒ‰ä¸šåŠ¡æ¨¡å—è¿›è¡Œåˆ†åŒ…ï¼Œå¤§å®¶éƒ½çŸ¥é“å°±ä¸å¤šè¯´äº†ï¼‰&lt;br&gt;
2ã€æ¨¡å—ä¸npmåŒ…çš„æŒ‰éœ€åŠ è½½ï¼Œæ¯”å¦‚taro-uiã€lodashç­‰&lt;br&gt;
3ã€å¼€å‘ç¯å¢ƒå¼€å¯ä»£ç å‹ç¼©&lt;br&gt;
4ã€å¦‚æœè¶…è¿‡äº†åŒ…ä½“ç§¯é™åˆ¶ï¼Œåˆ™å¼€å¯åŒ…ä½“ç§¯åˆ†ææ’ä»¶ï¼Œçœ‹çœ‹å“ªäº›åœ°æ–¹è¿˜éœ€è¦ä¼˜åŒ–ï¼Œå¦‚ä¸‹å›¾&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436207249.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å››-ä¸šåŠ¡æ¶æ„&#34;&gt;å››ã€ä¸šåŠ¡æ¶æ„&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä¸šåŠ¡ä¸­å¯¹äºå…¶ä»–å°ç¨‹åºéœ€è¦è¯´çš„ä¸»è¦è¿˜æ˜¯éŸ³è§†é¢‘ä¸IMï¼Œå…¶ä»–çš„æˆ‘ä¸ªäººè§‰å¾—å€’æ˜¯æ²¡å¿…è¦è¯¦ç»†è¯´ï¼Œä½†æœ‰ä¸€äº›æœ‰ç”¨çš„å’Œä¸€äº›å‘ç‚¹è¿˜æ˜¯å¯ä»¥åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å°ç¨‹åºç›´æ’­&#34;&gt;å°ç¨‹åºç›´æ’­&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436315130.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æˆ¿é—´å†…éŸ³è§†é¢‘ä¸æ¶ˆæ¯æ¶æ„&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436362392.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;#####ï¼ˆ1ï¼‰è¿›æˆ¿æµç¨‹&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436411870.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿›å…¥æˆ¿é—´ä¹‹å‰&lt;br&gt;
å°è£…æˆå…¬ç”¨æ–¹æ³•ï¼Œé€šè¿‡ç‚¹å‡»é¦–é¡µå¡ç‰‡è°ƒç”¨ï¼Œç‚¹å‡»åˆ«äººåˆ†äº«çš„å°ç¨‹åºå¡ç‰‡è°ƒç”¨ï¼Œç‚¹å‡»åˆ«äººèµ„æ–™é¡µç›´æ’­ä¸­çŠ¶æ€å¤´åƒè°ƒç”¨ï¼Œå¤§å…ä¸­åŒæ„é‚€è¯·æ—¶è°ƒç”¨ï¼Œç‚¹å‡»æˆ¿é—´é£˜å±æ—¶è°ƒç”¨ç­‰ç­‰ã€‚&lt;br&gt;
1ã€å…ˆè°ƒç”¨æœåŠ¡ç«¯åŠ å…¥æˆ¿é—´æ¥å£&lt;br&gt;
2ã€åˆ¤æ–­è‡ªå·±æ˜¯å¦åœ¨æ¨æµï¼Œæ¨æµä¸­ä¸å…è®¸è·³è½¬&lt;br&gt;
3ã€åˆ¤æ–­è¦è¿›å…¥çš„æˆ¿é—´ç±»å‹&lt;br&gt;
4ã€å®ç°è·³è½¬å¯¹åº”æˆ¿é—´å¹¶ä¸”æŠŠæœåŠ¡ç«¯è¿”å›çš„æˆ¿é—´ä¿¡æ¯ä¸æ˜¯å¦é‚€è¯·ç­‰å‚æ•°å¸¦åˆ°æˆ¿é—´ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿›å…¥æˆ¿é—´ä¹‹å&lt;br&gt;
ä»¥ä¸‹æµä¿¡æ¯æ˜¯æŒ‡æµidä¸æµçš„é™„åŠ ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å°†æœåŠ¡ç«¯è¿”å›çš„live_idä½œä¸ºæˆ¿é—´å·ï¼ŒåŠ å…¥zegoæˆ¿é—´ã€åŠ å…¥èäº‘æˆ¿é—´ï¼Œå°†æˆ¿é—´ä¸­ä½¿ç”¨åˆ°çš„ä¿¡æ¯ä¸ç”¨æˆ·è§’è‰²ç­‰å…¨éƒ½æ”¾åœ¨reduxä¸­ï¼Œå¯ä¾›å„ä¸ªç»„ä»¶ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¨æµç«¯ï¼Œéœ€è¦å°†æ¨æµäººçš„ä¿¡æ¯æ”¾åˆ°æµçš„é¢å¤–ä¿¡æ¯ä¸­ï¼Œä½†zegoåªæ”¯æŒä¼ å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠè¦ä¼ çš„å‚æ•°åšä¸€ä¸‹å­—ç¬¦ä¸²å¤„ç†&lt;/p&gt;
&lt;p&gt;å°†æµç›¸å…³çš„ä¿¡æ¯å…¨éƒ½ç»„è£…åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚éº¦ä½ä¿¡æ¯ã€æµidã€éº¦å…‹é£é™éŸ³çŠ¶æ€ã€æ˜¯å¦æ˜¯å…è´¹ä¸Šéº¦ã€ç”¨æˆ·æ€§åˆ«ç­‰ï¼Œé€šè¿‡ä¼ å‚æ”¾åˆ°æ¯ä¸ªæˆ‘ä»¬è‡ªå®šä¹‰çš„æµç»„ä»¶ä¸­&lt;/p&gt;
&lt;p&gt;æ”¶åˆ°æ–­çº¿é‡è¿æ—¶ï¼Œéœ€è¦å…ˆåœæ­¢æ¨æµï¼Œç„¶åé‡æ–°å¼€å§‹æ¨æµï¼Œé‡è¯•ä¸‰æ¬¡ä¸æˆåŠŸï¼Œåˆ™æç¤ºã€‚&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»é™éŸ³æ—¶ï¼Œéœ€è¦ç»™è¦é™éŸ³çš„äººå‘é€æ¶ˆæ¯ï¼Œç„¶åç›®æ ‡äººæ”¶åˆ°æ¶ˆæ¯æ—¶å»å°†è‡ªå·±çš„éº¦å…‹é£å…³æ‰ï¼Œå¹¶ä¸”æ›´æ–°è‡ªå·±çš„æµä¿¡æ¯&lt;/p&gt;
&lt;p&gt;ä¸Šéº¦ä¹‹å‰æ ¡éªŒæ˜¯å¦å¼€å¯éŸ³è§†é¢‘æƒé™&lt;/p&gt;
&lt;p&gt;æ¥æ”¶åˆ°æµå˜åŒ–ä¹‹åå¯¹éº¦ä½ä¸Šçš„æµè¿›è¡Œå¯¹åº”çš„æ–°å¢å’Œåˆ é™¤&lt;/p&gt;
&lt;p&gt;æ”¶åˆ°zegoæˆ¿é—´æ–­å¼€è¿æ¥çŠ¶æ€æ—¶ï¼Œéœ€è¦å¯¹æ¯”æ–­å¼€çš„æˆ¿é—´ä¸å½“å‰æˆ¿é—´æ˜¯å¦ä¸€è‡´ï¼ˆå‘ç‚¹ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•å†³å®šæ˜¯æ¨æµè¿˜æ˜¯æ‹‰æµ&lt;br&gt;
æˆ‘ä»¬çš„ä¸šåŠ¡æœ€å¤šèƒ½æœ‰ä¸ƒè·¯æµï¼Œä½ç½®ä¿¡æ¯æ˜¯æ ¹æ®æœåŠ¡ç«¯è¿”å›çš„ï¼Œæ˜¯æ ¹æ®èº«ä»½æ¥åˆ¤æ–­æ˜¯å¦æ¨æµï¼Œæˆ‘ä»¬ç›®å‰æœ‰å››ç§ï¼Œ&lt;br&gt;
1æˆ¿ä¸»ï¼ˆä¸€ç›´æ¨æµï¼‰ã€2éº¦ä¸Šå˜‰å®¾ï¼ˆæ¨æµï¼Œä¸‹éº¦æ—¶åœæ­¢æ¨æµå¹¶åˆ‡æ¢èº«ä»½ä¸º3ï¼‰ã€3éº¦ä¸‹è§‚ä¼—ï¼ˆæ‹‰æµï¼‰ã€4éšèº«äººç£å¯¼ï¼ˆæ‹‰æµï¼‰&lt;br&gt;
æ¯ä¸€ä¸ªéº¦ä½éƒ½æ˜¯æ”¾çš„æˆ‘ä»¬è‡ªå·±å°è£…çš„ç»„ä»¶ï¼Œç»„ä»¶å†…æ ¹æ®ä¼ å…¥çš„èº«ä»½è‡ªå·±åˆ¤æ–­æ˜¾ç¤ºæ¨æµç»„ä»¶å’Œæ‹‰æµç»„ä»¶&lt;/p&gt;
&lt;p&gt;æ¨æµç»„ä»¶æ˜¯ç”¨çš„å°ç¨‹åºè‡ªå¸¦çš„&lt;live-pusher/&gt;&lt;a href=&#34;https://developers.weixin.qq.com/miniprogram/dev/component/live-pusher.html&#34;&gt;ç»„ä»¶&lt;/a&gt;ï¼Œæ‹‰æµç»„ä»¶æ˜¯ç”¨çš„å°ç¨‹åºè‡ªå¸¦çš„&lt;live-player/&gt;ç»„ä»¶ï¼Œå¼€é€šéœ€è¦ç±»ç›®å®¡æ ¸&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€€å‡ºæˆ¿é—´&lt;br&gt;
å°†æˆ¿é—´ç›¸å…³çš„reduxå…¨éƒ¨é‡æ–°åˆå§‹åŒ–&lt;br&gt;
æ¸…ç©ºæ‰€æœ‰å®šæ—¶å™¨&lt;br&gt;
è°ƒç”¨æœåŠ¡ç«¯é€€å‡ºæˆ¿é—´æ¥å£&lt;br&gt;
é”€æ¯æ‰€æœ‰ç›‘å¬äº‹ä»¶&lt;br&gt;
é€€å‡ºèäº‘æˆ¿é—´ä¸zegoæˆ¿é—´&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;2å¼‚å¸¸åœºæ™¯å¤„ç†&#34;&gt;ï¼ˆ2ï¼‰å¼‚å¸¸åœºæ™¯å¤„ç†&lt;/h5&gt;
&lt;p&gt;å…³äºåˆ‡åå°çš„æƒ…å†µï¼Œæˆ‘ä»¬æ•´ç†äº†å¦‚ä¸‹è¡¨ç°&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1685436885815.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¨æµæƒ…å†µä¸‹ï¼Œå½“åˆ‡åå°è¶…è¿‡90sï¼Œzegoçš„æœåŠ¡ç«¯ï¼ˆå¿ƒè·³æ—¶é—´90sï¼‰ä¼šå°†æµåˆ é™¤ï¼Œå›åˆ°å‰å°çš„æ—¶å€™æˆ‘ä»¬éœ€è¦æš‚åœæ¨æµåŒæ—¶è°ƒç”¨å°ç¨‹åºç»„ä»¶çš„åœæ­¢æ¨æµï¼Œç„¶åé‡æ–°zegoæ¨æµåŠ å°ç¨‹åºç»„ä»¶æ¨æµï¼Œæ³¨æ„éœ€è¦zegoå’Œæ¨æµç»„ä»¶åŒæ—¶åœæ­¢ä¸å¼€å§‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¨æµæƒ…å†µä¸‹ï¼Œåˆ‡åå°90så†…å›æ¥ï¼Œåˆ™ä¸éœ€è¦åšå…¶ä»–æ“ä½œï¼Œzegoä¼šè‡ªåŠ¨é‡è¿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‹‰æµæƒ…å†µä¸‹ï¼Œå¯¹äºåˆ‡åå°ä¸éœ€è¦åšä»»ä½•å¤„ç†ï¼Œç›¸å¯¹ç¨³å®šï¼Œåªè¦æœ‰æµè¿‡æ¥å°±èƒ½å±•ç¤º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœå› ä¸ºç½‘ç»œé—®é¢˜ï¼Œzegoè¿æ¥ä¸­çŠ¶æ€å’Œå·²è¿æ¥çŠ¶æ€ç›¸å·®90sä»¥ä¸Š5åˆ†é’Ÿä»¥å†…ï¼Œåˆ™éœ€è¦é‡æ–°æ‰§è¡Œä¸Šè¿°å…³æµæ¨æµï¼Œ5åˆ†é’Ÿä¸€ç›´éƒ½æ˜¯è¿æ¥ä¸­çŠ¶æ€ï¼Œzegoä¼šè‡ªåŠ¨èµ°åˆ°æ–­å¼€è¿æ¥å›æ‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœæˆ¿é—´å¼‚å¸¸æ–­å¼€æˆ–è€…ç½‘ç»œå¼‚å¸¸ç™»å½•è¶…æ—¶ï¼Œåˆ™éœ€è¦é‡æ–°åŠ å…¥zegoæˆ¿é—´ï¼Œç„¶ååˆ¤æ–­è‡ªå·±ä¹‹å‰æ˜¯å¦åœ¨éº¦ï¼Œåœ¨éº¦æ‰§è¡Œç”¨æˆ·é‡æ–°æ¨æµé€»è¾‘ï¼Œé‡æ¨3æ¬¡ä¾ç„¶å¤±è´¥ï¼Œåˆ™é€€å‡ºæˆ¿é—´&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;3æ€§èƒ½ä¼˜åŒ–&#34;&gt;ï¼ˆ3ï¼‰æ€§èƒ½ä¼˜åŒ–&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºæµï¼šå› ä¸ºæ˜¯å¤šè·¯æµï¼Œæ‰€ä»¥æ¯”è¾ƒåƒæ€§èƒ½å’Œç½‘ç»œï¼Œå¯ä»¥å°†æ¨æµç»„ä»¶çš„maxBitrateå‚æ•°è®¾ç½®çš„å°ä¸€äº›ï¼Œåˆ†è¾¨ç‡ä¹Ÿå¯ä»¥å°ä¸€äº›ï¼Œæˆ‘ä»¬è¿™è¾¹è®¾ç½®çš„æœ€å¤§ç ç‡ä¸ºä¸ƒäººé—´150ï¼Œä¸‰äººé—´300ï¼Œå®½é«˜æ¯”è®¾ç½®ä¸º3:4ï¼Œè§†é¢‘å®½é«˜ä¸º180*240ã€‚å¯èƒ½å¤§å®¶çœ‹è¿™ä¸ªå‚æ•°è§‰å¾—ä¼šç³Šï¼Œè¯·å¤§å®¶æ”¾å¿ƒï¼Œæˆ‘ä»¬ç»è¿‡å®è·µï¼Œè¿™æ ·ä¸ä¼šçœ‹ç€ç‰¹åˆ«æ¨¡ç³Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºç½‘ç»œè¯·æ±‚ï¼šwx.requestå‘èµ·çš„è€—æ—¶è¶…è¿‡ 300ms çš„è¯·æ±‚å¹¶å‘æ•°ä¸è¶…è¿‡ 10 ä¸ªï¼Œè°ƒç”¨æ—¶éœ€è¦èŠ‚æµå¤„ç†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºèŠ‚ç‚¹æ•°ï¼šé¡µé¢å†…æ˜¾ç¤ºè¶…è¿‡1000ä¸ªèŠ‚ç‚¹ä¼šç™½å±ï¼Œéœ€è¦åˆç†å¤„ç†ï¼Œæ¯”å¦‚å¯¹äºåˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºè¿ç»­é€ç¤¼åœºæ™¯ç­‰ï¼Œèƒ½å¤Ÿè¿ç»­æ”¶åˆ°æ¶ˆæ¯ä¸æ–­æ›´æ–°reduxçš„ï¼Œåˆ™å…ˆå­˜åˆ°é˜Ÿåˆ—ä¸­ï¼Œå°†æ•°æ®æ‰¹é‡ä¼ ç»™redux&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºåŒæ—¶è¦æ›´æ”¹å¤šä¸ªreduxçš„namespaceä¸­å†…å®¹çš„ï¼Œå¯ä»¥ä½¿ç”¨redux-batchè¿›è¡Œæ•´åˆæ›´æ”¹ï¼Œè€Œä¸æ˜¯è°ƒç”¨å¤šæ¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»£ç ç¼–å†™æ—¶æœ€å¥½ä½¿ç”¨usecallbackä¸usememoï¼Œå¯¹äºæ›´æ–°é¢‘ç¹çš„ï¼Œè¦ä¸¥æ ¼ä½¿ç”¨usecallbackæˆ–è€…shouldComponentUpdateç­‰è¿›è¡Œå¯¹æ¯”ï¼Œé¿å…å¤šæ¬¡æ¸²æŸ“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºéœ€è¦åŠ è½½çš„ä¸ä¼šå˜åŒ–çš„é™æ€èµ„æºï¼Œæ¯”å¦‚æ¸¸æˆçš„åŠ¨ç”»æ–‡ä»¶ï¼Œå¯ä»¥é¦–æ¬¡ä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åˆ°ç”¨æˆ·æœ¬åœ°ï¼Œåé¢ç›´æ¥ä»æœ¬åœ°è·å–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤§æ–‡ä»¶é¢„åŠ è½½ï¼Œä½†è¦æ³¨æ„å–èˆï¼Œå…¨éƒ½æ”¾åœ¨é¦–é¡µä¼šå ç”¨ä¸»åŒ…ä½“ç§¯ã€‚èƒ½ä¸Šcdnçš„å°½é‡ä¸Šcdnï½&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;4é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ&#34;&gt;ï¼ˆ4ï¼‰é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;live-pusheræ¨æµç»„ä»¶ä¸­çš„autopushå±æ€§éœ€è¦è®¾ç½®ä¸ºfalseï¼Œå› ä¸ºéƒ½æ˜¯å‘ï¼Œå¼€å‘ä¸­ä¼šé‡åˆ°-1301çš„é”™è¯¯ç ï¼Œæ˜¯å°ç¨‹åºçš„å…¼å®¹æ€§bugã€‚é¡ºä¾¿è¯´ä¸‹-1301çš„è§£å†³æ–¹æ¡ˆ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨æœ‰é—®é¢˜çš„æœºå™¨ä¸Šé¢ï¼Œå°† autopush è®¾ç½®ä¸º falseï¼Œé¿å…è‡ªåŠ¨æ¨æµï¼›&lt;/li&gt;
&lt;li&gt;åœ¨å¼€å§‹æ¨æµå‰ï¼Œè®¾ç½®æ‘„åƒå¤´å’Œéº¦å…‹é£ä¸ºå…³é—­çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ‹¿åˆ°å®é™…å¯æ¨æµçš„ url åï¼Œå…ˆå¼€å¯æ‘„åƒå¤´ã€éº¦å…‹é£ï¼Œå†å¯åŠ¨æ¨æµ&lt;/li&gt;
&lt;li&gt;åœ¨æ¨æµçš„ç»„ä»¶ bindstatechange ç»‘å®šçš„ onPushStateChange äº‹ä»¶å›è°ƒ code ä¸º -1307 -1301 ç­‰é”™è¯¯æ˜¯ï¼Œåœæ­¢æ¨æµã€ é‡æ–°æ¨æµ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨zegoæ—¶ï¼Œä»–ä»¬æä¾›ä¸¤ç§æ¥å…¥æ–¹å¼ï¼Œéœ€è¦é€‰æ‹©æ—§ç‰ˆæœ¬ï¼Œå› ä¸ºæ–°ç‰ˆæœ¬ä¸æ”¯æŒTaroã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•ä½¿ç›´æ’­åˆ‡æ¢äº†é¡µé¢è¿˜èƒ½å¬åˆ°å£°éŸ³ï¼šéœ€è¦å°†LivePlayerç»„ä»¶çš„autoPauseIfNavigateå’ŒautoPauseIfOpenNavigateå±æ€§è®¾ç½®ä¸ºfalse&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é™éŸ³å¤±æ•ˆé—®é¢˜ï¼šéœ€è¦å°†livePusherå®ä¾‹çš„setMICVolumeæ–¹æ³•çš„volumeå­—æ®µè®¾ç½®ä¸º0ï¼Œlivepushç»„ä»¶çš„å±æ€§çš„enableMicæœ‰æ—¶ä¼šä¸ç”Ÿæ•ˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å°ç¨‹åºç«¯ï¼Œç”¨æˆ·çš„æ‰‹æœºå·¦æ»‘é€€å‡ºæˆ‘ä»¬æ— æ³•æ§åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥åœ¨é¡µé¢ç»„ä»¶é”€æ¯æ—¶è®¤ä¸ºä»–é€€å‡ºäº†æˆ¿é—´&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å°ç¨‹åºç¾é¢œ&#34;&gt;å°ç¨‹åºç¾é¢œ&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨çš„æ˜¯å°ç¨‹åºè‡ªå¸¦çš„æ¨æµç»„ä»¶ç¾é¢œï¼Œåœ¨æˆ¿é—´å¤–é€‰æ‹©å®Œç¾ç™½æ»¤é•œåå¸¦å…¥åˆ°æˆ¿é—´å†…çš„æ¨æµç»„ä»¶ä¸­ã€‚é‡åˆ°é»‘å±çš„æƒ…å†µï¼Œéœ€è¦å…ˆåœæ­¢é¢„è§ˆå†å¯åŠ¨é¢„è§ˆ&lt;/p&gt;
&lt;h4 id=&#34;å°ç¨‹åºæ”¯ä»˜&#34;&gt;å°ç¨‹åºæ”¯ä»˜&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685437229551.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æˆ‘ä»¬ä½¿ç”¨çš„v2ç‰ˆæœ¬ï¼ŒsignTypeé€‰æ‹©çš„â€˜MD5â€™ï¼Œå…¶å®è¿™é‡Œè°ƒè¯•è¿˜æ˜¯æ¯”è¾ƒè´¹æ—¶é—´çš„ï¼Œä½†ä¸»è¦è¿˜æ˜¯å’Œåç«¯è”è°ƒæ—¶åç«¯è¿”å›çš„å‚æ•°æœ‰é—®é¢˜ã€‚å°ç¨‹åºçš„æ”¯ä»˜ç›¸æ¯”äºå…¬ä¼—å·çš„æ”¯ä»˜ï¼Œå‰ç«¯è¦ç®€å•çš„å¤šã€‚&lt;br&gt;
å‰ç«¯éœ€è¦å°†ç”¨æˆ·çš„wx.loginçš„codeç ä¼ ç»™åç«¯ï¼Œåç«¯å¯ä»¥å»æ¢å–openidï¼Œnoncestrã€signã€prepayidç­‰å‚æ•°è¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯å»è°ƒç”¨wx.requestPaymentæ–¹æ³•ï¼Œå°†ä¸Šé¢æœåŠ¡ç«¯è¿”å›çš„å‚æ•°ä¼ ç»™å¾®ä¿¡ï¼Œå°±èƒ½å¤ŸæˆåŠŸè°ƒèµ·å¾®ä¿¡æ”¯ä»˜ï¼ŒæˆåŠŸä¸å¤±è´¥éƒ½æœ‰ç›¸å…³å›æ‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å°ç¨‹åºåˆ†äº«&#34;&gt;å°ç¨‹åºåˆ†äº«&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1685437278552.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¯¹äºåˆ†äº«ï¼Œæ¯”è¾ƒå¤æ‚çš„å°±æ˜¯åˆ†äº«è¿›æˆ¿ï¼Œå¦‚æœè¢«åˆ†äº«çš„ç”¨æˆ·æ˜¯ç™»å½•è¿‡çš„ï¼Œåˆ™ä¸éœ€è¦åšå¤ªå¤šå¤„ç†ï¼Œä½†çœŸå®åœºæ™¯å¾€å¾€æ˜¯æœªç™»å½•çš„æƒ…å†µå±…å¤šï¼Œæ‰€ä»¥éœ€è¦å…ˆè·³è½¬ç™»å½•ï¼Œå¼€å§‹æˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯å°†å‚æ•°å¸¦åˆ°ç™»å½•é¡µï¼Œä½†éšç€ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ‘ä»¬æ”¾å¼ƒäº†è¿™ç§æ–¹å¼ï¼Œé‡‡ç”¨å°†å‚æ•°ç›´æ¥æ”¾åˆ°reduxä¸­ã€‚ä½†æ˜¯æ€æƒ³éƒ½ä¸€æ ·ï¼Œå°±æ˜¯è¦æŠŠå‚æ•°è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å°ç¨‹åºåŠ¨ç”»&#34;&gt;å°ç¨‹åºåŠ¨ç”»&lt;/h4&gt;
&lt;p&gt;å°ç¨‹åºä¸­æ’­æ”¾åŠ¨ç”»æ˜¯ä½¿ç”¨canvasè¿›è¡Œæ’­æ”¾ï¼Œä½¿ç”¨spineæ ¼å¼å’Œsvgaæ ¼å¼ä¸¤ç§åŠ¨ç”»ï¼Œæ¨èspineæ ¼å¼ï¼Œä½†ä»ç„¶éœ€è¦å¯¹æ—§çš„svgaæ ¼å¼çš„ç¤¼ç‰©åŠ¨ç”»åšå…¼å®¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºsvgaæ ¼å¼çš„ç¤¼ç‰©ï¼Œä½¿ç”¨svgaplayer-weappè¿™ä¸ªåº“ï¼Œå¦‚æœé‡åˆ°åŠ¨ç”»æ’­æ”¾æ…¢çš„é—®é¢˜ï¼Œåˆ™éœ€è¦å°†æ–‡ä»¶æå‰åŠ è½½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºspineæ ¼å¼çš„ç¤¼ç‰©ï¼Œå› ä¸ºç¤¾åŒºä¸Šå¯¹äºspineæ ¼å¼åŠ¨ç”»è§£å†³æ–¹æ¡ˆå¾ˆå°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå·±å°è£…äº†æ”¯æŒspineåŠ¨ç”»çš„åº“ã€‚&lt;br&gt;
åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åŠ¨ç”»æ— æ³•æ’­æ”¾æ—¶ï¼Œå°ç¨‹åºcanvas 2d çš„ç”»å¸ƒæœ‰ 4096 å¤§å°é™åˆ¶ã€‚æ’­æ”¾ä¸€äº›ç¤¼ç‰©çš„spineåŠ¨ç”»æ—¶ï¼Œç¤¼ç‰©è¿‡å¤§ï¼Œéœ€è¦å°†ç¤¼ç‰©å°ºå¯¸é™¤2ï¼Œç„¶åèµ‹å€¼ç»™canvasã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ’­æ”¾åŠ¨ç”»éŸ³æ•ˆçš„å‘ï¼šå¯¹äºå°ç¨‹åºiosçš„é™éŸ³æ¨¡å¼createInnerAudioContextå£°éŸ³ä¸æ’­æ”¾é—®é¢˜ï¼Œéœ€è¦å…¨å±€æŠŠwx.setInnerAudioOptionçš„obeyMuteSwitchè®¾ç½®ä¸ºfalse,è¿™æ ·å³ä½¿æ˜¯åœ¨é™éŸ³æ¨¡å¼ä¸‹ï¼Œä¹Ÿèƒ½æ’­æ”¾å£°éŸ³ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å°ç¨‹åºå‡çº§&#34;&gt;å°ç¨‹åºå‡çº§&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬ç›®å‰å…¨éƒ½æ˜¯é‡‡ç”¨çš„å¼ºåˆ¶å‡çº§ï¼Œåªæœ‰ç¡®å®šæŒ‰é’®ï¼Œç‚¹å‡»ç¡®å®šå°±ä¼šç«‹åˆ»è¿›è¡Œé‡å¯å¹¶å‡çº§ã€‚ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;æ›´æ–°å°ç¨‹åºä»£ç &lt;/summary&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;/*
 * @Date: 2022-05-30 15:27:36
 * @LastEditors: ç‹å¤§ä¼Ÿ
 * @LastEditTime: 2022-06-15 22:00:21
 */
import Taro from &#39;@tarojs/taro&#39;
export const updateWeapp = (isForce?: boolean): void =&amp;gt; {
  function tipModal(updateManager) {
    Taro.showModal({
      title: &#39;æ›´æ–°æç¤º&#39;,
      content: &#39;æ–°ç‰ˆæœ¬å·²ç»å‡†å¤‡å¥½ï¼Œæ˜¯å¦é©¬ä¸Šé‡å¯å°ç¨‹åºï¼Ÿ&#39;,
      showCancel: false,
      success: function (res) {
        if (res.confirm) {
          // æ–°çš„ç‰ˆæœ¬å·²ç»ä¸‹è½½å¥½ï¼Œè°ƒç”¨ applyUpdate åº”ç”¨æ–°ç‰ˆæœ¬å¹¶é‡å¯
          updateManager.applyUpdate()
        } else {
          if (isForce) {
            // æ–°ç‰ˆæœ¬çš„å°ç¨‹åºéœ€è¦ç­‰ä¸‹ä¸€æ¬¡å†·å¯åŠ¨æ‰ä¼šä½¿ç”¨ï¼Œæ‰€ä»¥è®©ç”¨æˆ·å¼ºåˆ¶æ›´æ–°
            tipModal(updateManager)
          }
        }
      }
    })
  }
  if (process.env.TARO_ENV === &#39;weapp&#39;) {
    const updateManager = Taro.getUpdateManager()
    updateManager.onCheckForUpdate(function (res) {
      // è¯·æ±‚å®Œæ–°ç‰ˆæœ¬ä¿¡æ¯çš„å›è°ƒ
      console.log(&#39;æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬: &#39;, res)
      if (res.hasUpdate) {
        updateManager.onUpdateReady(function () {
          console.log(&#39;å‡†å¤‡å¥½æ›´æ–°&#39;)
          tipModal(updateManager)
        })

        updateManager.onUpdateFailed(function () {
          // æ–°çš„ç‰ˆæœ¬ä¸‹è½½å¤±è´¥
          console.log(&#39;æ–°çš„ç‰ˆæœ¬ä¸‹è½½å¤±è´¥,èµ°è‡ªåŠ¨å¼‚æ­¥æ›´æ–°&#39;)
        })
      }
    })
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;h4 id=&#34;å°ç¨‹åºwebview&#34;&gt;å°ç¨‹åºwebview&lt;/h4&gt;
&lt;p&gt;é…ç½®ä¸å…¬ä¼—å·ã€‚å°ç¨‹åºä¸­åŠ è½½webviewï¼Œåªèƒ½å…¨å‡­åŠ è½½ï¼Œè€Œä¸”ç½‘é¡µçš„åŸŸåéœ€è¦åœ¨å°ç¨‹åºåå°é…ç½®æˆä¸šåŠ¡åŸŸåï¼Œæœ‰ä¸€ç§æƒ…å†µæ˜¯ä¸éœ€è¦çš„ï¼Œå°±æ˜¯åŠ è½½ä¸æ­¤å°ç¨‹åºç›¸å…³è”çš„å…¬ä¼—å·é¡µé¢æ—¶ï¼Œè¿™éœ€è¦å»å…¬ä¼—å·çš„åå°å»é…ç½®å…³è”å°ç¨‹åºã€‚&lt;/p&gt;
&lt;h4 id=&#34;å°ç¨‹åºå›¾ç‰‡&#34;&gt;å°ç¨‹åºå›¾ç‰‡&lt;/h4&gt;
&lt;p&gt;ä½ç«¯æœºå‹ä¸æ”¯æŒwebpï¼Œéœ€è¦å¯¹å›¾ç‰‡åšå¤„ç†ï¼Œæ£€æµ‹åˆ°ä¸æ”¯æŒwebpæ ¼å¼åˆ™å±•ç¤ºjpgæ ¼å¼å›¾ç‰‡ï¼Œä¸ç„¶æ— æ³•åŠ è½½ï¼Œæ£€æµ‹æ˜¯å¦æ”¯æŒwebpæ ¼å¼ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;webpå›¾ç‰‡æ”¯æŒæ£€æµ‹&lt;/summary&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;/**
 * webpå›¾ç‰‡æ”¯æŒæ£€æµ‹
 * @returns support æ˜¯å¦æ”¯æŒwebpå›¾ç‰‡
 */
function detectWebp() {
  if (_webpSupport === undefined) {
    let support = false

    try {
      let _wx$getSystemInfoSync = wx.getSystemInfoSync(),
        platform = _wx$getSystemInfoSync.platform,
        system = _wx$getSystemInfoSync.system
      // æ£€æµ‹IOSç³»ç»Ÿwebpæ”¯æŒ
      let versionResult = /[0-9.]*$/.exec(system)
      let systemVersion = versionResult ? versionResult[0] : &#39;&#39;
      let iosSystemSupport = platform === &#39;ios&#39; &amp;amp;&amp;amp; !!systemVersion &amp;amp;&amp;amp; compareVersion(systemVersion, &#39;14.0&#39;) &amp;gt;= 0

      support = platform === &#39;devtools&#39; || platform === &#39;android&#39; || iosSystemSupport

      _webpSupport = support
    } catch (e) {
      console.log(e)
      _webpSupport = false
    }
  }
  return _webpSupport
}
function compareVersion(v1, v2) {
  v1 = v1.split(&#39;.&#39;)
  v2 = v2.split(&#39;.&#39;)
  const len = Math.max(v1.length, v2.length)
  while (v1.length &amp;lt; len) {
    v1.push(&#39;0&#39;)
  }
  while (v2.length &amp;lt; len) {
    v2.push(&#39;0&#39;)
  }
  for (let i = 0; i &amp;lt; len; i++) {
    const num1 = parseInt(v1[i])
    const num2 = parseInt(v2[i])
    if (num1 &amp;gt; num2) {
      return 1
    } else if (num1 &amp;lt; num2) {
      return -1
    }
  }
  return 0
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
">æˆ‘ä»¬æ˜¯å¦‚ä½•ä»é›¶åˆ°ä¸€æ­å»ºç›´æ’­å°ç¨‹åºçš„</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/js-zan-shi-xing-si-qu"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;æš‚æ—¶æ€§æ­»åŒº(TDZ)æ˜¯é’ˆå¯¹&#39;const&#39;,&#39;let&#39;è¿™ä¸¤ä¸ªå…³é”®å­—è€Œäº§ç”Ÿçš„æ¦‚å¿µã€‚&lt;br&gt;
é¦–å…ˆå˜é‡æå‡è¿™ä¸ªjsçš„åŸºæœ¬æ¦‚å¿µæ— æ³•æ’¼åŠ¨ï¼Œ&#39;const&#39;å’Œ&#39;let&#39;ä½œä¸ºå—çº§ä½œç”¨åŸŸä¹Ÿä¸èƒ½é¿å…ã€‚&lt;br&gt;
å’Œ&#39;var&#39;ä¸åŒï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—å°†ä½œç”¨åŸŸé™åˆ¶åœ¨äº†â€˜å—â€™ä¸­ï¼Œä¸”è§„å®šäº†åœ¨è¯¥å—ä¸­ï¼Œç”±è¿™ä¸¤ä¸ªå…³é”®å­—å®šä¹‰çš„å˜é‡å·²ç»è¢«åˆ†é…å†…å­˜ã€‚&lt;br&gt;
å³å…¶å®å·²ç»&#39;å­˜åœ¨&#39;äº†ï¼Œä½†ç¨‹åºæœªæ‰§è¡Œåˆ°å£°æ˜å¤„æ—¶ï¼Œè®¿é—®è¯¥å˜é‡éƒ½ä¼šæŠ¥å¼•ç”¨é”™è¯¯ã€‚&lt;br&gt;
è¿™ä¸ªæ—¶å€™ï¼Œå¯¹äºè¯¥å˜é‡æ¥è¯´å°±æ˜¯&#39;æš‚æ—¶æ€§æ­»åŒº&#39;ï¼Œé€šä¿—æ¥è¯´å°±æ˜¯è¯¥å˜é‡å­˜åœ¨ï¼Œä½†å¹¶æœªå®Œå…¨å­˜åœ¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;if (true) {
  // TDZå¼€å§‹
  tmp = &#39;abc&#39;; // ReferenceError
  console.log(tmp); // ReferenceError


  let tmp; // TDZç»“æŸ
  console.log(tmp); // undefined


  tmp = 123;
  console.log(tmp); // 123
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ï¼Œåœ¨letå‘½ä»¤å£°æ˜å˜é‡tmpä¹‹å‰ï¼Œéƒ½å±äºå˜é‡tmpçš„â€œæ­»åŒºâ€&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var tmp = 123;
if (true) {
  tmp = &#39;abc&#39;; // ReferenceError
  let tmp;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ï¼Œå­˜åœ¨å…¨å±€å˜é‡tmpï¼Œä½†æ˜¯å—çº§ä½œç”¨åŸŸå†…letåˆå£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡tmpï¼Œå¯¼è‡´åè€…ç»‘å®šè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨letå£°æ˜å˜é‡å‰ï¼Œå¯¹tmpèµ‹å€¼ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;p&gt;ES6 æ˜ç¡®è§„å®šï¼Œå¦‚æœåŒºå—ä¸­å­˜åœ¨letå’Œconstå‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// ä¸æŠ¥é”™
var x = x;
// æŠ¥é”™
let x = x;
// ReferenceError: x is not defined
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä»£ç æŠ¥é”™ï¼Œä¹Ÿæ˜¯å› ä¸ºæš‚æ—¶æ€§æ­»åŒºã€‚ä½¿ç”¨letå£°æ˜å˜é‡æ—¶ï¼Œåªè¦å˜é‡åœ¨è¿˜æ²¡æœ‰å£°æ˜å®Œæˆå‰ä½¿ç”¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚ä¸Šé¢è¿™è¡Œå°±å±äºè¿™ä¸ªæƒ…å†µï¼Œåœ¨å˜é‡xçš„å£°æ˜è¯­å¥è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆå‰ï¼Œå°±å»å–xçš„å€¼ï¼Œå¯¼è‡´æŠ¥é”™â€x æœªå®šä¹‰â€œ&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡è½¬è½½è‡ªhttps://blog.csdn.net/zzzzz111333/article/details/122562000&lt;/p&gt;
">jsæš‚æ—¶æ€§æ­»åŒº</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/li-yong-imagedata-shi-xian-tu-pian-fan-zhuan-he-shi-pin-jing-xiang"" data-c="
          &lt;p&gt;æœ€è¿‘åœ¨æè§†é¢‘ç›´æ’­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåŠŸèƒ½æ˜¯è§†é¢‘é•œåƒï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§å®ç°æ–¹å¼ã€‚&lt;br&gt;
ä¸€ç§æ˜¯è€å¸ˆç«¯ç‚¹å‡»é•œåƒï¼Œé€šè¿‡cssæŠŠè‡ªå·±çš„videoæ ‡ç­¾é•œåƒï¼Œç„¶åå‘é€ä¿¡ä»¤ç»™å­¦ç”Ÿç«¯ï¼Œå­¦ç”Ÿç«¯æ”¶åˆ°æ¶ˆæ¯ä¹‹åä¹Ÿé€šè¿‡csså»å®ç°é•œåƒï¼›&lt;br&gt;
ç¬¬äºŒç§å°±æ˜¯è€å¸ˆç«¯å¯¹è§†é¢‘æµåšä¸€ä¸ªé•œåƒå¤„ç†ï¼Œå­¦ç”Ÿç«¯æ— éœ€æ“ä½œï¼Œå¾ˆæ˜¾ç„¶ç¬¬äºŒç§æ–¹æ³•æ¯”è¾ƒå¥½ï¼›&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆå®ç°å¯¹è§†é¢‘æµçš„é•œåƒå‘¢ï¼Œé¦–å…ˆè¦çŸ¥é“çš„å°±æ˜¯è§†é¢‘æ˜¯ç”±ä¸€å¸§å¸§çš„å›¾ç‰‡ç»„åˆè€Œæˆï¼Œæˆ‘ä»¬è¦å¯¹è§†é¢‘æµé•œåƒï¼Œé¦–å…ˆè¦å¯¹å›¾ç‰‡è¿›è¡Œé•œåƒã€‚&lt;/p&gt;
&lt;p&gt;å¯¹å›¾ç‰‡é•œåƒçš„è¯ï¼Œå°±è¦å¯¹ImageDataåšå¤„ç†&lt;br&gt;
é¦–å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ImageDataï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ImageData æ¥å£æè¿° canvas å…ƒç´ çš„ä¸€ä¸ªéšå«åƒç´ æ•°æ®çš„åŒºåŸŸã€‚ä½¿ç”¨ ImageData() æ„é€ å‡½æ•°åˆ›å»ºæˆ–è€…ä½¿ç”¨å’Œ canvas åœ¨ä¸€èµ·çš„ CanvasRenderingContext2D å¯¹è±¡çš„åˆ›å»ºæ–¹æ³•ï¼š createImageData() å’Œ getImageData()ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ putImageData() è®¾ç½® canvas çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æˆ‘ä»¬å…ˆä»¥æ—‹è½¬å›¾ç‰‡ä¸ºä¾‹å­åšä¸ªè¯´æ˜&#34;&gt;æˆ‘ä»¬å…ˆä»¥æ—‹è½¬å›¾ç‰‡ä¸ºä¾‹å­åšä¸ªè¯´æ˜&lt;/h4&gt;
&lt;h5 id=&#34;åŸºæœ¬åŸç†1åƒç´ çŸ©é˜µå˜æ¢&#34;&gt;åŸºæœ¬åŸç†1â€”â€”åƒç´ çŸ©é˜µå˜æ¢&lt;/h5&gt;
&lt;p&gt;ImageDataå¯¹è±¡ä¸­å­˜å‚¨ç€canvaså¯¹è±¡çœŸå®çš„åƒç´ æ•°æ®ï¼Œå®ƒåŒ…å«ä»¥ä¸‹å‡ ä¸ªåªè¯»å±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;width  å›¾ç‰‡å®½åº¦ï¼Œå•ä½æ˜¯åƒç´ &lt;/li&gt;
&lt;li&gt;height  å›¾ç‰‡é«˜åº¦ï¼Œå•ä½æ˜¯åƒç´ &lt;/li&gt;
&lt;li&gt;data  &lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray&#34;&gt;Uint8ClampedArray&lt;/a&gt;ç±»å‹çš„ä¸€ç»´æ•°ç»„ï¼ŒåŒ…å«ç€RGBAæ ¼å¼çš„æ•´å‹æ•°æ®ï¼ŒèŒƒå›´åœ¨0è‡³255ä¹‹é—´ï¼ˆåŒ…æ‹¬255ï¼‰ã€‚&lt;br&gt;
dataå±æ€§è¿”å›ä¸€ä¸ª Uint8ClampedArrayï¼Œå®ƒå¯ä»¥è¢«ä½¿ç”¨ä½œä¸ºæŸ¥çœ‹åˆå§‹åƒç´ æ•°æ®ã€‚æ¯ä¸ªåƒç´ ç”¨4ä¸ª1byteså€¼(æŒ‰ç…§çº¢ï¼Œç»¿ï¼Œè“å’Œé€æ˜å€¼çš„é¡ºåº; è¿™å°±æ˜¯&amp;quot;RGBA&amp;quot;æ ¼å¼) æ¥ä»£è¡¨ã€‚æ¯ä¸ªé¢œè‰²å€¼éƒ¨ä»½ç”¨0è‡³255æ¥ä»£è¡¨ã€‚æ¯ä¸ªéƒ¨ä»½è¢«åˆ†é…åˆ°ä¸€ä¸ªåœ¨æ•°ç»„å†…è¿ç»­çš„ç´¢å¼•ï¼Œå·¦ä¸Šè§’åƒç´ çš„çº¢è‰²éƒ¨ä»½åœ¨æ•°ç»„çš„ç´¢å¼•0ä½ç½®ã€‚åƒç´ ä»å·¦åˆ°å³è¢«å¤„ç†ï¼Œç„¶åå¾€ä¸‹ï¼Œéå†æ•´ä¸ªæ•°ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“è¯·çœ‹&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas&#34;&gt;åƒç´ æ“ä½œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€šè¿‡ImageDataå¯ä»¥å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ ç‚¹åšæ“ä½œã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦å°†å›¾ç‰‡å‘å³æ—‹è½¬90åº¦&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª 4 Ã— 3 åƒç´ çš„åŸå§‹å›¾ç‰‡ï¼Œå¯ä»¥çœ‹ä½œå¦‚ä¸‹å½¢å¼çš„åƒç´ çŸ©é˜µ Aï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858122464.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å›¾ç‰‡å‘å³æ—‹è½¬ 90Â°ï¼Œå®è´¨å°±æ˜¯è®¾æ³•å°† A å˜ä¸º Aâ€™ â€”â€”&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858132107.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¿™å¯ä»¥é€šè¿‡åŸçŸ©é˜µä¸€æ¬¡ è½¬ç½®ã€ä¸å¤šæ¬¡åˆç­‰ åˆ— å˜æ¢ï¼ˆé€†åºæ’åˆ—å„åˆ—ï¼‰å¾—åˆ°ï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858162556.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åŒç†ï¼Œå›¾ç‰‡å‘å·¦æ—‹è½¬ 90Â°ï¼Œå®é™…ä¸Šå°±æ˜¯å¾—åˆ°çŸ©é˜µ Aâ€™&#39; ï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858170777.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¿™å¯ä»¥é€šè¿‡åŸçŸ©é˜µä¸€æ¬¡ è½¬ç½®ã€ä¸å¤šæ¬¡åˆç­‰ è¡Œ å˜æ¢ï¼ˆé€†åºæ’åˆ—å„è¡Œï¼‰å¾—åˆ°â€”â€”&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858177575.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;åŸºæœ¬åŸç†2åƒç´ æ•°ç»„ä¸çŸ©é˜µçš„å¯¹åº”å…³ç³»&#34;&gt;åŸºæœ¬åŸç†2â€”â€”åƒç´ æ•°ç»„ä¸çŸ©é˜µçš„å¯¹åº”å…³ç³»&lt;/h5&gt;
&lt;p&gt;ç”±äº ImageData.data å¯¹åº”ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹äº 4 Ã— 3 çš„å›¾ç‰‡è€Œè¨€ï¼ŒImageData.data å°±æ˜¯ä¸€ä¸ªå…·æœ‰ 48 ä¸ªå…ƒç´ çš„æ•°ç»„ Dï¼Œä¸å¦¨æ¯ä¸ªå…ƒç´ çš„å€¼å°±æ˜¯å…¶ä¸‹æ ‡å€¼ï¼Œåˆ™ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;D=[0,1,2,3,4,5,6,7...44,45,46,47]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­ï¼š&lt;br&gt;
å…ƒç»„ (0, 1, 2, 3) è¡¨ç¤ºç¬¬ 1(= 0 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(0, 1, 2, 3/255)ï¼›&lt;br&gt;
å…ƒç»„ (4, 5, 6, 7) è¡¨ç¤ºç¬¬ 2(= 4 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(4, 5, 6, 7/255)ï¼›&lt;br&gt;
å…ƒç»„ (8, 9, 10, 11) è¡¨ç¤ºç¬¬ 3(= 8 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(8, 9, 10, 11/255)ï¼›&lt;br&gt;
â€¦&lt;/p&gt;
&lt;p&gt;å…ƒç»„ (i, i+1, i+2, i+3) è¡¨ç¤ºç¬¬ (i / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(i, i+1, i+2, (i+3)/255)ï¼›&lt;br&gt;
â€¦&lt;br&gt;
å…ƒç»„ (44, 45, 46, 47) è¡¨ç¤ºç¬¬ 12(= 44 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(44, 45, 46, 47/255)ã€‚&lt;/p&gt;
&lt;p&gt;å¯è§ä» 0 å¼€å§‹éå† D æ•°ç»„ï¼Œæ¯æ¬¡é€’å¢ 4 ä¸ªå•ä½ï¼Œå³å¯ä¾æ¬¡å¾—åˆ°å„ä¸ªåƒç´ çš„çº¢è‰²å€¼ Rï¼Œå†ä¾æ¬¡åŠ 1ã€åŠ 2ã€åŠ 3ï¼Œå³å¾—åˆ°å¯¹åº”çš„ç»¿è‰²å€¼ Gã€è“è‰²å€¼ Bã€ç­‰æ•ˆ Î± é€šé“å€¼ Aã€‚&lt;/p&gt;
&lt;p&gt;åä¹‹ï¼Œå¦‚æœçŸ¥é“å›¾ç‰‡çš„åƒç´ å°ºå¯¸ä¸º 4 Ã— 3ï¼Œåˆ™å¯ä»¥é€šè¿‡ä¸‹å›¾æ‰¾åˆ°æ•°ç»„ D çš„å„ä¸ªå…ƒç´ ï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858189293.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯è§å„åƒç´ ç‚¹æ˜¯æŒ‰ç…§ ä»å·¦è‡³å³ã€ä»ä¸Šè‡³ä¸‹ çš„é¡ºåºæ’åˆ—çš„ã€‚è®¾å›¾ç‰‡æ€»å®½åº¦åƒç´ ä¸º Wï¼Œæ€»é«˜åº¦åƒç´ ä¸º Hï¼Œä»»ä¸€åƒç´ ç‚¹ P çš„åæ ‡ä¸º (x, y)ï¼ŒP çš„çº¢è‰²å€¼åœ¨æ•°ç»„ D çš„ä¸‹æ ‡ä¸º R(x, y)ï¼Œåˆ™ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;R(x,y)=(x+W*y)Ã—4
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;éªŒè¯ï¼šï¼ˆx ä¸ y å‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰&lt;/p&gt;
&lt;p&gt;R(2, 1) = (2 + 1 Ã— 4) Ã— 4 = 24&lt;br&gt;
R(1, 2) = (1 + 2 Ã— 4) Ã— 4 = 36&lt;br&gt;
R(3, 1) = (3 + 1 Ã— 4) Ã— 4 = 28&lt;/p&gt;
&lt;p&gt;æ‹¿åˆ°äº† R(x, y)ï¼Œä¸éš¾æ±‚å‡ºè¯¥åƒç´ çš„çºµå‘ä¸­å¿ƒå¯¹ç§°åƒç´  Rh(x, y)ã€æ¨ªå‘ä¸­å¿ƒå¯¹ç§°åƒç´  Rw(x, y)ã€ä»¥åŠä¸»å¯¹è§’çº¿å¯¹ç§°åƒç´  Rd(x, y)ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;Rh(x,y)=[x+W*(Hâˆ’1âˆ’y)]*4 // åˆç­‰è¡Œå˜æ¢
Rw(x,y)=[(Wâˆ’1âˆ’x)+W*y]*4 // åˆç­‰åˆ—å˜æ¢
Rd(x,y)=(y+H*x)*4
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;å…·ä½“å®ç°&#34;&gt;å…·ä½“å®ç°&lt;/h5&gt;
&lt;p&gt;åŸºæœ¬æ€è·¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ canvas è·å–ç›®æ ‡å›¾ç‰‡çš„ ImageData å¯¹è±¡ï¼›&lt;/li&gt;
&lt;li&gt;è½¬ç½®åŸå›¾ç‰‡æ•°ç»„ï¼Œå¾—åˆ°æ•°ç»„ ATï¼›&lt;/li&gt;
&lt;li&gt;å¯¹ AT æ‰§è¡Œä¸€ç»„åˆç­‰è¡Œå˜æ¢ï¼Œä½¿å„è¡Œé€†åºæ’åˆ—ï¼Œå¾—åˆ°å·¦æ—‹ 90Â° æ•ˆæœï¼›&lt;/li&gt;
&lt;li&gt;å¯¹ AT æ‰§è¡Œä¸€ç»„åˆç­‰åˆ—å˜æ¢ï¼Œä½¿å„åˆ—é€†åºæ’åˆ—ï¼Œå¾—åˆ°å³æ—‹ 90Â° æ•ˆæœï¼›&lt;/li&gt;
&lt;li&gt;å°†æ–°çš„åƒç´ æ•°ç»„å†™å›å›¾ç‰‡æºæ ‡ç­¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;HTMLï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;
    &amp;lt;title&amp;gt;Rotate by ImageData&amp;lt;/title&amp;gt;
    &amp;lt;style&amp;gt;
        .image{ margin-top: 5px; }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div class=&amp;quot;btns&amp;quot;&amp;gt;
        &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;å·¦è½¬ 90Â°&amp;quot; id=&amp;quot;turnLeft&amp;quot; /&amp;gt;
        &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;å³è½¬ 90Â°&amp;quot; id=&amp;quot;turnRight&amp;quot; /&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;div class=&amp;quot;image&amp;quot;&amp;gt;
        &amp;lt;img id=&amp;quot;fruit&amp;quot; src=&amp;quot;fruit.jpg&amp;quot; class=&amp;quot;image&amp;quot; alt=&amp;quot;fruit&amp;quot; title=&amp;quot;fruit&amp;quot; /&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;script src=&amp;quot;imageRotate.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;imageRotate.jsï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;document.querySelector(&#39;#turnLeft&#39; ).addEventListener(&#39;click&#39;, e =&amp;gt; rotateImage(&#39;l&#39;))
document.querySelector(&#39;#turnRight&#39;).addEventListener(&#39;click&#39;, e =&amp;gt; rotateImage(&#39;r&#39;))

function rotateImage(direction = &#39;l&#39;) {
    // 1. Prepare ImageData
    let img = document.querySelector(&#39;#fruit&#39;)
    const { width: W, height: H } = img
    let cvs = document.createElement(&#39;canvas&#39;)
    cvs.width = W
    cvs.height = H
    let ctx = cvs.getContext(&#39;2d&#39;)
    ctx.drawImage(img, 0, 0)
    let imgDt0 = ctx.getImageData(0, 0, W, H)
    let imgDt1 = new ImageData(H, W)
    let imgDt2 = new ImageData(H, W)
    let dt0 = imgDt0.data
    let dt1 = imgDt1.data
    let dt2 = imgDt2.data

    // 2. Transpose
    let r = r1 = 0  // index of red pixel in old and new ImageData, respectively
    for (let y = 0, lenH = H; y &amp;lt; lenH; y++) {
        for (let x = 0, lenW = W; x &amp;lt; lenW; x++) {
            r  = (x + lenW * y) * 4
            r1 = (y + lenH * x) * 4
            dt1[r1 + 0] = dt0[r + 0]
            dt1[r1 + 1] = dt0[r + 1]
            dt1[r1 + 2] = dt0[r + 2]
            dt1[r1 + 3] = dt0[r + 3]
        }
    }
    
    // 3. Reverse width / height
    for (let y = 0, lenH = W; y &amp;lt; lenH; y++) {
        for (let x = 0, lenW = H; x &amp;lt; lenW; x++) {
            r  = (x + lenW * y) * 4
            r1 = direction === &#39;l&#39;
                ? (x + lenW * (lenH - 1 - y)) * 4
                : ((lenW - 1 - x) + lenW * y) * 4
            dt2[r1 + 0] = dt1[r + 0]
            dt2[r1 + 1] = dt1[r + 1]
            dt2[r1 + 2] = dt1[r + 2]
            dt2[r1 + 3] = dt1[r + 3]
        }
    }
    
    // 4. Redraw image
    cvs.width = H
    cvs.height = W
    ctx.clearRect(0, 0, W, H)
    ctx.putImageData(imgDt2, 0, 0, 0, 0, H, W)
    img.src = cvs.toDataURL(&#39;image/jpeg&#39;, 1)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;br&gt;
åŸå§‹å›¾ç‰‡&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858200595.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å·¦è½¬90åº¦&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858207477.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å³è½¬90åº¦&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647858214763.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œç°åœ¨å®ç°äº†å›¾ç‰‡æ—‹è½¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€å¥—ç”¨å…¬å¼å®ç°å›¾ç‰‡é•œåƒå’Œè§†é¢‘é•œåƒ&lt;/p&gt;
&lt;p&gt;html&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot; /&amp;gt;
    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0&amp;quot; /&amp;gt;
    &amp;lt;meta http-equiv=&amp;quot;X-UA-Compatible&amp;quot; content=&amp;quot;ie=edge&amp;quot; /&amp;gt;
    &amp;lt;title&amp;gt;jsé€šè¿‡æµè§ˆå™¨è°ƒç”¨æ‘„åƒå¤´&amp;lt;/title&amp;gt;
    &amp;lt;style&amp;gt;
    #video {
        /* transform: rotate3d(1, 1, 1, 45deg); */
    }
    &amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div class=&amp;quot;banner&amp;quot;&amp;gt;
    &amp;lt;video id=&amp;quot;video&amp;quot; width=&amp;quot;500px&amp;quot; height=&amp;quot;500px&amp;quot; autoplay=&amp;quot;autoplay&amp;quot; /&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;canvas width=&amp;quot;500&amp;quot; height=&amp;quot;500&amp;quot; id=&amp;quot;canvas&amp;quot;&amp;gt;&amp;lt;/canvas&amp;gt;
    &amp;lt;video
    id=&amp;quot;video2&amp;quot;
    width=&amp;quot;500px&amp;quot;
    height=&amp;quot;500px&amp;quot;
    autoplay=&amp;quot;autoplay&amp;quot;
    controls=&amp;quot;controls&amp;quot;
    /&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;!-- &amp;lt;script src=&amp;quot;./test.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; --&amp;gt;
&amp;lt;script&amp;gt;
    function getMedia() {
    let video = document.getElementById(&amp;quot;video&amp;quot;);
    let constraints = {
        video: { width: 500, height: 500 },
        audio: false,
    };
    navigator.getUserMedia =
        navigator.getUserMedia ||
        navigator.webkitGetUserMedia ||
        navigator.mozGetUserMedia ||
        navigator.msGetUserMedia;
    let promise = navigator.mediaDevices.getUserMedia(
        constraints,
        function (stream) {
        video.src = stream;
        video.play();
        },
        function (error) {
        console.log(error);
        }
    );
    promise.then(function (MediaStream) {
        video.srcObject = MediaStream;
        video.play();
    });
    }

    getMedia();
    window.onload = () =&amp;gt; {
    const data = [];
    var recorder;
    // è·å–è§†é¢‘æµä¹‹åï¼Œç”¨canvaså¯¹è§†é¢‘è¿›è¡Œåè½¬ï¼Œç„¶åä½¿ç”¨captureStreamè·å–è§†é¢‘æµï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡å£°ç½‘è‡ªå®šä¹‰æµè·å–è§†é¢‘è½¨é“getVideoTracksã€‚ä»£ç ä¸­ä¸ºäº†æµ‹è¯•canvasè½¬è§†é¢‘å¯ç”¨ï¼Œè°ƒç”¨äº†MediaRecorderå½•åˆ¶
    function imageDataHRevert(sourceData, newData) {
        for (var i = 0, h = sourceData.height; i &amp;lt; h; i++) {
        for (j = 0, w = sourceData.width; j &amp;lt; w; j++) {
            newData.data[i * w * 4 + j * 4 + 0] =
            // (y*W+x)*4
            sourceData.data[i * w * 4 + (w - j) * 4  -4+ 0];
            // (y*W+(W-x-1))*4
            newData.data[i * w * 4 + j * 4 + 1] =
            sourceData.data[i * w * 4 + (w - j) * 4 -4+ 1];

            newData.data[i * w * 4 + j * 4 + 2] =
            sourceData.data[i * w * 4 + (w - j) * 4 -4+ 2];

            newData.data[i * w * 4 + j * 4 + 3] =
            sourceData.data[i * w * 4 + (w - j) * 4-4 + 3];
        }
        }
        return newData;
    }
    function imageDataVRevert(sourceData, newData) {
        for (var i = 0, h = sourceData.height; i &amp;lt; h; i++) {
        for (var j = 0, w = sourceData.width; j &amp;lt; w; j++) {
            newData.data[i * w * 4 + j * 4 + 0] =
            sourceData.data[(h - i) * w * 4 + j * 4 + 0];

            newData.data[i * w * 4 + j * 4 + 1] =
            sourceData.data[(h - i) * w * 4 + j * 4 + 1];

            newData.data[i * w * 4 + j * 4 + 2] =
            sourceData.data[(h - i) * w * 4 + j * 4 + 2];

            newData.data[i * w * 4 + j * 4 + 3] =
            sourceData.data[(h - i) * w * 4 + j * 4 + 3];
        }
        }

        return newData;
    }

    function render() {
        var canvas = document.getElementById(&amp;quot;canvas&amp;quot;);
        var video = document.getElementById(&amp;quot;video&amp;quot;);
        var ctx1 = canvas.getContext(&amp;quot;2d&amp;quot;);
        ctx1.drawImage(video, 0, 0, 500, 500);
        var imgData = ctx1.getImageData(0, 0, 500, 500);
        var newImgData = ctx1.getImageData(0, 0, 500, 500);
        const HRevet = imageDataHRevert(newImgData, imgData);
        console.error(HRevet, &amp;quot;HRevet&amp;quot;);
        // äº®ä¸€ç‚¹
        for (var i = 0; i &amp;lt; HRevet.data.length; i += 4) {
        HRevet.data[i] += 5;
        HRevet.data[i + 1] += 5;
        HRevet.data[i + 2] += 5;
        }
        ctx1.putImageData(HRevet, 0, 0);
        requestAnimationFrame(render);
    }
    requestAnimationFrame(render);
    const stream = canvas.captureStream(30);
    // todo è‡ªå®šä¹‰è§†é¢‘ canvas.captureStream(30).getVideoTracks()[0]
    console.error(stream, &amp;quot;stream&amp;quot;);
    // è‡ªå·±æµ‹è¯•å½•åˆ¶è§†é¢‘çš„ï¼Œå¯ä»¥ä¸ç”¨çœ‹
    recorder = new MediaRecorder(stream, { mimeType: &amp;quot;video/webm&amp;quot; });
    recorder.ondataavailable = function (event) {
        if (event.data &amp;amp;&amp;amp; event.data.size) {
        data.push(event.data);
        }
    };
    recorder.onstop = () =&amp;gt; {
        const url = URL.createObjectURL(new Blob(data, { type: &amp;quot;video/webm&amp;quot; }));
        document.getElementById(&amp;quot;video2&amp;quot;).src = url;
    };
    recorder.start();
    setTimeout(() =&amp;gt; {
        recorder.stop();
    }, 6000);
    };
&amp;lt;/script&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1647859629847.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h5 id=&#34;å¤§å®¶çœ‹çš„å¯èƒ½æœ‰ç‚¹æ‡µæ²¡å…³ç³»æ‹¿ä¸ªçº¸ç”»ä¸€ä¸‹ç„¶åå»å¥—ç”¨å…¬å¼å°±å¥½äº†ä¸€æ¬¡ä¸æ‡‚å°±å¤šè¯•å‡ æ¬¡-çœ‹ä¸æ‡‚ä¸€å®šè¦æ‹¿å¼ çº¸ç”»ä¸€ä¸‹&#34;&gt;å¤§å®¶çœ‹çš„å¯èƒ½æœ‰ç‚¹æ‡µï¼Œæ²¡å…³ç³»ï¼Œæ‹¿ä¸ªçº¸ç”»ä¸€ä¸‹ï¼Œç„¶åå»å¥—ç”¨å…¬å¼å°±å¥½äº†ï¼Œä¸€æ¬¡ä¸æ‡‚å°±å¤šè¯•å‡ æ¬¡ã€‚çœ‹ä¸æ‡‚ä¸€å®šè¦æ‹¿å¼ çº¸ç”»ä¸€ä¸‹ï¼&lt;/h5&gt;
&lt;p&gt;ç®€å•çš„å¢åŠ ç¾ç™½æ•ˆæœï¼ˆäº®åº¦ï¼‰ï¼Œå¯ç»™æ¯ä¸ªrgbé€šé“åŠ ç‰¹å®šå€¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;r1 = (x + W * y) * 4;
r1 = (x + W * (H - 1 - y)) * 4;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¨èä¸€ä¸ªç¾é¢œåº“ï¼šopencvjs&lt;br&gt;
æ¨èä¸€ä¸ªäººè„¸è¯†åˆ«åº“ï¼šface-api.js https://www.cnblogs.com/neozhu/p/11771148.html&lt;/p&gt;
&lt;p&gt;éƒ¨åˆ†å†…å®¹å‚è€ƒè‡ª https://blog.csdn.net/frgod/article/details/106055830&lt;/p&gt;
">åˆ©ç”¨ ImageData å®ç°å›¾ç‰‡ç¿»è½¬å’Œè§†é¢‘é•œåƒ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/taro-jie-jue-xiao-cheng-xu-bao-ti-ji-guo-da-de-wen-ti"" data-c="
          &lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1646137679298.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›®å‰å°ç¨‹åºåˆ†åŒ…å¤§å°æœ‰ä»¥ä¸‹é™åˆ¶ï¼š&lt;br&gt;
æ•´ä¸ªå°ç¨‹åºæ‰€æœ‰åˆ†åŒ…å¤§å°ä¸è¶…è¿‡ 8M&lt;br&gt;
å•ä¸ªåˆ†åŒ…/ä¸»åŒ…å¤§å°ä¸èƒ½è¶…è¿‡ 2M&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰€ä»¥è¯´8Mçš„é™åˆ¶æ˜¯è¦åˆ†åŒ…è‡³å°‘4ä¸ªåŒ…ï¼Œå•ä¸ªåˆ†åŒ…ä¸Šé™å…¶å®è¿˜æ˜¯2M&lt;/p&gt;
&lt;h3 id=&#34;è§£å†³è¿™ä¸ªé—®é¢˜ä¸€ç§æ˜¯åˆ†åŒ…&#34;&gt;è§£å†³è¿™ä¸ªé—®é¢˜ä¸€ç§æ˜¯åˆ†åŒ…&lt;/h3&gt;
&lt;p&gt;å®˜æ–¹ç»™å‡ºçš„åˆ†åŒ…&lt;a href=&#34;https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html&#34;&gt;å®˜ç½‘æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¦ä¸€ç§æ˜¯å‡å°‘åŒ…ä¸­çš„å›¾ç‰‡&#34;&gt;å¦ä¸€ç§æ˜¯å‡å°‘åŒ…ä¸­çš„å›¾ç‰‡&lt;/h3&gt;
&lt;p&gt;å…¶å®é€ æˆåŒ…ä½“ç§¯è¿‡å¤§çš„å› ç´ ï¼Œå¾ˆå¤§åŸå› æ˜¯å› ä¸ºåŒ…é‡Œæœ‰å›¾ç‰‡ï¼Œé‚£ä½“ç§¯å°±ä¼šå˜å¾—å¾ˆå¤§ã€‚é‚£æˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡ä¸Šä¼ åˆ°CDNä¸Šï¼Œå˜æˆç½‘ç»œé“¾æ¥ï¼Œè¿™æ ·çš„è¯å°±ä¸ä¼šæŠŠå›¾ç‰‡æ‰“åŒ…è¿›å»äº†ã€‚ä½†æ˜¯è¿™æ ·åˆæœ‰ä¸€ä¸ªä¸è¶³ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬ä¸€å¼€å§‹å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼ŒUIåŒå­¦ç»™äº†æˆ‘ä»¬è®¾è®¡å›¾ï¼Œé‚£æˆ‘ä»¬è¦å°†å›¾ç‰‡ä¸€å¼ å¼ çš„ä¸Šä¼ åˆ°CDNä¸Šå»å—ï¼Ÿå¦‚æœåæœŸUIèµ°æŸ¥çš„æ—¶å€™è¦æ¢å›¾ç‰‡å‘¢ï¼Ÿè€Œä¸”ä¸‡ä¸€CDNä¸Šçš„å›¾ç‰‡è¢«äººè¯¯åˆ äº†æˆ–è€…æœåŠ¡åˆ°æœŸäº†å‘¢ï¼ˆå½“ç„¶è¿™ç§å¯èƒ½æ€§å¾ˆå°ï¼Œä½†ä¹Ÿå¯ä»¥è€ƒè™‘è¿›å»ï¼‰ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„åŸå›¾éƒ½ä¼šæ‰¾ä¸åˆ°ï¼Œåªèƒ½å¹²ç€æ€¥ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é‚£ä¹ˆæœ€å¥½çš„æ–¹å¼å°±æ˜¯å°†å›¾ç‰‡æ”¾åœ¨é¡¹ç›®ä¸­æœ¬åœ°å¼€å‘çš„æ—¶å€™å¼•ç”¨çš„å°±æ˜¯æœ¬åœ°çš„å¢åˆ æ”¹æ‰¾èµ·æ¥ä¹Ÿæ–¹ä¾¿ä½†æ˜¯æ‰“åŒ…æ„å»ºçš„æ—¶å€™å°†å›¾ç‰‡å‹ç¼©å¹¶ä¸Šä¼ cdnåŒæ—¶å°†é¡¹ç›®ä¸­çš„å›¾ç‰‡å¼•ç”¨è·¯å¾„æ”¹æˆç½‘ç»œé“¾æ¥ç„¶ååˆ é™¤distä¸­çš„æ‰€æœ‰å›¾ç‰‡-é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±å†™ä¸ªè„šæœ¬å®ç°ä¸€ä¸‹&#34;&gt;é‚£ä¹ˆæœ€å¥½çš„æ–¹å¼å°±æ˜¯å°†å›¾ç‰‡æ”¾åœ¨é¡¹ç›®ä¸­ï¼Œæœ¬åœ°å¼€å‘çš„æ—¶å€™å¼•ç”¨çš„å°±æ˜¯æœ¬åœ°çš„ï¼Œå¢åˆ æ”¹æ‰¾èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œä½†æ˜¯æ‰“åŒ…æ„å»ºçš„æ—¶å€™å°†å›¾ç‰‡å‹ç¼©å¹¶ä¸Šä¼ CDNï¼ŒåŒæ—¶å°†é¡¹ç›®ä¸­çš„å›¾ç‰‡å¼•ç”¨è·¯å¾„æ”¹æˆç½‘ç»œé“¾æ¥ï¼Œç„¶ååˆ é™¤distä¸­çš„æ‰€æœ‰å›¾ç‰‡ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±å†™ä¸ªè„šæœ¬å®ç°ä¸€ä¸‹ã€‚&lt;/h4&gt;
&lt;p&gt;ç›´æ¥ä¸Šä»£ç å§&lt;/p&gt;
&lt;h4 id=&#34;å…ˆå†™ä¸Šä¼ æ–¹æ³•ç”¨äºæ‰“åŒ…å®Œä¸Šä¼ å…ˆå‹ç¼©å†ä¸Šä¼ åˆ°é˜¿é‡Œoss&#34;&gt;å…ˆå†™ä¸Šä¼ æ–¹æ³•ï¼Œç”¨äºæ‰“åŒ…å®Œä¸Šä¼ ï¼Œå…ˆå‹ç¼©å†ä¸Šä¼ åˆ°é˜¿é‡Œoss&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// config/upload.js
const OSS = require(&amp;quot;ali-oss&amp;quot;);
const fs = require(&amp;quot;fs&amp;quot;);
const path = require(&amp;quot;path&amp;quot;);
const rimraf = require(&amp;quot;rimraf&amp;quot;);
const imagemin = require(&#39;imagemin&#39;)
const imageminJpegtran = require(&#39;imagemin-jpegtran&#39;)
const imageminPngquant = require(&#39;imagemin-pngquant&#39;)
const imageminSvgo = require(&#39;imagemin-svgo&#39;)
const imageminGifsicle = require(&#39;imagemin-gifsicle&#39;)

const client = new OSS({
  region: &amp;quot;&amp;quot;,
  endpoint: &amp;quot;&amp;quot;,
  accessKeyId: &amp;quot;&amp;quot;,
  accessKeySecret: &amp;quot;&amp;quot;,
  bucket: &amp;quot;&amp;quot;
});
async function compress() {
  const files = await imagemin([&#39;../dist/**/*.{jpg,jpeg,png,svg,gif}&#39;], {
    destination: &#39;../dist/assets&#39;,
    plugins: [
      imageminJpegtran({
        progressive: true,
        quality: 80,
      }),
      imageminPngquant({
        quality: [0.6, 0.8],
      }),
      imageminSvgo({
        plugins: [{ removeViewBox: false }],
      }),
      imageminGifsicle(),
    ],
  })
  console.log(&#39;compress all images success!&#39;.info)
  return files
}
const putOSS = async function(src, dist) {
  try {
    let result = await client.put(dist, src);
    console.log(&amp;quot;ossä¸Šä¼ æˆåŠŸ: &amp;quot; + result.name);
  } catch (e) {
    console.log(e);
  }
};

const workList = [];

/**
 *
 * @param {string} src éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶å¤¹
 * @param {string} dist ossæ–‡ä»¶å¤¹
 */

const addFileToOSSSync = function(src, dist) {
  try {
    await compress()
    var docs = fs.readdirSync(src);
  } catch (error) {
    console.log(src + &amp;quot;ä¸å­˜åœ¨&amp;quot;);
    return;
  }

  docs.forEach(function(doc) {
    const _src = src + &amp;quot;/&amp;quot; + doc;
    const _dist = dist + &amp;quot;/&amp;quot; + doc;
    const st = fs.statSync(_src);
    // åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶
    if (st.isFile() &amp;amp;&amp;amp; doc !== &amp;quot;.DS_Store&amp;quot;) {
      workList.push(putOSS(_src, _dist));
      // console.log(_src + &#39;æ˜¯æ–‡ä»¶&#39;, _dist);
    } else if (st.isDirectory()) {
      addFileToOSSSync(_src, _dist);
    }
  });
};

addFileToOSSSync(&amp;quot;dist/assets&amp;quot;, &amp;quot;weixin/gongyi/sdg/images&amp;quot;);

Promise.all(workList).then(res =&amp;gt; {
  rimraf(path.join(__dirname, &amp;quot;../dist/assets&amp;quot;), error =&amp;gt; {
    if (error) {
      throw error;
    }
    console.log(&amp;quot;done!&amp;quot;);
  });
});

&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¸Šä¼ æ–¹æ³•å†™å®Œäº†ä»€ä¹ˆæ—¶å€™è°ƒç”¨å‘¢åº”è¯¥åœ¨æ„å»ºå®Œä¹‹åè°ƒç”¨å› ä¸ºä¸Šä¼ å®Œè¦åˆ é™¤åŒ…ä¸­distä¸‹çš„å›¾ç‰‡é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥packagejsonä¸­æ›´æ”¹å‘½ä»¤&#34;&gt;ä¸Šä¼ æ–¹æ³•å†™å®Œäº†ï¼Œä»€ä¹ˆæ—¶å€™è°ƒç”¨å‘¢ï¼Œåº”è¯¥åœ¨æ„å»ºå®Œä¹‹åè°ƒç”¨ï¼Œå› ä¸ºä¸Šä¼ å®Œè¦åˆ é™¤åŒ…ä¸­distä¸‹çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥package.jsonä¸­æ›´æ”¹å‘½ä»¤&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// package.json
&amp;quot;build:weapp&amp;quot;: &amp;quot;NODE_ENV=online taro build --type weapp &amp;amp;&amp;amp; node config/upload.js&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;è¿˜æœ‰è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡&#34;&gt;è¿˜æœ‰è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// Taroæ‰“åŒ…å…¥å£å¤„
const ossPath = &#39;ä½ çš„cdnåŸŸå&#39;
let projectPublicPath = &#39;/&#39;

if (process.env.NODE_ENV !== &#39;development&#39;) {
  // ä½ ä¸Šä¼ çš„cdnè·¯å¾„
  projectPublicPath = `${ossPath}/1v1mp/${process.env.TARO_ENV}/${process.env.NODE_ENV}`
}

let assetsPre =
  process.env.TARO_ENV === &#39;weapp&#39;
    ? process.env.NODE_ENV === &#39;development&#39;
      ? &#39;&#39;
      : projectPublicPath
    : &#39;&#39;
var config = {
  // ...å…¶ä»–é…ç½®æ­£å¸¸å†™ï¼Œä¸»è¦æ˜¯æ³¨æ„è¿™ä¸¤é¡¹
  alias: {
    &#39;@&#39;: path.resolve(__dirname, &#39;..&#39;, &#39;src&#39;),
  },
  defineConstants: {
    assetsPre: `&amp;quot;${assetsPre}&amp;quot;`,
  },
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æœ€åä½¿ç”¨éœ€è¦æ³¨æ„&#34;&gt;æœ€åä½¿ç”¨éœ€è¦æ³¨æ„ï¼š&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶æ”¾å…¥&lt;code&gt;src/assets&lt;/code&gt;ç›®å½•ä¸‹ï¼Œå¯ä»¥åœ¨&lt;code&gt;assets&lt;/code&gt;ç›®å½•ä¸‹åˆ›å»ºå„æ¨¡å—ç›®å½•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;import&lt;/code&gt; å¼•å…¥ååœ¨&lt;code&gt;src&lt;/code&gt;å¤„ä½¿ç”¨ &lt;code&gt;${assetsPre}${pic}&lt;/code&gt;çš„æ–¹å¼ä½¿ç”¨, &lt;code&gt;assetsPre&lt;/code&gt;æ˜¯å…¨å±€å®šä¹‰å¥½çš„å¸¸é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-jsx&#34;&gt;import pic from &#39;@/assets/defualt.jpg&#39;

export default function Index() {
  // do some logic

  return &amp;lt;Image src={`${assetsPre}${pic}`} /&amp;gt;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;tip: æœ‰ä¸€ç‚¹è¦è¯´ä¸€ä¸‹ï¼Œè™½ç„¶importå¼•å…¥äº†ï¼Œä½†å…¶å®æ˜¯ä¸ªpicæ˜¯ä¸ªè·¯å¾„ï¼Œwebpack5ä»¥å‰ä¼šæŠŠå®ƒé€šè¿‡loaderè½¬ä¸ºè·¯å¾„ï¼Œwebpack5é€šè¿‡å†…ç½®Asset Modulesè½¬ä¸ºè·¯å¾„ã€‚å…·ä½“æ–‡æ¡£å¯è§ï¼š&lt;a href=&#34;https://webpack.docschina.org/guides/asset-management/#loading-images&#34;&gt;åŠ è½½imageså›¾åƒ&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
">Taroè§£å†³å°ç¨‹åºåŒ…ä½“ç§¯è¿‡å¤§çš„é—®é¢˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/createjs-chuang-jian-tu-pian-wei-tu-bing-she-zhi-zhong-xin-dian-wei-tu-pian-zhong-xin"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;public static createBitmap(imgUrl: string): Promise&amp;lt;any&amp;gt; {
    return new Promise&amp;lt;object | number&amp;gt;((resolve, reject) =&amp;gt; {
      const image: any = new Image()
      image.src = imgUrl || &#39;&#39;
      image.onload = () =&amp;gt; {
        const Bitmap = new createjs.Bitmap(image)
        const { width, height } = Bitmap.image
        // Bitmap.setBounds(0, 0, width, height);
        Bitmap.regX = width / 2
        Bitmap.regY = height / 2
        resolve(Bitmap)
      }
      image.onerror = (error: any) =&amp;gt; {
        console.warn(`&amp;quot;image load fail&amp;quot;${imgUrl}`, error)
      }
    })
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ³¨æ„é»˜è®¤æ³¨å†Œä¸­å¿ƒç‚¹æ—‹è½¬æ—¶å›´ç»•çš„ç‚¹æ˜¯åœ¨å·¦ä¸Šè§’regxregyå¹¶ä¸æ˜¯æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹è€Œæ˜¯å‘å·¦ä¸Šæ–¹å‘åç§»å®½é«˜çš„ä¸€åŠä½†åªæ˜¯åç§»ç‰©ä½“è¿™ä¸ªç‰©ä½“çš„æ³¨å†Œä¸­å¿ƒç‚¹æ˜¯ä¸å˜çš„-æƒ³æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹åªèƒ½é xyæ¥è®¾ç½®ä½ç½®æ³¨å†Œä¸­å¿ƒç‚¹æ°¸è¿œéƒ½åœ¨å·¦ä¸Šè§’ä½†é€šè¿‡regxregyå¯ä»¥æŠŠç‰©ä½“æœ¬èº«å¾€åæ–¹å‘å¹³ç§»ä¸€åŠä½†æ³¨å†Œä¸­å¿ƒç‚¹è¿˜åœ¨ä¹‹å‰çš„ä½ç½®è¿™æ ·çš„è¯æˆ‘ä»¬çš„æ—‹è½¬ä½ç½®çœ‹èµ·æ¥å°±æ˜¯å›´ç€ä¸­é—´ç‚¹æ—‹è½¬äº†-è¿™ä¹ˆè¯´å¤§å®¶å¯èƒ½æœ‰ç‚¹æ‡µæ²¡å…³ç³»è¿™é‡Œç¡®å®æœ‰ç‚¹éš¾ç†è§£~æœ‰ä¸ªåšå®¢å†™çš„å¾ˆå¥½å¤§å®¶å¯ä»¥ç»“åˆæˆ‘æ€»ç»“çš„çœ‹ä¸€ä¸‹&#34;&gt;æ³¨æ„ï¼šé»˜è®¤æ³¨å†Œä¸­å¿ƒç‚¹ï¼ˆæ—‹è½¬æ—¶å›´ç»•çš„ç‚¹ï¼‰æ˜¯åœ¨å·¦ä¸Šè§’ï¼ŒregXï¼ŒregYå¹¶ä¸æ˜¯æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹ï¼Œè€Œæ˜¯å‘å·¦ä¸Šæ–¹å‘åç§»å®½é«˜çš„ä¸€åŠï¼Œä½†åªæ˜¯åç§»ç‰©ä½“ï¼Œè¿™ä¸ªç‰©ä½“çš„æ³¨å†Œä¸­å¿ƒç‚¹æ˜¯ä¸å˜çš„ã€‚æƒ³æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹ï¼Œåªèƒ½é x,yæ¥è®¾ç½®ä½ç½®ï¼Œæ³¨å†Œä¸­å¿ƒç‚¹æ°¸è¿œéƒ½åœ¨å·¦ä¸Šè§’ï¼Œä½†é€šè¿‡regXï¼ŒregYå¯ä»¥æŠŠç‰©ä½“æœ¬èº«å¾€åæ–¹å‘å¹³ç§»ä¸€åŠï¼ˆä½†æ³¨å†Œä¸­å¿ƒç‚¹è¿˜åœ¨ä¹‹å‰çš„ä½ç½®ï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬çš„æ—‹è½¬ä½ç½®çœ‹èµ·æ¥å°±æ˜¯å›´ç€ä¸­é—´ç‚¹æ—‹è½¬äº†ã€‚è¿™ä¹ˆè¯´å¤§å®¶å¯èƒ½æœ‰ç‚¹æ‡µï¼Œæ²¡å…³ç³»ï¼Œè¿™é‡Œç¡®å®æœ‰ç‚¹éš¾ç†è§£ï½æœ‰ä¸ªåšå®¢å†™çš„å¾ˆå¥½ï¼Œå¤§å®¶å¯ä»¥ç»“åˆæˆ‘æ€»ç»“çš„çœ‹ä¸€ä¸‹ï¼š&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://segmentfault.com/a/1190000016445744&#34;&gt;Easeljsä¹‹regX/regYè¯¦è§£&lt;/a&gt;&lt;/p&gt;
">createjs åˆ›å»ºå›¾ç‰‡ä½å›¾å¹¶è®¾ç½®ä¸­å¿ƒç‚¹ä¸ºå›¾ç‰‡ä¸­å¿ƒ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/vite-zi-ding-yi-cha-jian"" data-c="
          &lt;p&gt;&lt;a href=&#34;https://vitejs.cn/guide/api-plugin.html&#34;&gt;viteå®˜ç½‘è‡ªå®šä¹‰æ’ä»¶&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Vite æ’ä»¶æ‰©å±•äº†è®¾è®¡å‡ºè‰²çš„ Rollup æ¥å£ï¼Œå¸¦æœ‰ä¸€äº› Vite ç‹¬æœ‰çš„é…ç½®é¡¹ã€‚å› ä¸ºviteæ˜¯ä½¿ç”¨rollupæ‰“åŒ…çš„æ‰€ä»¥æœ€å¥½ä½ èƒ½äº†è§£&lt;a href=&#34;https://rollupjs.org/guide/en/#plugin-development&#34;&gt;Rollup æ’ä»¶æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹é¢çš„éƒ½æ˜¯æŒ‰ç…§å®˜ç½‘ä»‹ç»å†™çš„ï¼Œå› ä¸ºæ¯•ç«Ÿä½ çœ‹åˆ°æˆ‘è¿™äº†ï¼Œç›´æ¥ç»™ä½ ä¸ªé“¾æ¥å†è®©ä½ è·³è½¬åˆ°å®˜ç½‘å»çœ‹æœ‰ç‚¹ä¸è´Ÿè´£ä»»ï¼Œå¦‚æœä½ å·²ç»ä»å®˜ç½‘çœ‹è¿‡äº†ï¼Œå¹¶ä¸”å¯¹è‡ªå®šä¹‰æ’ä»¶å¾ˆç†Ÿæ‚‰äº†ï¼Œé‚£ä¹ˆè¯·ç›´æ¥åˆ°æœ€ä¸‹é¢çœ‹ &lt;a href=&#34;#test&#34;&gt;é¡¹ç›®å®æˆ˜éƒ¨åˆ†&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;çº¦å®š&#34;&gt;çº¦å®š&lt;/h3&gt;
&lt;p&gt;å¦‚æœæ’ä»¶ä¸ä½¿ç”¨ Vite ç‰¹æœ‰çš„é’©å­ï¼Œå¯ä»¥ä½œä¸º &lt;a href=&#34;https://vitejs.cn/guide/api-plugin.html#rollup-plugin-compatibility&#34;&gt;å…¼å®¹ Rollup çš„æ’ä»¶&lt;/a&gt; æ¥å®ç°ï¼Œæ¨èä½¿ç”¨ &lt;a href=&#34;https://rollupjs.org/guide/en/#conventions&#34;&gt;Rollup æ’ä»¶åç§°çº¦å®š&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rollup æ’ä»¶åº”è¯¥æœ‰ä¸€ä¸ªå¸¦ rollup-plugin- å‰ç¼€ã€è¯­ä¹‰æ¸…æ™°çš„åç§°ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ package.json ä¸­åŒ…å« rollup-plugin å’Œ vite-plugin å…³é”®å­—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·ï¼Œæ’ä»¶ä¹Ÿå¯ä»¥ç”¨äºçº¯ Rollup æˆ–åŸºäº WMR çš„é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº Vite ä¸“å±çš„æ’ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vite æ’ä»¶åº”è¯¥æœ‰ä¸€ä¸ªå¸¦ vite-plugin- å‰ç¼€ã€è¯­ä¹‰æ¸…æ™°çš„åç§°ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ package.json ä¸­åŒ…å« vite-plugin å…³é”®å­—ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ’ä»¶æ–‡æ¡£å¢åŠ ä¸€éƒ¨åˆ†å…³äºä¸ºä»€ä¹ˆæœ¬æ’ä»¶æ˜¯ä¸€ä¸ª Vite ä¸“å±æ’ä»¶çš„è¯¦ç»†è¯´æ˜ï¼ˆå¦‚ï¼Œæœ¬æ’ä»¶ä½¿ç”¨äº† Vite ç‰¹æœ‰çš„æ’ä»¶é’©å­ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½ çš„æ’ä»¶åªé€‚ç”¨äºç‰¹å®šçš„æ¡†æ¶ï¼Œå®ƒçš„åå­—åº”è¯¥éµå¾ªä»¥ä¸‹å‰ç¼€æ ¼å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vite-plugin-vue- å‰ç¼€ä½œä¸º Vue æ’ä»¶&lt;/li&gt;
&lt;li&gt;vite-plugin-react- å‰ç¼€ä½œä¸º React æ’ä»¶&lt;/li&gt;
&lt;li&gt;vite-plugin-svelte- å‰ç¼€ä½œä¸º Svelte æ’ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ’ä»¶é…ç½®&#34;&gt;æ’ä»¶é…ç½®&lt;/h3&gt;
&lt;p&gt;ç”¨æˆ·ä¼šå°†æ’ä»¶æ·»åŠ åˆ°é¡¹ç›®çš„ devDependencies ä¸­å¹¶ä½¿ç”¨æ•°ç»„å½¢å¼çš„ plugins é€‰é¡¹é…ç½®å®ƒä»¬ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// vite.config.js
import vitePlugin from &#39;vite-plugin-feature&#39;
import rollupPlugin from &#39;rollup-plugin-feature&#39;

export default defineConfig({
  plugins: [vitePlugin(), rollupPlugin()]
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‡å€¼çš„æ’ä»¶å°†è¢«å¿½ç•¥ï¼Œå¯ä»¥ç”¨æ¥è½»æ¾åœ°å¯ç”¨æˆ–åœç”¨æ’ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;plugins ä¹Ÿå¯ä»¥æ¥å—å°†å¤šä¸ªæ’ä»¶ä½œä¸ºå•ä¸ªå…ƒç´ çš„é¢„è®¾ã€‚è¿™å¯¹äºä½¿ç”¨å¤šä¸ªæ’ä»¶å®ç°çš„å¤æ‚ç‰¹æ€§ï¼ˆå¦‚æ¡†æ¶é›†æˆï¼‰å¾ˆæœ‰ç”¨ã€‚è¯¥æ•°ç»„å°†åœ¨å†…éƒ¨è¢«æ‰å¹³åŒ–ï¼ˆflattenï¼‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// æ¡†æ¶æ’ä»¶
import frameworkRefresh from &#39;vite-plugin-framework-refresh&#39;
import frameworkDevtools from &#39;vite-plugin-framework-devtools&#39;

export default function framework(config) {
  return [frameworkRefresh(config), frameworkDevTools(config)]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// vite.config.js
import { defineConfig } from &#39;vite&#39;
import framework from &#39;vite-plugin-framework&#39;

export default defineConfig({
  plugins: [framework()]
})
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç®€å•ç¤ºä¾‹&#34;&gt;ç®€å•ç¤ºä¾‹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;TIP&lt;br&gt;
é€šå¸¸çš„æƒ¯ä¾‹æ˜¯åˆ›å»ºä¸€ä¸ª Vite/Rollup æ’ä»¶ä½œä¸ºä¸€ä¸ªè¿”å›å®é™…æ’ä»¶å¯¹è±¡çš„å·¥å‚å‡½æ•°ã€‚è¯¥å‡½æ•°å¯ä»¥æ¥å—å…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ’ä»¶è¡Œä¸ºçš„é€‰é¡¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;è½¬æ¢è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹&#34;&gt;è½¬æ¢è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const fileRegex = /\.(my-file-ext)$/

export default function myPlugin() {
  return {
    name: &#39;transform-file&#39;,

    transform(src, id) {
      if (fileRegex.test(id)) {
        return {
          code: compileFileToJS(src),
          map: null // å¦‚æœå¯è¡Œå°†æä¾› source map
        }
      }
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é€šç”¨é’©å­&#34;&gt;é€šç”¨é’©å­&lt;/h3&gt;
&lt;p&gt;åœ¨å¼€å‘ä¸­ï¼ŒVite å¼€å‘æœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªæ’ä»¶å®¹å™¨æ¥è°ƒç”¨ &lt;a href=&#34;https://rollupjs.org/guide/en/#build-hooks&#34;&gt;Rollup æ„å»ºé’©å­&lt;/a&gt;ï¼Œä¸ Rollup å¦‚å‡ºä¸€è¾™ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹é’©å­åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è¢«è°ƒç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;options&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;buildStart&lt;br&gt;
ä»¥ä¸‹é’©å­ä¼šåœ¨æ¯ä¸ªä¼ å…¥æ¨¡å—è¯·æ±‚æ—¶è¢«è°ƒç”¨ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;resolveId&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;load&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;transform&lt;br&gt;
ä»¥ä¸‹é’©å­åœ¨æœåŠ¡å™¨å…³é—­æ—¶è¢«è°ƒç”¨ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;buildEnd&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;closeBundle&lt;br&gt;
è¯·æ³¨æ„ moduleParsed é’©å­åœ¨å¼€å‘ä¸­æ˜¯ ä¸ä¼š è¢«è°ƒç”¨çš„ï¼Œå› ä¸º Vite ä¸ºäº†æ€§èƒ½ä¼šé¿å…å®Œæ•´çš„ AST è§£æã€‚&lt;br&gt;
Output Generation Hooksï¼ˆé™¤äº† closeBundle) åœ¨å¼€å‘ä¸­æ˜¯ ä¸ä¼š è¢«è°ƒç”¨çš„ã€‚ä½ å¯ä»¥è®¤ä¸º Vite çš„å¼€å‘æœåŠ¡å™¨åªè°ƒç”¨äº† rollup.rollup() è€Œæ²¡æœ‰è°ƒç”¨ bundle.generate()ã€‚&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645006280268.jpeg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vite-ç‹¬æœ‰é’©å­&#34;&gt;Vite ç‹¬æœ‰é’©å­&lt;/h3&gt;
&lt;p&gt;Vite æ’ä»¶ä¹Ÿå¯ä»¥æä¾›é’©å­æ¥æœåŠ¡äºç‰¹å®šçš„ Vite ç›®æ ‡ã€‚è¿™äº›é’©å­ä¼šè¢« Rollup å¿½ç•¥ã€‚&lt;/p&gt;
&lt;h4 id=&#34;config&#34;&gt;config&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç±»å‹ï¼š (config: UserConfig, env: { mode: string, command: string }) =&amp;gt; UserConfig | null | void&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§ç±»ï¼š async, sequential&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨è§£æ Vite é…ç½®å‰è°ƒç”¨ã€‚é’©å­æ¥æ”¶åŸå§‹ç”¨æˆ·é…ç½®ï¼ˆå‘½ä»¤è¡Œé€‰é¡¹æŒ‡å®šçš„ä¼šä¸é…ç½®æ–‡ä»¶åˆå¹¶ï¼‰å’Œä¸€ä¸ªæè¿°é…ç½®ç¯å¢ƒçš„å˜é‡ï¼ŒåŒ…å«æ­£åœ¨ä½¿ç”¨çš„ mode å’Œ commandã€‚å®ƒå¯ä»¥è¿”å›ä¸€ä¸ªå°†è¢«æ·±åº¦åˆå¹¶åˆ°ç°æœ‰é…ç½®ä¸­çš„éƒ¨åˆ†é…ç½®å¯¹è±¡ï¼Œæˆ–è€…ç›´æ¥æ”¹å˜é…ç½®ï¼ˆå¦‚æœé»˜è®¤çš„åˆå¹¶ä¸èƒ½è¾¾åˆ°é¢„æœŸçš„ç»“æœï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// è¿”å›éƒ¨åˆ†é…ç½®ï¼ˆæ¨èï¼‰
const partialConfigPlugin = () =&amp;gt; ({
  name: &#39;return-partial&#39;,
  config: () =&amp;gt; ({
    alias: {
      foo: &#39;bar&#39;
    }
  })
})

// ç›´æ¥æ”¹å˜é…ç½®ï¼ˆåº”ä»…åœ¨åˆå¹¶ä¸èµ·ä½œç”¨æ—¶ä½¿ç”¨ï¼‰
const mutateConfigPlugin = () =&amp;gt; ({
  name: &#39;mutate-config&#39;,
  config(config, { command }) {
    if (command === &#39;build&#39;) {
      config.root = __dirname
    }
  }
})
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„&lt;br&gt;
ç”¨æˆ·æ’ä»¶åœ¨è¿è¡Œè¿™ä¸ªé’©å­ä¹‹å‰ä¼šè¢«è§£æï¼Œå› æ­¤åœ¨ config é’©å­ä¸­æ³¨å…¥å…¶ä»–æ’ä»¶ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;configresolved&#34;&gt;configResolved&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç±»å‹ï¼š (config: ResolvedConfig) =&amp;gt; void | Promise&lt;void&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§ç±»ï¼š async, parallel&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨è§£æ Vite é…ç½®åè°ƒç”¨ã€‚ä½¿ç”¨è¿™ä¸ªé’©å­è¯»å–å’Œå­˜å‚¨æœ€ç»ˆè§£æçš„é…ç½®ã€‚å½“æ’ä»¶éœ€è¦æ ¹æ®è¿è¡Œçš„å‘½ä»¤åšä¸€äº›ä¸åŒçš„äº‹æƒ…æ—¶ï¼Œå®ƒä¹Ÿå¾ˆæœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const exmaplePlugin = () =&amp;gt; {
  let config

  return {
    name: &#39;read-config&#39;,

    configResolved(resolvedConfig) {
      // å­˜å‚¨æœ€ç»ˆè§£æçš„é…ç½®
      config = resolvedConfig
    },

    // åœ¨å…¶ä»–é’©å­ä¸­ä½¿ç”¨å­˜å‚¨çš„é…ç½®
    transform(code, id) {
      if (config.command === &#39;serve&#39;) {
        // dev: ç”±å¼€å‘æœåŠ¡å™¨è°ƒç”¨çš„æ’ä»¶
      } else {
        // build: ç”± Rollup è°ƒç”¨çš„æ’ä»¶
      }
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œcommand çš„å€¼ä¸º serveï¼ˆåœ¨ CLI ä¸­ï¼Œvite å’Œ vite dev æ˜¯ vite serve çš„åˆ«åï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;configureserver&#34;&gt;configureServer&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç±»å‹ï¼š (server: ViteDevServer) =&amp;gt; (() =&amp;gt; void) | void | Promise&amp;lt;(() =&amp;gt; void) | void&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§ç±»ï¼š async, sequential&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­¤å¤–è¯·çœ‹ &lt;a href=&#34;https://vitejs.cn/guide/api-javascript.html#vitedevserver&#34;&gt;ViteDevServer&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ˜¯ç”¨äºé…ç½®å¼€å‘æœåŠ¡å™¨çš„é’©å­ã€‚æœ€å¸¸è§çš„ç”¨ä¾‹æ˜¯åœ¨å†…éƒ¨ connect åº”ç”¨ç¨‹åºä¸­æ·»åŠ è‡ªå®šä¹‰ä¸­é—´ä»¶:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const myPlugin = () =&amp;gt; ({
  name: &#39;configure-server&#39;,
  configureServer(server) {
    server.middlewares.use((req, res, next) =&amp;gt; {
      // è‡ªå®šä¹‰è¯·æ±‚å¤„ç†...
    })
  }
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ³¨å…¥åç½®ä¸­é—´ä»¶&lt;/p&gt;
&lt;p&gt;configureServer é’©å­å°†åœ¨å†…éƒ¨ä¸­é—´ä»¶è¢«å®‰è£…å‰è°ƒç”¨ï¼Œæ‰€ä»¥è‡ªå®šä¹‰çš„ä¸­é—´ä»¶å°†ä¼šé»˜è®¤ä¼šæ¯”å†…éƒ¨ä¸­é—´ä»¶æ—©è¿è¡Œã€‚å¦‚æœä½ æƒ³æ³¨å…¥ä¸€ä¸ªåœ¨å†…éƒ¨ä¸­é—´ä»¶ ä¹‹å è¿è¡Œçš„ä¸­é—´ä»¶ï¼Œä½ å¯ä»¥ä» configureServer è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¼šåœ¨å†…éƒ¨ä¸­é—´ä»¶å®‰è£…åè¢«è°ƒç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const myPlugin = () =&amp;gt; ({
  name: &#39;configure-server&#39;,
  configureServer(server) {
    // è¿”å›ä¸€ä¸ªåœ¨å†…éƒ¨ä¸­é—´ä»¶å®‰è£…å
    // è¢«è°ƒç”¨çš„åç½®é’©å­
    return () =&amp;gt; {
      server.middlewares.use((req, res, next) =&amp;gt; {
        // è‡ªå®šä¹‰è¯·æ±‚å¤„ç†...
      })
    }
  }
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å­˜å‚¨æœåŠ¡å™¨è®¿é—®&lt;/p&gt;
&lt;p&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå…¶ä»–æ’ä»¶é’©å­å¯èƒ½éœ€è¦è®¿é—®å¼€å‘æœåŠ¡å™¨å®ä¾‹ï¼ˆä¾‹å¦‚è®¿é—® websocket æœåŠ¡å™¨ã€æ–‡ä»¶ç³»ç»Ÿç›‘è§†ç¨‹åºæˆ–æ¨¡å—å›¾ï¼‰ã€‚è¿™ä¸ªé’©å­ä¹Ÿå¯ä»¥ç”¨æ¥å­˜å‚¨æœåŠ¡å™¨å®ä¾‹ä»¥ä¾›å…¶ä»–é’©å­è®¿é—®:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const myPlugin = () =&amp;gt; {
  let server
  return {
    name: &#39;configure-server&#39;,
    configureServer(_server) {
      server = _server
    },
    transform(code, id) {
      if (server) {
        // ä½¿ç”¨ server...
      }
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ³¨æ„ configureServer åœ¨è¿è¡Œç”Ÿäº§ç‰ˆæœ¬æ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œæ‰€ä»¥å…¶ä»–é’©å­éœ€è¦é˜²èŒƒå®ƒç¼ºå¤±ã€‚&lt;/p&gt;
&lt;h4 id=&#34;transformindexhtml&#34;&gt;transformIndexHtml&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç±»å‹ï¼š IndexHtmlTransformHook | { enforce?: &#39;pre&#39; | &#39;post&#39;, transform: IndexHtmlTransformHook }&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§ç±»ï¼š async, sequential&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è½¬æ¢ index.html çš„ä¸“ç”¨é’©å­ã€‚é’©å­æ¥æ”¶å½“å‰çš„ HTML å­—ç¬¦ä¸²å’Œè½¬æ¢ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡åœ¨å¼€å‘æœŸé—´æš´éœ²ViteDevServerå®ä¾‹ï¼Œåœ¨æ„å»ºæœŸé—´æš´éœ² Rollup è¾“å‡ºçš„åŒ…ã€‚&lt;br&gt;
è¿™ä¸ªé’©å­å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œå¹¶ä¸”å¯ä»¥è¿”å›ä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»è¿‡è½¬æ¢çš„ HTML å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;æ³¨å…¥åˆ°ç°æœ‰ HTML ä¸­çš„æ ‡ç­¾æè¿°ç¬¦å¯¹è±¡æ•°ç»„ï¼ˆ{ tag, attrs, children }ï¼‰ã€‚æ¯ä¸ªæ ‡ç­¾ä¹Ÿå¯ä»¥æŒ‡å®šå®ƒåº”è¯¥è¢«æ³¨å…¥åˆ°å“ªé‡Œï¼ˆé»˜è®¤æ˜¯åœ¨ &lt;head&gt; ä¹‹å‰ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªåŒ…å« { html, tags } çš„å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸºç¡€ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const htmlPlugin = () =&amp;gt; {
  return {
    name: &#39;html-transform&#39;,
    transformIndexHtml(html) {
      return html.replace(
        /&amp;lt;title&amp;gt;(.*?)&amp;lt;\/title&amp;gt;/,
        `&amp;lt;title&amp;gt;Title replaced!&amp;lt;/title&amp;gt;`
      )
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;handlehotupdate&#34;&gt;handleHotUpdate&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç±»å‹ï¼š (ctx: HmrContext) =&amp;gt; Array&lt;ModuleNode&gt; | void | Promise&amp;lt;Array&lt;ModuleNode&gt; | void&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰§è¡Œè‡ªå®šä¹‰ HMR æ›´æ–°å¤„ç†ã€‚é’©å­æ¥æ”¶ä¸€ä¸ªå¸¦æœ‰ä»¥ä¸‹ç­¾åçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;interface HmrContext {
  file: string
  timestamp: number
  modules: Array&amp;lt;ModuleNode&amp;gt;
  read: () =&amp;gt; string | Promise&amp;lt;string&amp;gt;
  server: ViteDevServer
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;modules æ˜¯å—æ›´æ”¹æ–‡ä»¶å½±å“çš„æ¨¡å—æ•°ç»„ã€‚å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› ä¸ºå•ä¸ªæ–‡ä»¶å¯èƒ½æ˜ å°„åˆ°å¤šä¸ªæœåŠ¡æ¨¡å—ï¼ˆä¾‹å¦‚ Vue å•æ–‡ä»¶ç»„ä»¶ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;read è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥è¯»å‡½æ•°ï¼Œå®ƒè¿”å›æ–‡ä»¶çš„å†…å®¹ã€‚ä¹‹æ‰€ä»¥è¿™æ ·åšï¼Œæ˜¯å› ä¸ºåœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œæ–‡ä»¶æ›´æ”¹çš„å›è°ƒå‡½æ•°å¯èƒ½ä¼šåœ¨ç¼–è¾‘å™¨å®Œæˆæ–‡ä»¶æ›´æ–°ä¹‹å‰è¿‡å¿«åœ°è§¦å‘ï¼Œå¹¶ fs.readFile ç›´æ¥ä¼šè¿”å›ç©ºå†…å®¹ã€‚ä¼ å…¥çš„ read å‡½æ•°è§„èŒƒäº†è¿™ç§è¡Œä¸ºã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é’©å­å¯ä»¥é€‰æ‹©:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿‡æ»¤å’Œç¼©å°å—å½±å“çš„æ¨¡å—åˆ—è¡¨ï¼Œä½¿ HMR æ›´å‡†ç¡®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¹¶é€šè¿‡å‘å®¢æˆ·ç«¯å‘é€è‡ªå®šä¹‰äº‹ä»¶æ¥æ‰§è¡Œå®Œæ•´çš„è‡ªå®šä¹‰ HMR å¤„ç†:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;handleHotUpdate({ server }) {
  server.ws.send({
    type: &#39;custom&#39;,
    event: &#39;special-update&#39;,
    data: {}
  })
  return []
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®¢æˆ·ç«¯ä»£ç åº”è¯¥ä½¿ç”¨ &lt;a href=&#34;https://vitejs.cn/guide/api-hmr.html&#34;&gt;HMR API&lt;/a&gt; æ³¨å†Œç›¸åº”çš„å¤„ç†å™¨ï¼ˆè¿™åº”è¯¥è¢«ç›¸åŒæ’ä»¶çš„ transform é’©å­æ³¨å…¥ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;if (import.meta.hot) {
  import.meta.hot.on(&#39;special-update&#39;, (data) =&amp;gt; {
    // æ‰§è¡Œè‡ªå®šä¹‰æ›´æ–°
  })
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ’ä»¶é¡ºåº&#34;&gt;æ’ä»¶é¡ºåº&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ª Vite æ’ä»¶å¯ä»¥é¢å¤–æŒ‡å®šä¸€ä¸ª enforce å±æ€§ï¼ˆç±»ä¼¼äº webpack åŠ è½½å™¨ï¼‰æ¥è°ƒæ•´å®ƒçš„åº”ç”¨é¡ºåºã€‚enforce çš„å€¼å¯ä»¥æ˜¯pre æˆ– postã€‚è§£æåçš„æ’ä»¶å°†æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ’åˆ—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Alias&lt;/li&gt;
&lt;li&gt;å¸¦æœ‰ enforce: &#39;pre&#39; çš„ç”¨æˆ·æ’ä»¶&lt;/li&gt;
&lt;li&gt;Vite æ ¸å¿ƒæ’ä»¶&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰ enforce å€¼çš„ç”¨æˆ·æ’ä»¶&lt;/li&gt;
&lt;li&gt;Vite æ„å»ºç”¨çš„æ’ä»¶&lt;/li&gt;
&lt;li&gt;å¸¦æœ‰ enforce: &#39;post&#39; çš„ç”¨æˆ·æ’ä»¶&lt;/li&gt;
&lt;li&gt;Vite åç½®æ„å»ºæ’ä»¶ï¼ˆæœ€å°åŒ–ï¼Œmanifestï¼ŒæŠ¥å‘Šï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æƒ…æ™¯åº”ç”¨&#34;&gt;æƒ…æ™¯åº”ç”¨&lt;/h3&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹æ’ä»¶åœ¨å¼€å‘ï¼ˆserveï¼‰å’Œæ„å»ºï¼ˆbuildï¼‰æ¨¡å¼ä¸­éƒ½ä¼šè°ƒç”¨ã€‚å¦‚æœæ’ä»¶åªéœ€è¦åœ¨é¢„è§ˆæˆ–æ„å»ºæœŸé—´æœ‰æ¡ä»¶åœ°åº”ç”¨ï¼Œè¯·ä½¿ç”¨ apply å±æ€§æŒ‡æ˜å®ƒä»¬ä»…åœ¨ &#39;build&#39; æˆ– &#39;serve&#39; æ¨¡å¼æ—¶è°ƒç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function myPlugin() {
  return {
    name: &#39;build-only&#39;,
    apply: &#39;build&#39; // æˆ– &#39;serve&#39;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åŒæ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥è¿›è¡Œæ›´ç²¾å‡†çš„æ§åˆ¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;apply(config, { command }) {
  // é SSR æƒ…å†µä¸‹çš„ build
  return command === &#39;build&#39; &amp;amp;&amp;amp; !config.build.ssr
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;rollup-æ’ä»¶å…¼å®¹æ€§&#34;&gt;Rollup æ’ä»¶å…¼å®¹æ€§&lt;/h3&gt;
&lt;p&gt;ç›¸å½“æ•°é‡çš„ Rollup æ’ä»¶å°†ç›´æ¥ä½œä¸º Vite æ’ä»¶å·¥ä½œï¼ˆä¾‹å¦‚ï¼š@rollup/plugin-alias æˆ– @rollup/plugin-jsonï¼‰ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ï¼Œå› ä¸ºæœ‰äº›æ’ä»¶é’©å­åœ¨éæ„å»ºå¼çš„å¼€å‘æœåŠ¡å™¨ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰æ„ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦ Rollup æ’ä»¶ç¬¦åˆä»¥ä¸‹æ ‡å‡†ï¼Œå®ƒå°±åº”è¯¥åƒ Vite æ’ä»¶ä¸€æ ·å·¥ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰ä½¿ç”¨ moduleParsed é’©å­ã€‚&lt;/li&gt;
&lt;li&gt;å®ƒåœ¨æ‰“åŒ…é’©å­å’Œè¾“å‡ºé’©å­ä¹‹é—´æ²¡æœ‰å¾ˆå¼ºçš„è€¦åˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ª Rollup æ’ä»¶åªåœ¨æ„å»ºé˜¶æ®µæœ‰æ„ä¹‰ï¼Œåˆ™åœ¨ build.rollupOptions.plugins ä¸‹æŒ‡å®šå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥ç”¨ Vite ç‹¬æœ‰çš„å±æ€§æ¥æ‰©å±•ç°æœ‰çš„ Rollup æ’ä»¶:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// vite.config.js
import example from &#39;rollup-plugin-example&#39;
import { defineConfig } from &#39;vite&#39;

export default defineConfig({
  plugins: [
    {
      ...example(),
      enforce: &#39;post&#39;,
      apply: &#39;build&#39;
    }
  ]
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æŸ¥çœ‹ &lt;a href=&#34;https://vite-rollup-plugins.patak.dev/&#34;&gt;Vite Rollup æ’ä»¶&lt;/a&gt; è·å–å…¼å®¹çš„å®˜æ–¹ Rollup æ’ä»¶åˆ—è¡¨åŠå…¶ä½¿ç”¨æŒ‡å—ã€‚&lt;/p&gt;
&lt;h3 id=&#34;a-idtest-nametesté¡¹ç›®å®æˆ˜a&#34;&gt;&lt;a id=&#34;test&#34; name=&#34;test&#34;&gt;é¡¹ç›®å®æˆ˜&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å…ˆè¯´ä¸‹æˆ‘ä»¬è¦åšä»€ä¹ˆï¼Œæˆ‘ä»¬ç”¨viteæ‰“åŒ…å®Œä¹‹åéœ€è¦å°†æ‰“åŒ…å‡ºæ¥çš„é™æ€èµ„æºä¸Šä¼ åˆ°cdnä¸Šï¼Œä½†ç°æœ‰çš„æ’ä»¶ä¸å¤Ÿçµæ´»ï¼Œæ¯”å¦‚&lt;a href=&#34;https://www.npmjs.com/package/vite-plugin-assets-uploader&#34;&gt;vite-plugin-assets-uploader&lt;br&gt;
&lt;/a&gt;è¿™ä¸ªå¾ˆå¥½ï¼Œä½†æ˜¯éœ€è¦å°†ossçš„å¯†é’¥ç­‰ä¿¡æ¯å†™åœ¨å‰ç«¯ï¼Œä¸å¤Ÿå®‰å…¨ã€‚å¯¹æ­¤æˆ‘ä»¬å°±ç”¨nodeå†™äº†ä¸ªæ¥å£ï¼Œå‰ç«¯åªéœ€è¦è°ƒç”¨nodeæ¥å£å°±èƒ½å¤Ÿä¸Šä¼ åˆ°ossã€‚è€Œä¸”å°†ä»£ç ä¸Šä¼ åˆ°cdnä¹‹åï¼Œæˆ‘ä»¬çš„baseè·¯å¾„ä¹Ÿè¦æ”¹æˆcdnçš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰ä¸Šä¼ æ’ä»¶ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;/* eslint-disable no-prototype-builtins */
/* eslint-disable no-self-assign */
const path = require(&#39;path&#39;)
const fs = require(&#39;fs-extra&#39;)
const request = require(&#39;request&#39;)
const glob = require(&#39;glob&#39;)
import { Ioptions } from &#39;../type&#39;
import &#39;colors&#39;
const packageInfo: any = require(path.resolve(&#39;package.json&#39;))
class FileUploader {
  bucket?: string
  uploadUrl: string
  domain: string
  env: string
  prefix?: string
  constructor({ bucket, prefix, env }: { bucket?: string; prefix?: string; env: string }) {
    this.env = env
    if (!env) {
      new Error(&#39;è¯·ä¼ å…¥env&#39;)
      return
    }
    this.bucket = bucket || &#39;é»˜è®¤bucket&#39;
    this.prefix = prefix || `${packageInfo.name}/${this.env}/${packageInfo.version}/`
    this.uploadUrl = &#39;æ¥å£åŸŸå&#39;
    this.domain = &#39;domain&#39;
  }
  // è·å–base
  getBase() {
    return `${this.domain}/${this.prefix}`
  }
  // viteä¸Šä¼ æ’ä»¶
  UploadPlugin() {
    const options: Ioptions = {
      assetsDir: &#39;&#39;,
      mode: &#39;&#39;,
      outDir: &#39;&#39;
    }
    const that = this
    return {
      name: &#39;vite-plugin-upload&#39;,
      configResolved: function(config: any) {
        const outDir = config.build.hasOwnProperty(&#39;outDir&#39;) ? config.build.outDir : &#39;dist&#39;
        const outDirArr = outDir.split(path.sep)
        options.outDir = outDirArr[outDirArr.length - 1]
        options.assetsDir = `${options.outDir}/${config.build.assetsDir}`
        options.mode = config.mode
      },
      closeBundle() {
        const files = glob.sync(`${options.assetsDir}/*`)
        files.map((item: any) =&amp;gt; {
          that.uploadPre(path.relative(options.outDir, path.resolve(item)), options.outDir)
        })
      }
    }
  }
  // initåˆ¤æ–­æ˜¯å¦æ”¯æŒæ­¤bucket
  init() {
    return new Promise((resolve, reject) =&amp;gt; {
      request.get(
        { url: this.uploadUrl + &#39;/api/bucketList&#39; },
        (err: any, response: { statusCode: any }, body: string) =&amp;gt; {
          const { code, data } = typeof body === &#39;object&#39; ? body : JSON.parse(body)
          if (err) {
            reject(false)
          }
          if (code !== 0) {
            reject(false)
          } else {
            let cdnInfo = new Map([])
            data.forEach((v: any) =&amp;gt; {
              cdnInfo.set(v.bucket, v.url)
            })
            if (!cdnInfo.has(this.bucket)) {
              throw new Error(`ç›®å‰ä»…æ”¯æŒä»¥ä¸‹bucket${data.map((v: any) =&amp;gt; v.bucket).join(&#39; | &#39;)}`)
            } else {
              this.domain = cdnInfo.get(this.bucket) as string
              resolve(this.getBase())
            }
          }
        }
      )
    })
  }
  // æ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯¥æ–‡ä»¶
  isExistObject(filePath: string) {
    return new Promise(reslove =&amp;gt; {
      request.get(
        {
          url: `${this.uploadUrl}/api/isExistObject?name=${this.prefix + filePath}&amp;amp;bucket=${
            this.bucket
          }`
        },
        (err: any, response: any, body: string) =&amp;gt; {
          if (err) {
            console.log(&#39;err&#39;, err)
            process.exit(1)
          }
          if (response.statusCode !== 200) {
            console.log(&#39;err&#39;, &#39;http err&#39;)
            process.exit(1)
          }
          const bodys = JSON.parse(body)
          if (bodys.code === 0) {
            console.log(this.prefix + filePath, &#39;å·²å­˜åœ¨&#39;.yellow)
            reslove(0)
          } else {
            reslove(1)
          }
        }
      )
    })
  }
  // ä¸Šä¼ 
  upload(filePath: string, outDir: string) {
    return new Promise(reslove =&amp;gt; {
      const formData = {
        key: this.prefix + filePath,
        file: fs.createReadStream(path.resolve(path.join(outDir, filePath))),
        bucket: this.bucket
      }
      request.post(
        {
          url: `${this.uploadUrl}/api/upload`,
          formData
        },
        (err: any, response: any, body: string) =&amp;gt; {
          if (err) {
            console.log(&#39;err&#39;, err)
            process.exit(1)
          }
          if (response.statusCode !== 200) {
            console.log(&#39;err&#39;, &#39;http err&#39;)
            process.exit(1)
          }
          const bodys = JSON.parse(body)
          if (bodys.code === 0) {
            console.log(bodys.data.fixUrl, &#39;success~&#39;.green)
            reslove(1)
          }
        }
      )
    })
  }
  // ä¸Šä¼ å‰æ£€æµ‹
  uploadPre(filePath: string, outDir: string) {
    this.isExistObject(filePath).then((res: number) =&amp;gt; {
      if (res === 1) {
        return this.upload(filePath, outDir)
      }
    })
  }
}
export default FileUploader

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å°†å®ƒå°è£…åˆ°å‰ç«¯ç»„ä»¶åº“ä¸­ï¼Œç„¶ååœ¨viteä¸­ä½¿ç”¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// vite.config.js
import { FileUploader } from &#39;@msb-next/vite-plugin-upload&#39;
const isProd = process.env.VITE_APP_ENV &amp;amp;&amp;amp; process.env.VITE_APP_ENV !== &#39;dev&#39;
  let plugins = [
    reactRefresh(),
    antdDayjs(),
    vitePluginImp({
      libList: [
        {
          libName: &#39;lodash&#39;,
          libDirectory: &#39;&#39;,
          camel2DashComponentName: false,
          style: () =&amp;gt; {
            return false
          },
        },
        {
          libName: &#39;antd&#39;,
          style(name) {
            return `antd/es/${name}/style/index.css`
          },
        },
      ],
    }),
  ]
  let base = &#39;/&#39;
  let sourcemap = true
  //////////////////////////// ä¸»è¦æ˜¯è¿™é‡Œ /////////////////////////////////////
  if (isProd) {
    const uploader = new FileUploader({
      env: process.env.VITE_APP_ENV,
    })
    // ä¿®æ”¹baseè·¯å¾„
    base = (await uploader.init()) as string
    plugins.push(uploader.UploadPlugin())
    sourcemap = false
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œå…¶å®æ€è·¯å°±å¾ˆæ¸…æ™°äº†ï¼Œå¤§å®¶åŸºæœ¬èƒ½å¤Ÿå®Œæˆä¸€ä¸ªè‡ªå®šä¹‰viteæ’ä»¶äº†ï¼Œä¸‹é¢å°±æ˜¯æˆ‘nodeå±‚çš„ä»£ç äº†ï¼Œå¤§å®¶åº”è¯¥èƒ½çœ‹æ˜ç™½ï¼š&lt;br&gt;
å…ˆè‡ªå®šä¹‰ä¸€ä¸ªkoaä¸­é—´ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const OSS = require(&#39;ali-oss&#39;);
/**
 * oss è¿æ¥oss
 * @param ctx
 * @param next
 * @returns {Promise&amp;lt;void&amp;gt;}
 */
const connect = async (ctx, next) =&amp;gt; {
  let bucket = &#39;&#39;;
  if (ctx.request.method === &#39;POST&#39;) {
    const body = ctx.request.body;
    bucket = body.bucket;
  } else {
    bucket = ctx.query.bucket;
  }
  // ä»redisä¸­è·å–osså¯†é’¥ç­‰é‡è¦ä¿¡æ¯ï¼Œçœ‹çœ‹æ˜¯å¦æ”¯æŒå½“å‰çš„bucketï¼Œè¿™æ ·æ–°å¢bucketæ—¶æ¯”è¾ƒçµæ´»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å†™æ­»ã€‚
  const ossAccessRes = await redisClient.get(&#39;ossAccess&#39;);
  const ossAccess = JSON.parse(ossAccessRes);

  const ossConf = ossAccess.find(v =&amp;gt; v.bucket === bucket);
  let client, urlPrefix;
  try {
    client = new OSS(ossConf);
    urlPrefix = ossConf.url;
  } catch (e) {
    ctx.DATA.msg = &#39;æš‚ä¸æ”¯æŒå½“å‰bucket&#39;;
    ctx.body = ctx.DATA;
    throw new HttpError(200);
  }
  ctx.OSS = client;
  ctx.urlPrefix = urlPrefix;
  await next();
};

module.exports = {
  connect
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;router.js&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const router = require(&#39;koa-router&#39;)();

// åˆšæ‰å®šä¹‰çš„ oss ä¸­é—´ä»¶
const oss = require(&#39;../utils/middleware/oss&#39;);

// æ§åˆ¶å™¨
const {index, bucketList} = require(&#39;../controllers/index&#39;);
const api = require(&#39;../controllers/api&#39;);

// æ·»åŠ è·¯ç”±
router.post(&#39;/api/upload&#39;, oss.connect, api.upload);
router.get(&#39;/api/list&#39;, oss.connect, api.list);
router.get(&#39;/api/url&#39;, oss.connect, api.url);
router.post(&#39;/api/del&#39;, oss.connect, api.del);
router.get(&#39;/api/isExistObject&#39;, oss.connect, api.isExistObject);
router.get(&#39;/api/bucketList&#39;, bucketList);

module.exports = router;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;controller/api.js&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const fs = require(&#39;fs&#39;);
const {CustomError} = require(&#39;../utils/tool/error&#39;);
const DEL_SWITCH = false;

/**
 * ä¸Šä¼ 
 */
const upload = async (ctx) =&amp;gt; {
  const {file} = ctx.request.files;
  const {key} = ctx.request.body;
  const stream = fs.createReadStream(file.path);
  const {name, res, url} = await ctx.OSS.putStream(key, stream);
  ctx.DATA.data = {
    ...res,
    name,
    url,
    fixUrl: `${ctx.urlPrefix}/${name}`
  };
  ctx.body = ctx.DATA;
};

/**
 * è·å–ossåˆ—è¡¨
 */
const list = async (ctx, next) =&amp;gt; {
  const name = ctx.query.name;
  console.log(name);
  ctx.DATA.data = await ctx.OSS.list({
    prefix: name,
    delimiter: &#39;/&#39;
  });
  if (ctx.DATA.data.res.status !== 200) {
    throw new CustomError(0, &#39;æ–‡ä»¶æŸ¥æ‰¾å¤±è´¥&#39;);
  }
  delete ctx.DATA.data.res;
  ctx.body = ctx.DATA;
};

/**
 * è·å–æ–‡ä»¶ä¸‹è½½é“¾æ¥ï¼Œæœ‰æ•ˆæœŸ1åˆ†é’Ÿ
 */
const url = async (ctx) =&amp;gt; {
  const name = ctx.query.name;
  ctx.DATA.data = ctx.OSS.signatureUrl(name, {expires: 3600});
  ctx.body = ctx.DATA;
};

/**
 * åˆ é™¤æ–‡ä»¶ã€æ–‡ä»¶å¤¹
 */
const del = async (ctx) =&amp;gt; {
  if (DEL_SWITCH) {
    let dat = ctx.request.body;
    let delList = dat[0];
    let directory = dat[1];
    try {
      for (let i = 0; i &amp;lt; directory.length; i++) {
        let retList = await ctx.OSS.list({
          prefix: directory[i]
        });
        retList.objects.reverse();
        retList.objects.map(item =&amp;gt; {
          delList.push(item.name);
        });
      }
    } catch (e) {
      throw new CustomError(0, &#39;åˆ é™¤æ–‡ä»¶:æ•´åˆå¤±è´¥&#39;);
    }
    let result = await ctx.OSS.deleteMulti(delList, {quiet: true});
    if (result.res.status !== 200) {
      throw new CustomError(0, &#39;åˆ é™¤å¤±è´¥&#39;);
    }
    ctx.DATA.msg = &#39;åˆ é™¤æˆåŠŸ&#39;;
    ctx.body = ctx.DATA;
  } else {
    ctx.DATA.msg = &#39;åˆ é™¤æ–‡ä»¶ã€æ–‡ä»¶å¤¹åŠŸèƒ½æœªå¼€æ”¾ï¼&#39;;
    ctx.body = ctx.DATA;
  }
};

/**
 * åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨
 * @param ctx
 * @returns {Promise&amp;lt;void&amp;gt;}
 */
const isExistObject = async (ctx) =&amp;gt; {
  // ç”¨äºåˆ¤æ–­å—ç‰ˆæœ¬æ§åˆ¶Bucketä¸­æŒ‡å®šversionIdçš„Objectæ˜¯å¦å­˜åœ¨ã€‚
  const options = {
    // å¡«å†™Objectçš„versionIdã€‚
    versionId: &#39;&#39;
  };
  const name = ctx.query.name;
  try {
    const res = await ctx.OSS.head(name, options);
    ctx.DATA.data = res;
    ctx.DATA.msg = &#39;æ–‡ä»¶å­˜åœ¨&#39;;
    ctx.body = ctx.DATA;
  }  catch (error) {
    if (error.code === &#39;NoSuchKey&#39;) {
      ctx.DATA.code = 1;
      ctx.DATA.msg = &#39;æ–‡ä»¶ä¸å­˜åœ¨&#39;;
      ctx.body = ctx.DATA;
    }
  }
};

module.exports = {
  upload,
  list,
  url,
  del,
  isExistObject,
};

&lt;/code&gt;&lt;/pre&gt;
">viteè‡ªå®šä¹‰ä¸Šä¼ æ’ä»¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/zi-ding-yi-yi-ge-webpack-de-cha-jian"" data-c="
          &lt;h3 id=&#34;1-webpackæ’ä»¶çš„åŸºæœ¬åŸç†&#34;&gt;1ã€webpackæ’ä»¶çš„åŸºæœ¬åŸç†&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼Œwebpack å°±åƒä¸€æ¡ç”Ÿäº§çº¿,è¦ç»è¿‡ä¸€ç³»åˆ—å¤„ç†æµç¨‹åæ‰èƒ½å°†æºæ–‡ä»¶è½¬æ¢æˆè¾“å‡ºç»“æœã€‚ è¿™æ¡ç”Ÿäº§çº¿ä¸Šçš„æ¯ä¸ªå¤„ç†æµç¨‹çš„èŒè´£éƒ½æ˜¯å•ä¸€çš„,å¤šä¸ªæµç¨‹ä¹‹é—´æœ‰å­˜åœ¨ä¾èµ–å…³ç³»,åªæœ‰å®Œæˆå½“å‰å¤„ç†åæ‰èƒ½äº¤ç»™ä¸‹ä¸€ä¸ªæµç¨‹å»å¤„ç†ã€‚ æ’ä»¶å°±åƒæ˜¯ä¸€ä¸ªæ’å…¥åˆ°ç”Ÿäº§çº¿ä¸­çš„ä¸€ä¸ªåŠŸèƒ½,åœ¨ç‰¹å®šçš„æ—¶æœºå¯¹ç”Ÿäº§çº¿ä¸Šçš„èµ„æºåšå¤„ç†ã€‚&lt;br&gt;
webpack é€šè¿‡ Tapable æ¥ç»„ç»‡è¿™æ¡å¤æ‚çš„ç”Ÿäº§çº¿ã€‚ webpack åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶,æ’ä»¶åªéœ€è¦ç›‘å¬å®ƒæ‰€å…³å¿ƒçš„äº‹ä»¶,å°±èƒ½åŠ å…¥åˆ°è¿™æ¡ç”Ÿäº§çº¿ä¸­,å»æ”¹å˜ç”Ÿäº§çº¿çš„è¿ä½œã€‚ webpack çš„äº‹ä»¶æµæœºåˆ¶ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§,ä½¿å¾—æ•´ä¸ªç³»ç»Ÿæ‰©å±•æ€§å¾ˆå¥½ã€‚&lt;br&gt;
&lt;a href=&#34;https://www.webpackjs.com/contribute/writing-a-plugin/&#34;&gt;å®˜ç½‘æä¾›çš„è‡ªå®šä¹‰æ’ä»¶æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;tapable æ˜¯ä¸€ä¸ªç±»ä¼¼äº Node.js ä¸­çš„ EventEmitterçš„åº“ï¼Œä½†æ›´ä¸“æ³¨äºè‡ªå®šä¹‰äº‹ä»¶çš„è§¦å‘å’Œå¤„ç†ã€‚webpack é€šè¿‡ tapable å°†å®ç°ä¸æµç¨‹è§£è€¦ï¼Œæ‰€æœ‰å…·ä½“å®ç°é€šè¿‡æ’ä»¶çš„å½¢å¼å­˜åœ¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;tapableä½œä¸ºwebpackçš„ä¸»æ¨¡å—ï¼Œéœ€è¦å•ç‹¬æŠ½ä¸€ç¯‡å‡ºæ¥è®²ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ è¦å†™sdkéœ€è¦å‘å¤–å±‚åéœ²æ•°æ®çš„è¯ï¼Œå»ºè®®è¿˜æ˜¯ç”¨EventEmitteråº“ï¼Œä¸å»ºè®®ç”¨tapableï¼Œå› ä¸ºå®ƒé”€æ¯å…¨éƒ¨æ³¨å†Œäº‹ä»¶ä¸æ˜¯å¾ˆå®¹æ˜“ã€‚&lt;br&gt;
å¥½äº†ï¼Œå†™webpackæ’ä»¶å¿…é¡»è¦äº†è§£tapableï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆç®€å•ä»‹ç»ä¸€ä¸‹å®ƒçš„å‡ ä¸ªå¸¸ç”¨çš„é’©å­ï¼Œå…¶ä»–çš„å¯ä»¥ç½‘ä¸ŠæŸ¥ï¼Œè¿™é‡Œæœ‰ç¯‡å†™çš„è¿˜ä¸é”™&lt;a href=&#34;https://blog.csdn.net/mafan121/article/details/113120081&#34;&gt;tapableè¯¦è§£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;const {
  SyncHook,
  SyncBailHook,
  SyncWaterfallHook,
  SyncLoopHook,
  AsyncParallelHook,
  AsyncParallelBailHook,
  AsyncSeriesHook,
  AsyncSeriesBailHook,
  AsyncSeriesWaterfallHook
} = require(&#39;tapable&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;tapableé€šè¿‡tapæ³¨å†Œä¸€ä¸ªäº‹ä»¶é€šè¿‡callæ‰§è¡Œè¯¥é’©å­æ³¨å†Œçš„æ‰€æœ‰äº‹ä»¶-tapableçš„æ¯ä¸ªhookséƒ½tapä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶-tapasynccallasync-tappromisepromiseç”¨äºæ³¨å†ŒåŒæ­¥æ‰§è¡Œçš„å¼‚æ­¥äº‹ä»¶callasyncç”¨åœ¨å¹¶è¡Œæ‰§è¡Œçš„å¼‚æ­¥é’©å­å®Œæˆåå†æ‰§è¡Œè¯¥å‡½æ•°&#34;&gt;tapableé€šè¿‡tapæ³¨å†Œä¸€ä¸ªäº‹ä»¶ï¼Œé€šè¿‡callæ‰§è¡Œè¯¥é’©å­æ³¨å†Œçš„æ‰€æœ‰äº‹ä»¶ã€‚tapableçš„æ¯ä¸ªhookséƒ½tapä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶ã€‚tapAsync/callAsyncã€tapPromise/Promiseç”¨äºæ³¨å†ŒåŒæ­¥æ‰§è¡Œçš„å¼‚æ­¥äº‹ä»¶ï¼ŒcallAsyncç”¨åœ¨å¹¶è¡Œæ‰§è¡Œçš„å¼‚æ­¥é’©å­å®Œæˆåå†æ‰§è¡Œè¯¥å‡½æ•°ã€‚&lt;/h3&gt;
&lt;p&gt;å…·ä½“ä½¿ç”¨ä¸¾ä¸ªä¾‹å­ï¼ˆæ¯”å¦‚SyncHookï¼Œä¾æ¬¡æ‰§è¡Œæ³¨å†Œäº‹ä»¶ï¼Œæ— æ³•ä¸­æ–­ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; const hook = new SyncHook([&#39;name&#39;, &#39;sex&#39;])
  /*
  tap(options,function):
  optionsæ˜¯äº‹ä»¶æè¿°ï¼Œå¯ä»¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä¸ºä¸€ä¸ªå¯¹è±¡,ä¸ºå¯¹è±¡æ—¶å¿…é¡»åŒ…å«nameå±æ€§ï¼Œæè¿°è¯¥æ’ä»¶åç§°ã€‚
  function:å›è°ƒå‡½æ•°
  */
  // æ‰“å°æˆ‘çš„åå­—
  hook.tap(&#39;printName&#39;, (name) =&amp;gt; {
    console.log(&#39;my name is &#39; + name);
  })
  hook.tap(&#39;printSex&#39;, (name, sex) =&amp;gt; {
    console.log(&#39;Iâ€™m a &#39; + sex);
  })
  // call(arg1,arg2,...)
  hook.call(&#39;å¼ ä¸‰&#39;, &#39;man&#39;);

  æ‰§è¡Œç»“æœï¼š

    my name is å¼ ä¸‰

    Iâ€™m a man
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¥½äº†ï¼Œè¯´äº†ä¸€å †tapableäº†ï¼Œè¯¥è¯´webpackæ’ä»¶äº†ã€‚&lt;/p&gt;
&lt;p&gt;webpack æ’ä»¶ç”±ä»¥ä¸‹ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ª JavaScript å‘½åå‡½æ•°ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ’ä»¶å‡½æ•°çš„ prototype ä¸Šå®šä¹‰ä¸€ä¸ª apply æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;æŒ‡å®šä¸€ä¸ªç»‘å®šåˆ° webpack è‡ªèº«çš„äº‹ä»¶é’©å­ã€‚&lt;/li&gt;
&lt;li&gt;å¤„ç† webpack å†…éƒ¨å®ä¾‹çš„ç‰¹å®šæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;åŠŸèƒ½å®Œæˆåè°ƒç”¨ webpack æä¾›çš„å›è°ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å®˜ç½‘çš„ç®€å•ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// ä¸€ä¸ª JavaScript å‘½åå‡½æ•°ã€‚
function MyExampleWebpackPlugin() {

};

// åœ¨æ’ä»¶å‡½æ•°çš„ prototype ä¸Šå®šä¹‰ä¸€ä¸ª `apply` æ–¹æ³•ã€‚
MyExampleWebpackPlugin.prototype.apply = function(compiler) {
  // æŒ‡å®šä¸€ä¸ªæŒ‚è½½åˆ° webpack è‡ªèº«çš„äº‹ä»¶é’©å­ã€‚
  compiler.plugin(&#39;webpacksEventHook&#39;, function(compilation /* å¤„ç† webpack å†…éƒ¨å®ä¾‹çš„ç‰¹å®šæ•°æ®ã€‚*/, callback) {
    console.log(&amp;quot;This is an example plugin!!!&amp;quot;);

    // åŠŸèƒ½å®Œæˆåè°ƒç”¨ webpack æä¾›çš„å›è°ƒã€‚
    callback();
  });
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬ä½¿ç”¨è¯¥pluginçš„æ—¶å€™ï¼Œç›¸å…³è°ƒç”¨åŠé…ç½®ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const MyExampleWebpackPlugin = require(&#39;./MyExampleWebpackPlugin&#39;);
module.exports = {
  plugins: [
    new MyExampleWebpackPlugin(options)
  ]
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘å¼€å§‹è¯´äº†ä¸€å¤§å †tapableï¼Œå…¶å®å°±æ˜¯ä¸ºäº†è¯´æ˜ç™½webpackæ’ä»¶çš„åŸç†&lt;/p&gt;
&lt;p&gt;ç”¨ä»£ç è¯´æ˜å§ï¼Œä¸€ä¸ªcompiler.jsï¼Œä¸€ä¸ªmain.js&lt;br&gt;
compiler.js&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// éœ€è¦åšçš„äº‹æƒ…å¦‚ä¸‹ï¼š
// 1. å®šä¹‰ä¸€ä¸ª Compiler ç±»ï¼Œæ¥æ”¶ä¸€ä¸ªoptionså¯¹è±¡å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä»main.jsä¸­çš„MyPluginç±»çš„å®åˆ—å¯¹è±¡ã€‚è¯¥å¯¹è±¡ä¸‹æœ‰ applyå‡½æ•°ã€‚

// 2. åœ¨è¯¥ç±»ä¸­æˆ‘ä»¬å®šä¹‰äº†runæ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨main.js ä¸­æ‰§è¡Œè¯¥runå‡½æ•°å°±å¯ä»¥è‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„æ’ä»¶äº†ã€‚

const { SyncHook, AsyncParallelHook } = require(&#39;tapable&#39;);

class Compiler {
  constructor(options) {
    this.hooks = {
      kzSyncHook: new SyncHook([&#39;name&#39;, &#39;age&#39;]),
      kzAsyncHook: new AsyncParallelHook([&#39;name&#39;, &#39;age&#39;])
    };
    let plugins = options.plugins;
    if (plugins &amp;amp;&amp;amp; plugins.length &amp;gt; 0) {
      plugins.forEach(plugin =&amp;gt; plugin.apply(this));
    }
  }
  run() {
    console.log(&#39;å¼€å§‹æ‰§è¡Œäº†---------&#39;);
    this.kzSyncHook(&#39;æˆ‘æ˜¯å°æ˜&#39;, 81);
    this.kzAsyncHook(&#39;æˆ‘æ˜¯å°çº¢&#39;, 91);
  }
  kzSyncHook(name, age) {
    this.hooks.kzSyncHook.call(name, age);
  }
  kzAsyncHook(name, age) {
    this.hooks.kzAsyncHook.callAsync(name, age);
  }
}

module.exports = Compiler;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;main.js&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// éœ€è¦åšçš„äº‹æƒ…å¦‚ä¸‹ï¼š
// 1. å¼•å…¥ compiler.js æ–‡ä»¶ã€‚
// 2. å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„æ’ä»¶ï¼Œæ¯”å¦‚å« MyPlugin ç±»ï¼Œè¯¥ç±»ä¸‹æœ‰ apply å‡½æ•°ã€‚è¯¥å‡½æ•°æœ‰ä¸€ä¸ª compiler å‚æ•°ï¼Œè¯¥å‚æ•°å°±æ˜¯æˆ‘ä»¬çš„ compiler.js ä¸­çš„å®åˆ—å¯¹è±¡ã€‚ç„¶åæˆ‘ä»¬ä¼šä½¿ç”¨ compiler å®åˆ—å¯¹è±¡å»è°ƒç”¨ compiler.js é‡Œé¢çš„å‡½æ•°ã€‚å› æ­¤å°±å¯ä»¥è‡ªåŠ¨æ‰§è¡Œäº†ã€‚
const Compiler = require(&#39;./compiler&#39;);

class MyPlugin {
  constructor() {
    
  }
  apply(compiler) {
    compiler.hooks.kzSyncHook.tap(&amp;quot;eventName1&amp;quot;, (name, age) =&amp;gt; {
      console.log(`åŒæ­¥äº‹ä»¶eventName1ï¼š ${name} this year ${age} å‘¨å²äº†, å¯æ˜¯è¿˜æ˜¯å•èº«`);
    });
    compiler.hooks.kzAsyncHook.tapAsync(&#39;eventName2&#39;, (name, age) =&amp;gt; {
      setTimeout(() =&amp;gt; {
        console.log(`å¼‚æ­¥äº‹ä»¶eventName2ï¼š ${name} this year ${age}å‘¨å²äº†ï¼Œå¯æ˜¯è¿˜æ˜¯å•èº«`);
      }, 1000)
    });
  }
}

const myPlugin = new MyPlugin();

const options = {
  plugins: [myPlugin]
};

const compiler = new Compiler(options);
compiler.run();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;çœ‹åˆ°æ²¡ï¼Œè¿™ç§ä½¿ç”¨æ–¹å¼æ˜¯ä¸æ˜¯å’Œå®˜ç½‘çš„ä½¿ç”¨æ–¹å¼å¾ˆç›¸ä¼¼ï½è¿™å›çŸ¥é“åŸç†äº†å§ï½&lt;/p&gt;
&lt;p&gt;ç°åœ¨çœ‹å®˜ç½‘çš„ç®€å•ä¾‹å­ï¼Œwebpackå¯åŠ¨åï¼Œåœ¨è¯»å–é…ç½®çš„è¿‡ç¨‹ä¸­ä¼šå…ˆæ‰§è¡Œ new MyExampleWebpackPlugin(options) åˆå§‹åŒ–MyExampleWebpackPluginæ¥è·å¾—ä¸€ä¸ªå®ä¾‹ã€‚&lt;br&gt;
ç„¶åæˆ‘ä»¬ä¼šæŠŠè¯¥å®ä¾‹å½“åšå‚æ•°ä¼ é€’ç»™æˆ‘ä»¬çš„Compilerå¯¹è±¡ï¼Œç„¶åä¼šå®ä¾‹åŒ– Compilerç±»(è¿™ä¸ªé€»è¾‘å¯ä»¥ç»“åˆçœ‹æˆ‘ä»¬ä¸Šé¢å®ç°äº†ä¸€ä¸ªç®€å•çš„demoä¸­ çš„main.jså’Œcompiler.jsçš„ä»£ç ç»“åˆèµ·æ¥ç†è§£)ã€‚åœ¨Compilerç±»ä¸­ï¼Œæˆ‘ä»¬ä¼šè·å–åˆ°optionsçš„è¿™ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸‹æœ‰ä¸€ä¸ª plugins è¿™ä¸ªå±æ€§ã€‚&lt;br&gt;
ç„¶åéå†è¯¥å±æ€§ï¼Œç„¶åä¾æ¬¡æ‰§è¡Œ æŸé¡¹æ’ä»¶ä¸­çš„applyæ–¹æ³•ï¼Œå³ï¼šmyExampleWebpackPlugin.apply(compiler); ç»™æ’ä»¶ä¼ é€’compilerå¯¹è±¡ã€‚æ’ä»¶å®ä¾‹è·å–è¯¥compilerå¯¹è±¡åï¼Œå°±å¯ä»¥é€šè¿‡ compiler.plugin(&#39;äº‹ä»¶åç§°&#39;, &#39;å›è°ƒå‡½æ•°&#39;); ç›‘å¬åˆ°webpackå¹¿æ’­å‡ºæ¥çš„äº‹ä»¶.(è¿™ä¸ªåœ°æ–¹æˆ‘ä»¬å¯ä»¥çœ‹æˆ‘ä»¬ä¸Šé¢çš„main.jsä¸­çš„å¦‚ä¸‹ä»£ç å¯ä»¥çœ‹åˆ°, åœ¨æˆ‘ä»¬çš„main.jsä»£ç ä¸­æœ‰è¿™æ ·ä»£ç ï¼šcompiler.hooks.kzSyncHook.tap(&amp;quot;eventName1&amp;quot;, (name, age) =&amp;gt; {}));&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„Pluginçš„æ’ä»¶åŸç†(åˆ‡è®°ï¼šç»“åˆä¸Šé¢çš„demoä¸­main.jså’Œcompiller.jsæ¥ç†è§£æ•ˆæœä¼šæ›´å¥½)ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-compiler-å’Œ-compilation&#34;&gt;2ã€Compiler å’Œ Compilation&lt;/h3&gt;
&lt;p&gt;åœ¨å¼€å‘Pluginæ—¶æˆ‘ä»¬æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå¯¹è±¡å°±æ˜¯ Compiler å’Œ Compilation, ä»–ä»¬æ˜¯Pluginå’Œwebpackä¹‹é—´çš„æ¡¥æ¢ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;compiler å¯¹è±¡ä»£è¡¨äº†å®Œæ•´çš„ webpack ç¯å¢ƒé…ç½®ã€‚è¿™ä¸ªå¯¹è±¡åœ¨å¯åŠ¨ webpack æ—¶è¢«ä¸€æ¬¡æ€§å»ºç«‹ï¼Œå¹¶é…ç½®å¥½æ‰€æœ‰å¯æ“ä½œçš„è®¾ç½®ï¼ŒåŒ…æ‹¬ optionsï¼Œloader å’Œ pluginã€‚å½“åœ¨ webpack ç¯å¢ƒä¸­åº”ç”¨ä¸€ä¸ªæ’ä»¶æ—¶ï¼Œæ’ä»¶å°†æ”¶åˆ°æ­¤ compiler å¯¹è±¡çš„å¼•ç”¨ã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥è®¿é—® webpack çš„ä¸»ç¯å¢ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;compilation å¯¹è±¡ä»£è¡¨äº†ä¸€æ¬¡èµ„æºç‰ˆæœ¬æ„å»ºã€‚å½“è¿è¡Œ webpack å¼€å‘ç¯å¢ƒä¸­é—´ä»¶æ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ compilationï¼Œä»è€Œç”Ÿæˆä¸€ç»„æ–°çš„ç¼–è¯‘èµ„æºã€‚ä¸€ä¸ª compilation å¯¹è±¡è¡¨ç°äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ã€ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ã€‚compilation å¯¹è±¡ä¹Ÿæä¾›äº†å¾ˆå¤šå…³é”®æ—¶æœºçš„å›è°ƒï¼Œä»¥ä¾›æ’ä»¶åšè‡ªå®šä¹‰å¤„ç†æ—¶é€‰æ‹©ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;compilerå¯¹è±¡&#34;&gt;Compilerå¯¹è±¡&lt;/h4&gt;
&lt;p&gt;Compilerå¯¹è±¡åŒ…å«äº†Webpackç¯å¢ƒæ‰€æœ‰çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…å«optionsï¼Œloaders, pluginsè¿™äº›é¡¹ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨webpackå¯åŠ¨æ—¶å€™è¢«å®ä¾‹åŒ–ï¼Œå®ƒæ˜¯å…¨å±€å”¯ä¸€çš„ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£ä¸ºwebpackçš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;åŸºæœ¬æºç å¯ä»¥çœ‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// webpack/lib/webpack.js
const Compiler = require(&amp;quot;./Compiler&amp;quot;)

const webpack = (options, callback) =&amp;gt; {
  ...
  // åˆå§‹åŒ– webpack å„é…ç½®å‚æ•°
  options = new WebpackOptionsDefaulter().process(options);

  // åˆå§‹åŒ– compiler å¯¹è±¡ï¼Œè¿™é‡Œ options.context ä¸º process.cwd()
  let compiler = new Compiler(options.context);

  compiler.options = options                               // å¾€ compiler æ·»åŠ åˆå§‹åŒ–å‚æ•°

  new NodeEnvironmentPlugin().apply(compiler)              // å¾€ compiler æ·»åŠ  Node ç¯å¢ƒç›¸å…³æ–¹æ³•

  for (const plugin of options.plugins) {
    plugin.apply(compiler);
  }
  ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/webpack/webpack/blob/10282ea20648b465caec6448849f24fc34e1ba3e/lib/webpack.js#L30&#34;&gt;æºç å¯ä»¥ç‚¹å‡»è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒCompilerå¯¹è±¡åŒ…å«äº†æ‰€æœ‰çš„webpackå¯é…ç½®çš„å†…å®¹ã€‚å¼€å‘æ’ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä» compiler å¯¹è±¡ä¸­æ‹¿åˆ°æ‰€æœ‰å’Œ webpack ä¸»ç¯å¢ƒç›¸å…³çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;compilationå¯¹è±¡&#34;&gt;compilationå¯¹è±¡&lt;/h4&gt;
&lt;p&gt;compilation å¯¹è±¡åŒ…å«äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€æ–‡ä»¶çš„å˜åŒ–ç­‰ã€‚å½“webpackåœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œæ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆä¸€æ¬¡æ–°çš„ Compilationå°†ä¼šè¢«åˆ›å»ºã€‚ä»è€Œç”Ÿæˆä¸€ç»„æ–°çš„ç¼–è¯‘èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;Compilerå¯¹è±¡ ä¸ Compilation å¯¹è±¡ çš„åŒºåˆ«æ˜¯ï¼šCompilerä»£è¡¨äº†æ˜¯æ•´ä¸ªwebpackä»å¯åŠ¨åˆ°å…³é—­çš„ç”Ÿå‘½å‘¨æœŸã€‚Compilation å¯¹è±¡åªä»£è¡¨äº†ä¸€æ¬¡æ–°çš„ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;Compilerå¯¹è±¡çš„äº‹ä»¶é’©å­:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;é’©å­               ä½œç”¨                     å‚æ•°               ç±»å‹
after-plugins     è®¾ç½®å®Œä¸€ç»„åˆå§‹åŒ–æ’ä»¶ä¹‹å    compiler          sync
after-resolvers   è®¾ç½®å®Œ resolvers ä¹‹å     compiler          sync
run               åœ¨è¯»å–è®°å½•ä¹‹å‰             compiler          async
compile           åœ¨åˆ›å»ºæ–° compilationä¹‹å‰  compilationParams  sync
compilation       compilation åˆ›å»ºå®Œæˆ      compilation        sync
emit              åœ¨ç”Ÿæˆèµ„æºå¹¶è¾“å‡ºåˆ°ç›®å½•ä¹‹å‰  compilation        async
after-emit        åœ¨ç”Ÿæˆèµ„æºå¹¶è¾“å‡ºåˆ°ç›®å½•ä¹‹å  compilation        async
done              å®Œæˆç¼–è¯‘                  stats              sync
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/webpack/webpack/blob/eca7bad8de54c39b9cb8b138793362b8a17ac11b/lib/Compiler.js#L32&#34;&gt;æºç åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;ç†è§£webpackä¸­çš„äº‹ä»¶æµ&#34;&gt;ç†è§£webpackä¸­çš„äº‹ä»¶æµ&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠwebpackç†è§£ä¸ºä¸€æ¡ç”Ÿäº§çº¿ï¼Œéœ€è¦ç»è¿‡ä¸€ç³»åˆ—å¤„ç†æµç¨‹åæ‰èƒ½å°†æºæ–‡ä»¶è½¬æ¢æˆè¾“å‡ºç»“æœã€‚&lt;br&gt;
è¿™æ¡ç”Ÿäº§çº¿ä¸Šçš„æ¯ä¸ªå¤„ç†æµç¨‹çš„èŒè´£éƒ½æ˜¯å•ä¸€çš„ï¼Œå¤šä¸ªæµç¨‹ä¹‹é—´ä¼šå­˜åœ¨ä¾èµ–å…³ç³»ï¼Œåªæœ‰å®Œæˆå½“å‰å¤„ç†åæ‰èƒ½äº¤ç»™ä¸‹ä¸€ä¸ªæµç¨‹å»å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„æ’ä»¶å°±åƒä¸€ä¸ªæ’å…¥åˆ°ç”Ÿäº§çº¿ä¸­çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œåœ¨ç‰¹å®šçš„æ—¶æœºå¯¹ç”Ÿäº§çº¿ä¸Šçš„èµ„æºä¼šåšå¤„ç†ã€‚webpackå®ƒæ˜¯é€šè¿‡ Tapableæ¥ç»„ç»‡è¿™æ¡å¤æ‚çš„ç”Ÿäº§çº¿çš„ã€‚&lt;/p&gt;
&lt;p&gt;webpackåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶ï¼Œæ’ä»¶åªéœ€è¦å…³å¿ƒç›‘å¬å®ƒçš„äº‹ä»¶ï¼Œå°±èƒ½åŠ å…¥åˆ°è¿™æ¡ç”Ÿäº§çº¿ä¸­ã€‚ç„¶åä¼šæ‰§è¡Œç›¸å…³çš„æ“ä½œã€‚&lt;br&gt;
webpackçš„äº‹ä»¶æµæœºåˆ¶å®ƒèƒ½ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§ï¼Œä½¿æ•´ä¸ªç³»ç»Ÿçš„æ‰©å±•æ€§å¥½ã€‚äº‹ä»¶æµæœºåˆ¶ä½¿ç”¨äº†è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°çš„ã€‚æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/*
 * å¹¿æ’­äº‹ä»¶
 * myPlugin-name ä¸ºäº‹ä»¶åç§°
 * params ä¸ºé™„å¸¦çš„å‚æ•°
*/

compiler.apply(&#39;myPlugin-name&#39;, params); // myPlugin-nameéšä¾¿å†™ï¼Œå°±æ˜¯ä¸€ä¸ªåå­—

/*
 * ç›‘å¬åç§°ä¸º &#39;myPlugin-name&#39; çš„äº‹ä»¶ï¼Œå½“ myPlugin-name äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå‡½æ•°å°±ä¼šæ‰§è¡Œã€‚
*/

compiler.hooks.myPlugin-name.tap(&#39;myPlugin-name&#39;, function(params) {
  
});
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ’ä»¶ä¸­å¸¸ç”¨çš„api&#34;&gt;æ’ä»¶ä¸­å¸¸ç”¨çš„API&lt;/h3&gt;
&lt;h4 id=&#34;compilerç”Ÿå‘½å‘¨æœŸé’©å­&#34;&gt;compilerç”Ÿå‘½å‘¨æœŸé’©å­&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://www.webpackjs.com/api/compiler-hooks/&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Compiler æ”¯æŒå¯ä»¥ç›‘æ§æ–‡ä»¶ç³»ç»Ÿçš„&lt;a href=&#34;https://www.webpackjs.com/api/node/#watching&#34;&gt;ç›‘å¬(watching)&lt;/a&gt;æœºåˆ¶ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ä¿®æ”¹æ—¶é‡æ–°ç¼–è¯‘ã€‚å½“å¤„äºç›‘å¬æ¨¡å¼(watch mode)æ—¶ï¼Œcompiler ä¼šè§¦å‘è¯¸å¦‚ watchRun, watchClose å’Œ invalid ç­‰é¢å¤–çš„äº‹ä»¶ã€‚é€šå¸¸ç”¨äºå¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¹Ÿå¸¸å¸¸ä¼šåœ¨ webpack-dev-server è¿™äº›å·¥å…·çš„åº•å±‚ä¹‹ä¸‹è°ƒç”¨ï¼Œç”±æ­¤å¼€å‘äººå‘˜æ— é¡»æ¯æ¬¡éƒ½ä½¿ç”¨æ‰‹åŠ¨æ–¹å¼é‡æ–°ç¼–è¯‘ã€‚è¿˜å¯ä»¥é€šè¿‡ CLI è¿›å…¥ç›‘å¬æ¨¡å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›¸å…³é’©å­ï¼š&lt;br&gt;
ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œæ˜¯ç”± compiler æš´éœ²ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è®¿é—®ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;compiler.hooks.someHook.tap(...)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å–å†³äºä¸åŒçš„é’©å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥åœ¨æŸäº›é’©å­ä¸Šè®¿é—® tapAsync å’Œ tapPromiseã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;ç”Ÿå‘½å‘¨æœŸ&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å¯¹åº”hooks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;æ‰§è¡Œæ—¶æœº&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å‚æ•°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;entryOption&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncBailHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åœ¨ entry é…ç½®é¡¹å¤„ç†è¿‡ä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;afterPlugins&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è®¾ç½®å®Œåˆå§‹æ’ä»¶ä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compiler&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;afterResolvers&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;resolver å®‰è£…å®Œæˆä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compiler&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;environment&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;environment å‡†å¤‡å¥½ä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;afterEnvironment&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;environment å®‰è£…å®Œæˆä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;beforeRun&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncSeriesHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compiler.run() æ‰§è¡Œä¹‹å‰ï¼Œæ·»åŠ ä¸€ä¸ªé’©å­ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compiler&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;run&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncSeriesHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å¼€å§‹è¯»å– records ä¹‹å‰ï¼Œé’©å…¥(hook into) compilerã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compiler&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;watchRun&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncSeriesHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç›‘å¬æ¨¡å¼ä¸‹ï¼Œä¸€ä¸ªæ–°çš„ç¼–è¯‘(compilation)è§¦å‘ä¹‹åï¼Œæ‰§è¡Œä¸€ä¸ªæ’ä»¶ï¼Œä½†æ˜¯æ˜¯åœ¨å®é™…ç¼–è¯‘å¼€å§‹ä¹‹å‰ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compiler&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;normalModuleFactory&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;NormalModuleFactory åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;normalModuleFactory&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;contextModuleFactory&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ContextModuleFactory åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;contextModuleFactory&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;beforeCompile&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncSeriesHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç¼–è¯‘(compilation)å‚æ•°åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilationParams&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compile&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä¸€ä¸ªæ–°çš„ç¼–è¯‘(compilation)åˆ›å»ºä¹‹åï¼Œé’©å…¥(hook into) compilerã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilationParams&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;thisCompilation&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è§¦å‘ compilation äº‹ä»¶ä¹‹å‰æ‰§è¡Œï¼ˆæŸ¥çœ‹ä¸‹é¢çš„ compilationï¼‰&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç¼–è¯‘(compilation)åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;make&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncParallelHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;afterCompile&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncSeriesHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;shouldEmit&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncBailHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ­¤æ—¶è¿”å› true/falseã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;needAdditionalPass&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncBailHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;emit&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncSeriesHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹å‰ã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;afterEmit&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;AsyncSeriesHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹åã€‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;compilation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;done&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç¼–è¯‘(compilation)å®Œæˆ&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;stats&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;failed&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç¼–è¯‘(compilation)å¤±è´¥&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;invalid&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç›‘å¬æ¨¡å¼ä¸‹ï¼Œç¼–è¯‘æ— æ•ˆæ—¶&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;fileName, changeTime&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;watchClose&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SyncHook&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç›‘å¬æ¨¡å¼åœæ­¢&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;è¯»å–è¾“å‡ºèµ„æº-æ¨¡å—åŠä¾èµ–&#34;&gt;è¯»å–è¾“å‡ºèµ„æºã€æ¨¡å—åŠä¾èµ–&lt;/h4&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çš„emité’©å­äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè¡¨ç¤ºçš„å«ä¹‰æ˜¯ï¼šæºæ–‡ä»¶çš„è½¬æ¢å’Œç»„è£…å·²ç»å®Œæˆäº†ï¼Œåœ¨è¿™é‡Œäº‹ä»¶é’©å­é‡Œé¢æˆ‘ä»¬å¯ä»¥è¯»å–åˆ°æœ€ç»ˆå°†è¾“å‡ºçš„èµ„æºã€ä»£ç å—ã€æ¨¡å—åŠå¯¹åº”çš„ä¾èµ–æ–‡ä»¶ã€‚å¹¶ä¸”æˆ‘ä»¬è¿˜å¯ä»¥è¾“å‡ºèµ„æºæ–‡ä»¶çš„å†…å®¹ã€‚æ¯”å¦‚æ’ä»¶ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;class MyPlugin {
  apply(compiler) {
    compiler.plugin(&#39;emit&#39;, function(compilation, callback) {
      // compilation.chunks æ˜¯å­˜æ”¾äº†æ‰€æœ‰çš„ä»£ç å—ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬éœ€è¦éå†
      compilation.chunks.forEach(function(chunk) {
        /*
         * chunk ä»£è¡¨ä¸€ä¸ªä»£ç å—ï¼Œä»£ç å—å®ƒæ˜¯ç”±å¤šä¸ªæ¨¡å—ç»„æˆçš„ã€‚
         * æˆ‘ä»¬å¯ä»¥é€šè¿‡ chunk.forEachModule èƒ½è¯»å–ç»„æˆä»£ç å—çš„æ¯ä¸ªæ¨¡å—
        */
        chunk.forEachModule(function(module) {
          // module ä»£è¡¨ä¸€ä¸ªæ¨¡å—ã€‚
          // module.fileDependencies å­˜æ”¾å½“å‰æ¨¡å—çš„æ‰€æœ‰ä¾èµ–çš„æ–‡ä»¶è·¯å¾„ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„
          module.fileDependencies.forEach(function(filepath) {
            console.log(filepath);
          });
        });
        /*
         webpack ä¼šæ ¹æ®chunkå»ç”Ÿæˆè¾“å‡ºçš„æ–‡ä»¶èµ„æºï¼Œæ¯ä¸ªchunkéƒ½å¯¹åº”ä¸€ä¸ªåŠä»¥ä¸Šçš„è¾“å‡ºæ–‡ä»¶ã€‚
         æ¯”å¦‚åœ¨ Chunkä¸­åŒ…å«äº†css æ¨¡å—å¹¶ä¸”ä½¿ç”¨äº† ExtractTextPlugin æ—¶ï¼Œ
         é‚£ä¹ˆè¯¥Chunk å°±ä¼šç”Ÿæˆ .js å’Œ .css ä¸¤ä¸ªæ–‡ä»¶
        */
        chunk.files.forEach(function(filename) {
          // compilation.assets æ˜¯å­˜æ”¾å½“å‰æ‰€æœ‰å³å°†è¾“å‡ºçš„èµ„æºã€‚
          // è°ƒç”¨ä¸€ä¸ªè¾“å‡ºèµ„æºçš„ source() æ–¹æ³•èƒ½è·å–åˆ°è¾“å‡ºèµ„æºçš„å†…å®¹
          const source = compilation.assets[filename].source();
        });
      });
      /*
       è¯¥äº‹ä»¶æ˜¯å¼‚æ­¥äº‹ä»¶ï¼Œå› æ­¤è¦è°ƒç”¨ callback æ¥é€šçŸ¥æœ¬æ¬¡çš„ webpackäº‹ä»¶ç›‘å¬ç»“æŸã€‚
       å¦‚æœæˆ‘ä»¬æ²¡æœ‰è°ƒç”¨callback(); é‚£ä¹ˆwebpackå°±ä¼šä¸€ç›´å¡åœ¨è¿™é‡Œä¸ä¼šå¾€åæ‰§è¡Œã€‚
      */
      callback();
    })
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç›‘å¬æ–‡ä»¶å˜åŒ–&#34;&gt;ç›‘å¬æ–‡ä»¶å˜åŒ–&lt;/h4&gt;
&lt;p&gt;webpackè¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå®ƒä¼šä»å…¥å£æ¨¡å—å»è¯»å–ï¼Œç„¶åä¾æ¬¡æ‰¾å‡ºæ‰€æœ‰çš„ä¾èµ–æ¨¡å—ã€‚å½“å…¥å£æ¨¡å—æˆ–ä¾èµ–çš„æ¨¡å—å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘ä¸€æ¬¡æ–°çš„ Compilationã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬å¼€å‘æ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æ˜¯é‚£ä¸ªæ–‡ä»¶å‘ç”Ÿæ”¹å˜ï¼Œå¯¼è‡´äº†æ–°çš„Compilation, æˆ‘ä»¬å¯ä»¥æ·»åŠ å¦‚ä¸‹ä»£ç è¿›è¡Œç›‘å¬ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// å½“ä¾èµ–çš„æ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ ä¼šè§¦å‘ watch-run äº‹ä»¶
class MyPlugin {
  apply(compiler) {
    compiler.plugin(&#39;watch-run&#39;, (watching, callback) =&amp;gt; {
      // è·å–å‘ç”Ÿå˜æ¢çš„æ–‡ä»¶åˆ—è¡¨
      const changedFiles = watching.compiler.watchFileSystem.watcher.mtimes;
      // changedFiles æ ¼å¼ä¸ºé”®å€¼å¯¹çš„å½¢å¼ï¼Œå½“é”®ä¸ºå‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶è·¯å¾„
      if (changedFiles[filePath] !== undefined) {
        // å¯¹åº”çš„æ–‡ä»¶å°±å‘ç”Ÿäº†å˜åŒ–äº†
      }
      callback();
    });

    /*
     é»˜è®¤æƒ…å†µä¸‹Webpackåªä¼šç›‘å¬å…¥å£æ–‡ä»¶æˆ–å…¶ä¾èµ–çš„æ¨¡å—æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯åœ¨æœ‰äº›æƒ…å†µä¸‹æ¯”å¦‚htmlæ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆwebpack
     å°±ä¼šå»ç›‘å¬htmlæ–‡ä»¶çš„å˜åŒ–ã€‚å› æ­¤å°±ä¸ä¼šé‡æ–°è§¦å‘æ–°çš„ Compilationã€‚å› æ­¤ä¸ºäº†ç›‘å¬htmlæ–‡ä»¶çš„å˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦æŠŠhtmlæ–‡ä»¶åŠ å…¥åˆ°
     ä¾èµ–åˆ—è¡¨ä¸­ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š
    */
    compiler.plugin(&#39;after-compile&#39;, (compilation, callback) =&amp;gt; {
      /*
       å¦‚ä¸‹çš„å‚æ•°filePathæ˜¯htmlæ–‡ä»¶è·¯å¾„ï¼Œæˆ‘ä»¬æŠŠHTMLæ–‡ä»¶æ·»åŠ åˆ°æ–‡ä»¶ä¾èµ–è¡¨ä¸­ï¼Œç„¶åæˆ‘ä»¬çš„webpackä¼šå»ç›‘å¬htmlæ¨¡å—æ–‡ä»¶ï¼Œ
       htmlæ¨¡æ¿æ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œä¼šé‡æ–°å¯åŠ¨ä¸‹é‡æ–°ç¼–è¯‘ä¸€ä¸ªæ–°çš„ Compilation.
      */
      compilation.fileDependencies.push(filePath);
      callback();
    })
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¿®æ”¹è¾“å‡ºèµ„æº&#34;&gt;ä¿®æ”¹è¾“å‡ºèµ„æº&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ç¬¬ä¸€ç‚¹è¯´è¿‡ï¼šåœ¨æˆ‘ä»¬çš„emité’©å­äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè¡¨ç¤ºçš„å«ä¹‰æ˜¯ï¼šæºæ–‡ä»¶çš„è½¬æ¢å’Œç»„è£…å·²ç»å®Œæˆäº†ï¼Œåœ¨è¿™é‡Œäº‹ä»¶é’©å­é‡Œé¢æˆ‘ä»¬å¯ä»¥è¯»å–åˆ°æœ€ç»ˆå°†è¾“å‡ºçš„èµ„æºã€ä»£ç å—ã€æ¨¡å—åŠå¯¹åº”çš„ä¾èµ–æ–‡ä»¶ã€‚å› æ­¤å¦‚æœæˆ‘ä»¬ç°åœ¨è¦ä¿®æ”¹è¾“å‡ºèµ„æºçš„å†…å®¹çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨emitäº‹ä»¶ä¸­å»åšä¿®æ”¹ã€‚é‚£ä¹ˆæ‰€æœ‰è¾“å‡ºçš„èµ„æºä¼šå­˜æ”¾åœ¨ compilation.assetsä¸­ï¼Œcompilation.assetsæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®ä¸ºéœ€è¦è¾“å‡ºçš„æ–‡ä»¶åï¼Œå€¼ä¸ºæ–‡ä»¶å¯¹åº”çš„å†…å®¹ã€‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;class MyPlugin {
  apply(compiler) {
    compiler.plugin(&#39;emit&#39;, (compilation, callback) =&amp;gt; {
      // è®¾ç½®åç§°ä¸º fileName çš„è¾“å‡ºèµ„æº
      compilation.assets[fileName] = {
        // è¿”å›æ–‡ä»¶å†…å®¹
        source: () =&amp;gt; {
          // fileContent å³å¯ä»¥ä»£è¡¨æ–‡æœ¬æ–‡ä»¶çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»£è¡¨äºŒè¿›åˆ¶æ–‡ä»¶çš„buffer
          return fileContent;
        },
        // è¿”å›æ–‡ä»¶å¤§å°
        size: () =&amp;gt; {
          return Buffer.byteLength(fileContent, &#39;utf8&#39;);
        }
      };
      callback();
    });
    // è¯»å– compilation.assets ä»£ç å¦‚ä¸‹ï¼š
    compiler.plugin(&#39;emit&#39;, (compilation, callback) =&amp;gt; {
      // è¯»å–åç§°ä¸º fileName çš„è¾“å‡ºèµ„æº
      const asset = compilation.assets[fileName];
      // è·å–è¾“å‡ºèµ„æºçš„å†…å®¹
      asset.source();
      // è·å–è¾“å‡ºèµ„æºçš„æ–‡ä»¶å¤§å°
      asset.size();
      callback();
    });
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;åˆ¤æ–­webpackä½¿ç”¨äº†å“ªäº›æ’ä»¶&#34;&gt;åˆ¤æ–­webpackä½¿ç”¨äº†å“ªäº›æ’ä»¶&lt;/h4&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬å¼€å‘ä¸€ä¸ªæ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å½“å‰é…ç½®æ˜¯å¦ä½¿ç”¨äº†å…¶ä»–æŸä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯»å–webpackæŸä¸ªæ’ä»¶é…ç½®çš„æƒ…å†µï¼Œæ¯”å¦‚æ¥åˆ¤æ–­æˆ‘ä»¬å½“å‰æ˜¯å¦ä½¿ç”¨äº† HtmlWebpackPlugin æ’ä»¶ã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;/*
 åˆ¤æ–­å½“å‰é…ç½®ä½¿ç”¨äº† HtmlWebpackPlugin æ’ä»¶ã€‚
 compilerå‚æ•°å³ä¸º webpack åœ¨ apply(compiler) ä¸­ä¼ å…¥çš„å‚æ•°
*/

function hasHtmlWebpackPlugin(compiler) {
  // è·å–å½“å‰é…ç½®ä¸‹æ‰€æœ‰çš„æ’ä»¶åˆ—è¡¨
  const plugins = compiler.options.plugins;
  // å»pluginsä¸­å¯»æ‰¾æœ‰æ²¡æœ‰ HtmlWebpackPlugin çš„å®åˆ—
  return plugins.find(plugin =&amp;gt; plugin.__proto__.constructor === HtmlWebpackPlugin) !== null;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®æˆ˜&#34;&gt;å®æˆ˜&lt;/h3&gt;
&lt;h4 id=&#34;å®ç°ä¸€ä¸ªæ‰“å°æ—¥å¿—çš„logwebpackpluginæ’ä»¶&#34;&gt;å®ç°ä¸€ä¸ªæ‰“å°æ—¥å¿—çš„LogWebpackPluginæ’ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// è¿™ä¸ªæ–‡ä»¶ä¸ºäº†è§‚çœ‹æ›´ç›´è§‚ï¼Œå…ˆæ”¾åˆ°webpack.config.jsä¸­ï¼ŒçœŸæ­£ä½¿ç”¨æ—¶å¯ä»¥å°†ä½ çš„è‡ªå®šä¹‰webpackæ’ä»¶å°è£…åˆ°ä½ ä»¬çš„å‰ç«¯ç»„ä»¶åº“ä¸­ã€‚
class LogWebpackPlugin {
  constructor(doneCallback, emitCallback) {
    this.emitCallback = emitCallback
    this.doneCallback = doneCallback
  }
  apply(compiler) {
    compiler.hooks.emit.tap(&#39;LogWebpackPlugin&#39;, () =&amp;gt; {
      // åœ¨ emit äº‹ä»¶ä¸­å›è°ƒ emitCallback
      this.emitCallback();
    });
    compiler.hooks.done.tap(&#39;LogWebpackPlugin&#39;, (err) =&amp;gt; {
      // åœ¨ done äº‹ä»¶ä¸­å›è°ƒ doneCallback
      this.doneCallback();
    });
    compiler.hooks.compilation.tap(&#39;LogWebpackPlugin&#39;, () =&amp;gt; {
      // compilationï¼ˆ&#39;ç¼–è¯‘å™¨&#39;å¯¹&#39;ç¼–è¯‘ing&#39;è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬ï¼‰
      console.log(&amp;quot;The compiler is starting a new compilation...&amp;quot;)
    });
    compiler.hooks.compile.tap(&#39;LogWebpackPlugin&#39;, () =&amp;gt; {
      // compileï¼ˆ&#39;ç¼–è¯‘å™¨&#39;å¯¹&#39;å¼€å§‹ç¼–è¯‘&#39;è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬ï¼‰
      console.log(&amp;quot;The compiler is starting to compile...&amp;quot;)
    });
  }
}


// ä½¿ç”¨
module.exports = {
  plugins: [
    new LogWebpackPlugin(() =&amp;gt; {
      // Webpack æ¨¡å—å®Œæˆè½¬æ¢æˆåŠŸ
      console.log(&#39;emit äº‹ä»¶å‘ç”Ÿå•¦ï¼Œæ‰€æœ‰æ¨¡å—çš„è½¬æ¢å’Œä»£ç å—å¯¹åº”çš„æ–‡ä»¶å·²ç»ç”Ÿæˆå¥½~&#39;)
    } , () =&amp;gt; {
      // Webpack æ„å»ºæˆåŠŸï¼Œå¹¶ä¸”æ–‡ä»¶è¾“å‡ºäº†åä¼šæ‰§è¡Œåˆ°è¿™é‡Œï¼Œåœ¨è¿™é‡Œå¯ä»¥åšå‘å¸ƒæ–‡ä»¶æ“ä½œ
      console.log(&#39;done äº‹ä»¶å‘ç”Ÿå•¦ï¼ŒæˆåŠŸæ„å»ºå®Œæˆ~&#39;)
    })
  ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç¼–å†™å»é™¤ç”Ÿæˆ-bundlejs-ä¸­å¤šä½™çš„æ³¨é‡Šçš„æ’ä»¶&#34;&gt;ç¼–å†™å»é™¤ç”Ÿæˆ bundle.js ä¸­å¤šä½™çš„æ³¨é‡Šçš„æ’ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;class MyPlugin {
  constructor(options) {
    this.options = options;
    this.externalModules = {};
  }
  apply(compiler) {
    var reg = /(&amp;quot;([^\\\&amp;quot;]*(\\.)?)*&amp;quot;)|(&#39;([^\\\&#39;]*(\\.)?)*&#39;)|(\/{2,}.*?(\r|\n))|(\/\*(\n|.)*?\*\/)|(\/\*\*\*\*\*\*\/)/g;
    compiler.hooks.emit.tap(&#39;CodeBeautify&#39;, (compilation) =&amp;gt; {
      Object.keys(compilation.assets).forEach((data) =&amp;gt; {
        console.log(data);
        let content = compilation.assets[data].source(); // è·å–å¤„ç†çš„æ–‡æœ¬
        content = content.replace(reg, function (word) { // å»é™¤æ³¨é‡Šåçš„æ–‡æœ¬
          return /^\/{2,}/.test(word) || /^\/\*!/.test(word) || /^\/\*{3,}\//.test(word) ? &amp;quot;&amp;quot; : word;
        });
        compilation.assets[data] = {
          source() {
            return content;
          },
          size() {
            return content.length;
          }
        }
      });
    });
  }
}
module.exports = MyPlugin;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªjsä»£ç çš„çœŸæ­£çš„å«ä¹‰æ‰æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®²åˆ°çš„ï¼Œè¿™ä¸ªæ’ä»¶æœ€ä¸»è¦ä½œç”¨æ˜¯ å»é™¤æ³¨é‡Šåçš„æ–‡æœ¬ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ compiler.hooks.emit é’©å­å‡½æ•°ã€‚åœ¨ç”Ÿæˆèµ„æºå¹¶è¾“å‡ºåˆ°ç›®å½•ä¹‹å‰è§¦å‘è¯¥å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å°†ç¼–è¯‘å¥½çš„ä»£ç å‘å°„åˆ°æŒ‡å®šçš„streamä¸­å°±ä¼šè§¦å‘ï¼Œç„¶åæˆ‘ä»¬ä»å›è°ƒå‡½æ•°è¿”å›çš„ compilation å¯¹è±¡ä¸Šå¯ä»¥æ‹¿åˆ°ç¼–è¯‘å¥½çš„ stream.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¿é—®compilationå¯¹è±¡ï¼Œcompilationå†…éƒ¨ä¼šè¿”å›å¾ˆå¤šå†…éƒ¨å¯¹è±¡ï¼Œè¿™è¾¹å…ˆä¸æ‰“å°äº†ï¼Œå› ä¸ºæ‰“å°çš„è¯ç›´æ¥ä¼šå¡æ­»æ‰ï¼Œè¦ç­‰å¾ˆé•¿æ—¶é—´æ‰ä¼šæ‰“å°å‡ºæ¥ï¼Œä½ ä»¬è‡ªå·±å¯ä»¥è¯•è¯•ï¼›ç„¶åæˆ‘ä»¬éå† assets.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;Object.keys(compilation.assets).forEach((data) =&amp;gt; {
  console.log(compilation.assets);
  console.log(8888)
  console.log(data);
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1644922971138.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;assets æ•°ç»„å¯¹è±¡ä¸­çš„keyæ˜¯èµ„æºåã€‚åœ¨å¦‚ä¸Šä»£ç ï¼Œæˆ‘ä»¬é€šè¿‡ Object.key()æ–¹æ³•æ‹¿åˆ°äº†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;pre&gt;&lt;code&gt;main.css
bundle.js
index.html
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;ç„¶åæˆ‘ä»¬è°ƒç”¨ compilation.assets[data].source(); å¯ä»¥è·å–èµ„æºçš„å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ­£åˆ™ï¼Œå»æ‰æ³¨é‡Šï¼Œå¦‚ä¸‹ä»£ç ï¼š&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;Object.keys(compilation.assets).forEach((data) =&amp;gt; {
  let content = compilation.assets[data].source(); // è·å–å¤„ç†çš„æ–‡æœ¬
  content = content.replace(reg, function (word) { // å»é™¤æ³¨é‡Šåçš„æ–‡æœ¬
      return /^\/{2,}/.test(word) || /^\/\*!/.test(word) || /^\/\*{3,}\//.test(word) ? &amp;quot;&amp;quot; : word;
  });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;æ›´æ–° compilation.assets[data] å¯¹è±¡ï¼Œå¦‚ä¸‹ä»£ç ï¼š&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;compilation.assets[data] = {
  source() {
      return content;
  },
  size() {
      return content.length;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;æœ€åä½¿ç”¨&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;module.exports = {
  plugins:[
      new MyPlugin(),
  ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;webpack40ä¹‹åç”¨compilerhooksæ³¨å†Œä¹‹å‰ç”¨comlilerpluginæ³¨å†Œä½†ä¸ºäº†ä¿é™©èµ·è§è¿˜æ˜¯ä¸¤ç§åŠæ³•éƒ½å†™è¿™æ ·èƒ½åº”ä»˜æœåŠ¡å™¨æ— webpack4ç‰ˆæœ¬è¯¦è§è¿™ç¯‡æ–‡ç« &#34;&gt;webpack4.0ä¹‹åç”¨compiler.hooksæ³¨å†Œï¼Œä¹‹å‰ç”¨comliler.pluginæ³¨å†Œï¼Œä½†ä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿˜æ˜¯ä¸¤ç§åŠæ³•éƒ½å†™ï¼Œè¿™æ ·èƒ½åº”ä»˜æœåŠ¡å™¨æ— webpack4ç‰ˆæœ¬ï¼Œè¯¦è§ï¼š&lt;a href=&#34;https://www.cnblogs.com/dashnowords/p/9572749.html&#34;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/h4&gt;
&lt;h3 id=&#34;æœ€åæ‰©å±•ç®€å•çœ‹äº†å‡ ä¸ªæ’ä»¶ä¹‹åæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘åšäº›å…¶ä»–çš„äº‹æƒ…æ¯”å¦‚åˆ é™¤consolelog-æˆ–è€…æ„å»ºå®Œæˆæ—¶åšä¸€äº›æ–‡ä»¶ä¸Šä¼ cdnçš„æ“ä½œé©¬ä¸ŠåŠ¨æ‰‹å§~&#34;&gt;æœ€åæ‰©å±•ï¼šç®€å•çœ‹äº†å‡ ä¸ªæ’ä»¶ä¹‹åï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘åšäº›å…¶ä»–çš„äº‹æƒ…ï¼Œæ¯”å¦‚åˆ é™¤console.logã€æˆ–è€…æ„å»ºå®Œæˆæ—¶åšä¸€äº›æ–‡ä»¶ä¸Šä¼ cdnçš„æ“ä½œï¼Œé©¬ä¸ŠåŠ¨æ‰‹å§ï½&lt;/h3&gt;
">è‡ªå®šä¹‰ä¸€ä¸ªWebPackçš„æ’ä»¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/duan-xin-duan-lian-jie-huan-qi-app"" data-c="
          &lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1644479995097.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">çŸ­ä¿¡çŸ­é“¾æ¥å”¤èµ·APP</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/wei-xin-gong-zhong-hao-huo-qu-openid-deng-yi-xi-lie-liu-cheng"" data-c="
          &lt;h3 id=&#34;å…ˆè¯´ä¸‹ä¸ºä»€ä¹ˆè¦è·å–-openid&#34;&gt;å…ˆè¯´ä¸‹ä¸ºä»€ä¹ˆè¦è·å– openid?&lt;/h3&gt;
&lt;p&gt;å› ä¸ºç”¨æˆ·ç®¡ç†ç±»æ¥å£å¯ä»¥é€šè¿‡openidå¯ä»¥è·å–ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯çš„.&lt;/p&gt;
&lt;h3 id=&#34;è¯´åˆ°-openid-å¿…é¡»å…ˆè¯´å¾®ä¿¡æˆæƒç™»å½•çš„è¿‡ç¨‹&#34;&gt;è¯´åˆ° openid å¿…é¡»å…ˆè¯´å¾®ä¿¡æˆæƒç™»å½•çš„è¿‡ç¨‹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1644479416142.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‰ç«¯éœ€è¦åœ¨è¿›å…¥è·¯ç”±çš„æ˜¯beaforEachçš„æ—¶å€™ï¼Œå…ˆå»åˆ¤æ–­é“¾æ¥ä¸Šæœ‰æ²¡æœ‰ openid&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰ï¼Œå°±å»è·³è½¬åˆ°æœåŠ¡ç«¯ç»™çš„ä¸€ä¸ªåœ°å€ã€‚å¦‚æœæœ‰ï¼Œå°±ç»§ç»­å¾€ä¸‹èµ°ï¼ˆnext())&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯ä¼šå¾€ä¸‹é¢çš„é“¾æ¥ï¼ˆhttps://open.weixin.qq.com/connect/oauth2/authorize?appid=APPID&amp;amp;redirect_uri=REDIRECT_URI&amp;amp;response_type=code&amp;amp;scope=SCOPE&amp;amp;state=STATE#wechat_redirectæ¥è·å–codeï¼‰ä¸Šè·³è½¬ï¼Œå»å¼•å¯¼ç”¨æˆ·å»ç‚¹å‡»æˆæƒï¼Œç”¨æˆ·æˆæƒä¹‹åå°±ä¼šé‡å®šå‘åˆ° redirect_uriï¼ˆæœåŠ¡ç«¯çš„åœ°å€ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ©ç”¨ code è·å– openid ä¹‹å(æœåŠ¡ç«¯å»åš)ï¼ŒæœåŠ¡ç«¯ä¼šè·³è½¬åˆ°å‰ç«¯é¡µé¢(å¸¦ä¸Šopenid)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢ä½œä¸ºäº†è§£ï¼š&lt;/p&gt;
&lt;p&gt;å¾®ä¿¡æˆæƒä½¿ç”¨çš„æ˜¯ OAuth2.0æˆæƒæ–¹å¼ã€‚ä¸»è¦æœ‰ä»¥ä¸‹ç®€ç•¥çš„æ­¥éª¤ï¼š&lt;br&gt;
ç¬¬ä¸€æ­¥ï¼šç”¨æˆ·åŒæ„æˆæƒï¼Œè·å– code&lt;br&gt;
ã€€ã€€ç¬¬äºŒæ­¥ï¼šé€šè¿‡ codeè·å–ç½‘é¡µæˆæƒaccess_token&lt;br&gt;
ã€€ã€€ç¬¬ä¸‰æ­¥ï¼šåˆ·æ–°access_tokenï¼ˆå¦‚æœéœ€è¦ï¼‰&lt;br&gt;
ã€€ã€€ç¬¬å››æ­¥ï¼šæ‹‰å–ç”¨æˆ·ä¿¡æ¯(éœ€scopeä¸º snsapi_userinfo)&lt;/p&gt;
&lt;h3 id=&#34;ä¸‹é¢æ¥å…·ä½“apiè¡¨ç¤ºä¸‹æ€ä¹ˆè·å–çš„-code-å’Œ-openid-å§&#34;&gt;ä¸‹é¢æ¥å…·ä½“apiè¡¨ç¤ºä¸‹æ€ä¹ˆè·å–çš„ code å’Œ openid å§&lt;/h3&gt;
&lt;h3 id=&#34;ä¸€è·å–code&#34;&gt;ä¸€ï¼šè·å–code:&lt;/h3&gt;
&lt;p&gt;é€šè¿‡https://open.weixin.qq.com/connect/oauth2/authorize?appid=APPID&amp;amp;redirect_uri=REDIRECT_URI&amp;amp;response_type=code&amp;amp;scope=SCOPE&amp;amp;state=STATE#wechat_redirectæ¥è·å–code&lt;br&gt;
å‚æ•°ï¼š&lt;br&gt;
APPIDï¼šåº”ç”¨å”¯ä¸€æ ‡è¯†&lt;br&gt;
redirect_uriï¼šæˆæƒåé‡å®šå‘çš„å›è°ƒé“¾æ¥åœ°å€ï¼Œç”¨æˆ·åŒæ„åï¼Œcode ä¼šè‡ªåŠ¨æ·»åŠ åˆ°åé¢ã€‚ï¼ˆè¯·ä½¿ç”¨urlEncodeå¯¹é“¾æ¥è¿›è¡Œå¤„ç† ï¼ˆ$url = urlencode(&#39;&#39;)ï¼‰ ï¼‰&lt;br&gt;
scopeï¼šæ˜¯åº”ç”¨æˆæƒä½œç”¨åŸŸ ï¼ˆä¸€èˆ¬æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯é™é»˜æ–¹å¼ï¼ˆsnsapi_base); ä¸€ç§æ˜¯éé™é»˜æ–¹å¼ï¼ˆsnsapi_userinfoï¼‰ï¼Œéœ€è¦ç”¨æˆ·å»æ‰‹åŠ¨åŒæ„æ‰èƒ½è·å–ç”¨æˆ·ä¿¡æ¯ï¼‰&lt;/p&gt;
&lt;p&gt;å¾®ä¿¡ä¸­å°¤å…¶æé†’ï¼šç”±äºæˆæƒæ“ä½œå®‰å…¨ç­‰çº§è¾ƒé«˜ï¼Œæ‰€ä»¥åœ¨å‘èµ·æˆæƒè¯·æ±‚æ—¶ï¼Œå¾®ä¿¡ä¼šå¯¹æˆæƒé“¾æ¥åšæ­£åˆ™å¼ºåŒ¹é…æ ¡éªŒï¼Œå¦‚æœé“¾æ¥çš„å‚æ•°é¡ºåºä¸å¯¹ï¼Œæˆæƒé¡µé¢å°†æ— æ³•æ­£å¸¸è®¿é—®&lt;/p&gt;
&lt;p&gt;** code æ˜¯å¾®ä¿¡è‡ªåŠ¨ç”Ÿæˆçš„ã€‚å¹¶ä¸”æ”¾åœ¨redirect_uriï¼ˆé‡å®šå‘åçš„å›è°ƒé“¾æ¥åœ°å€ï¼‰åé¢,å¹¶ä¸”å¸¦ä¸Šcodeå’Œstateå‚æ•°&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æåˆ°äº† codeã€‚é‚£ä¹ˆ codeåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;br&gt;
code:ä½œä¸ºæ¢å– access_tokençš„ç¥¨æ®ï¼Œæ¯æ¬¡ç”¨æˆ·æˆæƒå¸¦ä¸Šçš„ code éƒ½ä¸ä¸€æ ·ã€‚5åˆ†é’Ÿæœªè¢«ä½¿ç”¨è‡ªåŠ¨è¿‡æœŸï¼ˆè¿‡æœŸçš„è¿™é‡Œä¸‹é¢æœ‰è®²ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;äºŒç„¶åæˆæƒæˆåŠŸä¹‹å-å¾—åˆ°-code-å°±ç”¨-code-å»è·å–access_token&#34;&gt;äºŒï¼šç„¶åæˆæƒæˆåŠŸä¹‹åã€‚å¾—åˆ° codeã€‚å°±ç”¨ code å»è·å–access_token&lt;/h3&gt;
&lt;p&gt;https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx41cb8dbd827a16e9&amp;amp;secret=d4624c36b6795d1d99dcf0547af5443d&amp;amp;code=00137323023ab55775be09d6d8e75ffA&amp;amp;grant_type=authorization_code&lt;br&gt;
å‚æ•°è¯´æ˜ï¼š&lt;br&gt;
appidï¼šåº”ç”¨å”¯ä¸€æ ‡è¯†&lt;br&gt;
codeï¼šä¸Šä¸€æ­¥å·²ç»è·å–åˆ°äº†&lt;br&gt;
secretï¼šåº”ç”¨å¯†é’¥AppSecretï¼Œåœ¨å¾®ä¿¡å¼€æ”¾å¹³å°æäº¤åº”ç”¨å®¡æ ¸é€šè¿‡åè·å¾—&lt;/p&gt;
&lt;p&gt;æ­£ç¡®çš„è¿”å›&lt;br&gt;
&amp;quot;access_token&amp;quot;:&amp;quot;ACCESS_TOKEN&amp;quot;, // æ¥å£è°ƒç”¨å‡­è¯ &amp;quot;expires_in&amp;quot;:7200, // access_tokenæ¥å£è°ƒç”¨å‡­è¯è¶…æ—¶æ—¶é—´ &amp;quot;refresh_token&amp;quot;:&amp;quot;REFRESH_TOKEN&amp;quot;, // ç”¨æˆ·åˆ·æ–°access_token &amp;quot;openid&amp;quot;:&amp;quot;OPENID&amp;quot;, // æˆæƒç”¨æˆ·å”¯ä¸€æ ‡è¯† &amp;quot;scope&amp;quot;:&amp;quot;SCOPE&amp;quot;, // ä½œç”¨åŸŸ ç­‰&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰é€šè¿‡access_token-openidè·å–ç”¨æˆ·ä¿¡æ¯&#34;&gt;ä¸‰ï¼šé€šè¿‡access_tokenã€openidè·å–ç”¨æˆ·ä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;https://api.weixin.qq.com/sns/userinfo?access_token=ACCESS_TOKEN&amp;amp;openid=OPENID&lt;br&gt;
å°±ä¼šå¾—åˆ°ç”¨æˆ·çš„ä¿¡æ¯ï¼š&lt;br&gt;
å¾—åˆ°å‚æ•°ï¼š&lt;br&gt;
openidï¼šç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†&lt;br&gt;
nicknameï¼šç”¨æˆ·æ˜µç§°&lt;br&gt;
sexï¼š ç”·å¥³&lt;br&gt;
ç­‰ã€‚ã€‚ã€‚&lt;br&gt;
ç‰¹åˆ«æ³¨æ„ï¼š&lt;br&gt;
1ã€Appsecret æ˜¯åº”ç”¨æ¥å£ä½¿ç”¨å¯†é’¥ï¼Œæ³„æ¼åå°†å¯èƒ½å¯¼è‡´åº”ç”¨æ•°æ®æ³„æ¼ã€åº”ç”¨çš„ç”¨æˆ·æ•°æ®æ³„æ¼ç­‰é«˜é£é™©åæœï¼›å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œææœ‰å¯èƒ½è¢«æ¶æ„çªƒå–ï¼ˆå¦‚åç¼–è¯‘è·å–Appsecretï¼‰ï¼› 2ã€access_token ä¸ºç”¨æˆ·æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨å‘èµ·æ¥å£è°ƒç”¨çš„å‡­è¯ï¼ˆç›¸å½“äºç”¨æˆ·ç™»å½•æ€ï¼‰ï¼Œå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¯èƒ½å‡ºç°æ¶æ„è·å–access_token åå¯¼è‡´çš„ç”¨æˆ·æ•°æ®æ³„æ¼ã€ç”¨æˆ·å¾®ä¿¡ç›¸å…³æ¥å£åŠŸèƒ½è¢«æ¶æ„å‘èµ·ç­‰è¡Œä¸ºï¼› 3ã€refresh_token ä¸ºç”¨æˆ·æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨çš„é•¿æ•ˆå‡­è¯ï¼Œä»…ç”¨äºåˆ·æ–°access_tokenï¼Œä½†æ³„æ¼åç›¸å½“äºaccess_token æ³„æ¼ï¼Œé£é™©åŒä¸Šã€‚ å»ºè®®å°†secretã€ç”¨æˆ·æ•°æ®ï¼ˆå¦‚access_tokenï¼‰æ”¾åœ¨Appäº‘ç«¯æœåŠ¡å™¨ï¼Œç”±äº‘ç«¯ä¸­è½¬æ¥å£è°ƒç”¨è¯·æ±‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœ€åæ€»ç»“ä¸‹è¯¦ç»†çš„æ­¥éª¤&#34;&gt;æœ€åæ€»ç»“ä¸‹è¯¦ç»†çš„æ­¥éª¤ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;1ï¼ç”¨æˆ·å…³æ³¨å¾®ä¿¡å…¬ä¼—è´¦å·ã€‚&lt;/li&gt;
&lt;li&gt;2ï¼å¾®ä¿¡å…¬ä¼—è´¦å·æä¾›ç”¨æˆ·è¯·æ±‚æˆæƒé¡µé¢URLã€‚&lt;/li&gt;
&lt;li&gt;3ï¼ç”¨æˆ·ç‚¹å‡»æˆæƒé¡µé¢URLï¼Œå°†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚&lt;/li&gt;
&lt;li&gt;4ï¼æœåŠ¡å™¨è¯¢é—®ç”¨æˆ·æ˜¯å¦åŒæ„æˆæƒç»™å¾®ä¿¡å…¬ä¼—è´¦å·(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;
&lt;li&gt;5ï¼ç”¨æˆ·åŒæ„(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;
&lt;li&gt;6ï¼æœåŠ¡å™¨å°†CODEé€šè¿‡å›è°ƒä¼ ç»™å¾®ä¿¡å…¬ä¼—è´¦å·&lt;/li&gt;
&lt;li&gt;7ï¼å¾®ä¿¡å…¬ä¼—è´¦å·è·å¾—CODE&lt;/li&gt;
&lt;li&gt;8ï¼å¾®ä¿¡å…¬ä¼—è´¦å·é€šè¿‡CODEå‘æœåŠ¡å™¨è¯·æ±‚Access Token&lt;/li&gt;
&lt;li&gt;9ï¼æœåŠ¡å™¨è¿”å›Access Tokenå’ŒOpenIDç»™å¾®ä¿¡å…¬ä¼—è´¦å·&lt;/li&gt;
&lt;li&gt;10ï¼å¾®ä¿¡å…¬ä¼—è´¦å·é€šè¿‡Access Tokenå‘æœåŠ¡å™¨è¯·æ±‚ç”¨æˆ·ä¿¡æ¯(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;
&lt;li&gt;11ï¼æœåŠ¡å™¨å°†ç”¨æˆ·ä¿¡æ¯å›é€ç»™å¾®ä¿¡å…¬ä¼—è´¦å·(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¬ä¼—å·é“¾æ¥(å®˜ç½‘æ›´æƒå¨)ï¼š&lt;br&gt;
https://developers.weixin.qq.com/doc/oplatform/Website_App/WeChat_Login/Wechat_Login.html&lt;/p&gt;
&lt;p&gt;https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html&lt;/p&gt;
">å¾®ä¿¡å…¬ä¼—å·è·å–openidç­‰ä¸€ç³»åˆ—æµç¨‹</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/ru-he-bi-jiao-react-hooks-shang-de-jiu-zhi-he-xin-zhi"" data-c="
          &lt;h3 id=&#34;è‡ªå®šä¹‰hooks&#34;&gt;è‡ªå®šä¹‰hooks&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function usePrevious(value) {
  const ref = useRef();
  useEffect(() =&amp;gt; {
    ref.current = value;
  });
  return ref.current;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const Component = (props) =&amp;gt; {
    const {valueA, valueB} = props
    
    const prevValue = usePrevious({valueA, valueB});
    useEffect(() =&amp;gt; {
        if(prevValue.valueA !== valueA) {
           ...
       }
        if(prevValue.valueB !== valueB) {
           ...
        }
    }, [valueA, valueB])
}
&lt;/code&gt;&lt;/pre&gt;
">å¦‚ä½•æ¯”è¾ƒ React Hooks ä¸Šçš„æ—§å€¼å’Œæ–°å€¼ï¼Ÿ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/usecallback-he-usememo-de-qu-bie"" data-c="
          &lt;h3 id=&#34;åŒºåˆ«æ¦‚è§ˆ&#34;&gt;åŒºåˆ«æ¦‚è§ˆ&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;-&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;useCallBack&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;useMemo&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è¿”å›å€¼&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä¸€ä¸ªç¼“å­˜çš„å›è°ƒå‡½æ•°&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä¸€ä¸ªç¼“å­˜çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å‚æ•°&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;éœ€è¦ç¼“å­˜çš„å‡½æ•°ï¼Œä¾èµ–é¡¹&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;éœ€è¦ç¼“å­˜çš„å€¼(ä¹Ÿå¯ä»¥æ˜¯ä¸ªè®¡ç®—ç„¶åå†è¿”å›å€¼çš„å‡½æ•°) ï¼Œä¾èµ–é¡¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;çˆ¶ç»„ä»¶æ›´æ–°æ—¶ï¼Œé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶çš„å‡½æ•°ä¹Ÿä¼šé‡æ–°åˆ›å»ºï¼Œç„¶åè¿™ä¸ªæ—¶å€™ä½¿ç”¨ useCallBack å°±å¯ä»¥ç¼“å­˜å‡½æ•°ä¸ä½¿å®ƒé‡æ–°åˆ›å»º&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç»„ä»¶æ›´æ–°æ—¶ï¼Œä¸€äº›è®¡ç®—é‡å¾ˆå¤§çš„å€¼ä¹Ÿæœ‰å¯èƒ½è¢«é‡æ–°è®¡ç®—ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ useMemo ç›´æ¥ä½¿ç”¨ä¸Šä¸€æ¬¡ç¼“å­˜çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;usecallback-å…·ä½“ç¤ºä¾‹&#34;&gt;useCallBack å…·ä½“ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://codesandbox.io/s/usecallback-1w9f1?file=/src/App.jsx&#34;&gt;codesanboxåœ¨çº¿ç¤ºä¾‹&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import React, { useCallback, useEffect, useState } from &amp;quot;react&amp;quot;;
import &amp;quot;./styles.css&amp;quot;;

export default function App() {
  const [count, setCount] = useState(0);

  // ä½¿ç”¨ useCallBack ç¼“å­˜
  const handleCountAddByCallBack = useCallback(() =&amp;gt; {
    setCount((count) =&amp;gt; count + 1);
  }, []);

  // ä¸ç¼“å­˜ï¼Œæ¯æ¬¡ count æ›´æ–°æ—¶éƒ½ä¼šé‡æ–°åˆ›å»º
  const handleCountAdd = () =&amp;gt; {
    setCount((count) =&amp;gt; count + 1);
  };

  return (
    &amp;lt;div className=&amp;quot;App&amp;quot;&amp;gt;
      &amp;lt;h3&amp;gt;CountAddByChild1: {count}&amp;lt;/h3&amp;gt;
      &amp;lt;Child1 addByCallBack={handleCountAddByCallBack} add={handleCountAdd} /&amp;gt;
    &amp;lt;/div&amp;gt;
  );
}

const Child1 = React.memo(function (props) {
  const { add, addByCallBack } = props;
  
  // æ²¡æœ‰ç¼“å­˜ï¼Œç”±äºæ¯æ¬¡éƒ½åˆ›å»ºï¼Œmemo è®¤ä¸ºä¸¤æ¬¡åœ°å€éƒ½ä¸åŒï¼Œå±äºä¸åŒçš„å‡½æ•°ï¼Œæ‰€ä»¥ä¼šè§¦å‘ useEffect
  useEffect(() =&amp;gt; {
    console.log(&amp;quot;Child1----addFcUpdate&amp;quot;, props);
  }, [add]);

  // æœ‰ç¼“å­˜ï¼Œmemo åˆ¤å®šä¸¤æ¬¡åœ°å€éƒ½ç›¸åŒï¼Œæ‰€ä»¥ä¸è§¦å‘ useEffect
  useEffect(() =&amp;gt; {
    console.log(&amp;quot;Child1----addByCallBackFcUpdate&amp;quot;, props);
  }, [addByCallBack]);

  return (
    &amp;lt;div&amp;gt;
      &amp;lt;button onClick={props.add}&amp;gt;+1&amp;lt;/button&amp;gt;
      &amp;lt;br /&amp;gt;
      &amp;lt;button onClick={props.addByCallBack}&amp;gt;+1(addByCallBack)&amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
  );
});
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;usememo-ç¤ºä¾‹&#34;&gt;useMemo ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://codesandbox.io/s/usememo-p9t7e?file=/src/App.jsx&#34;&gt;codesandbox åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import { useState, useMemo } from &amp;quot;react&amp;quot;;
import &amp;quot;./styles.css&amp;quot;;

export default function App() {
  const [count, setCount] = useState(0);
  const [total, setTotal] = useState(0);

  // æ²¡æœ‰ä½¿ç”¨ useMemoï¼Œå³ä½¿æ˜¯æ›´æ–° total, countToString ä¹Ÿä¼šé‡æ–°è®¡ç®—
  const countToString = (() =&amp;gt; {
    console.log(&amp;quot;countToString è¢«è°ƒç”¨&amp;quot;);
    return count.toString();
  })();

  // ä½¿ç”¨äº† useMemo, åªæœ‰ total æ”¹å˜ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—
  const totalToStringByMemo = useMemo(() =&amp;gt; {
    console.log(&amp;quot;totalToStringByMemo è¢«è°ƒç”¨&amp;quot;);
    return total + &amp;quot;&amp;quot;;
  }, [total]);

  return (
    &amp;lt;div className=&amp;quot;App&amp;quot;&amp;gt;
      &amp;lt;h3&amp;gt;countToString: {countToString}&amp;lt;/h3&amp;gt;
      &amp;lt;h3&amp;gt;countToString: {totalToStringByMemo}&amp;lt;/h3&amp;gt;
      &amp;lt;button
        onClick={() =&amp;gt; {
          setCount((count) =&amp;gt; count + 1);
        }}
      &amp;gt;
        Add Count
      &amp;lt;/button&amp;gt;
      &amp;lt;br /&amp;gt;
      &amp;lt;button
        onClick={() =&amp;gt; {
          setTotal((total) =&amp;gt; total + 1);
        }}
      &amp;gt;
        Add Total
      &amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
  );
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å°ç»“&#34;&gt;å°ç»“&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å…±åŒä½œç”¨ï¼šä»…ä»… ä¾èµ–æ•°æ® å‘ç”Ÿå˜åŒ–, æ‰ä¼šé‡æ–°è®¡ç®—ç»“æœï¼Œä¹Ÿå°±æ˜¯èµ·åˆ°ç¼“å­˜çš„ä½œç”¨&lt;/li&gt;
&lt;li&gt;åŒºåˆ«
&lt;ul&gt;
&lt;li&gt;useCallBack é’ˆå¯¹å¯èƒ½é‡æ–°åˆ›å»ºçš„å‡½æ•°è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å¾—å‡½æ•°è¢«ç¼“å­˜ï¼ŒReact.memo è®¤å®šä¸¤æ¬¡åœ°å€æ˜¯ç›¸åŒå°±å¯ä»¥é¿å…å­ç»„ä»¶å†—ä½™çš„æ›´æ–°ã€‚&lt;/li&gt;
&lt;li&gt;useMemo é’ˆå¯¹ä¸å¿…è¦çš„è®¡ç®—è¿›è¡Œä¼˜åŒ–ï¼Œé¿å…äº†å½“å‰ç»„ä»¶ä¸­ä¸€äº›çš„å†—ä½™è®¡ç®—æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è½¬è½½è‡ªï¼šhttps://www.jianshu.com/p/b8d27018ed22&lt;/p&gt;
">useCallback å’Œ useMemo çš„åŒºåˆ«</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/shi-yong-react-hooks-geng-xin-dui-xiang-huo-shu-zu-de-zhi"" data-c="
          &lt;h3 id=&#34;å¯¹è±¡ç±»å‹&#34;&gt;å¯¹è±¡ç±»å‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import React, { useState } from &#39;react&#39;;

const Index = ()=&amp;gt; {
  const [obj, setObj] = useState({name:&amp;quot;zhangsan&amp;quot;});

  return (
    &amp;lt;&amp;gt;
      &amp;lt;h2&amp;gt;{obj.name}---{obj.age}&amp;lt;/h2&amp;gt;	  
      &amp;lt;button onClick={()=&amp;gt; (
		setObj({
		  ...obj,
		  age:18
		})
	  )}&amp;gt;change-obj&amp;lt;/button&amp;gt;
    &amp;lt;/&amp;gt;
  );
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ•°ç»„ç±»å‹&#34;&gt;æ•°ç»„ç±»å‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import React, { useState } from &#39;react&#39;;

const Index = ()=&amp;gt; {
  const [arr, setArr] = useState([1,2,3]);

  return (
    &amp;lt;&amp;gt;

      &amp;lt;h2&amp;gt;{arr}&amp;lt;/h2&amp;gt;
      &amp;lt;button onClick={()=&amp;gt;(setArr(
		setarr(()=&amp;gt; {
		  arr.push(4);
		  return [...arr]
		})&amp;gt;change-arr&amp;lt;/button&amp;gt;

    &amp;lt;/&amp;gt;
  );
}
&lt;/code&gt;&lt;/pre&gt;
">ä½¿ç”¨React Hooksæ›´æ–°å¯¹è±¡æˆ–æ•°ç»„çš„å€¼</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/airbnb-css-sass-gui-fan-zhi-nan"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;ç”¨æ›´åˆç†çš„æ–¹å¼å†™ CSS å’Œ Sass&lt;/em&gt; ç¿»è¯‘è‡ª&lt;a href=&#34;https://github.com/airbnb/css&#34;&gt;Airbnb CSS / Sass Styleguide&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æœ¯è¯­&#34;&gt;æœ¯è¯­&lt;/h3&gt;
&lt;h4 id=&#34;è§„åˆ™å£°æ˜&#34;&gt;è§„åˆ™å£°æ˜&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬æŠŠä¸€ä¸ªï¼ˆæˆ–ä¸€ç»„ï¼‰é€‰æ‹©å™¨å’Œä¸€ç»„å±æ€§ç§°ä¹‹ä¸º â€œè§„åˆ™å£°æ˜â€ã€‚ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.listing {
  font-size: 18px;
  line-height: 1.2;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é€‰æ‹©å™¨&#34;&gt;é€‰æ‹©å™¨&lt;/h4&gt;
&lt;p&gt;åœ¨è§„åˆ™å£°æ˜ä¸­ï¼Œâ€œé€‰æ‹©å™¨â€ è´Ÿè´£é€‰å– DOM æ ‘ä¸­çš„å…ƒç´ ï¼Œè¿™äº›å…ƒç´ å°†è¢«å®šä¹‰çš„å±æ€§æ‰€ä¿®é¥°ã€‚é€‰æ‹©å™¨å¯ä»¥åŒ¹é… HTML å…ƒç´ ï¼Œä¹Ÿå¯ä»¥åŒ¹é…ä¸€ä¸ªå…ƒç´ çš„ç±»åã€ID, æˆ–è€…å…ƒç´ æ‹¥æœ‰çš„å±æ€§ã€‚ä»¥ä¸‹æ˜¯é€‰æ‹©å™¨çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.my-element-class {
  /* ... */
}

[aria-hidden] {
  /* ... */
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å±æ€§&#34;&gt;å±æ€§&lt;/h4&gt;
&lt;p&gt;æœ€åï¼Œå±æ€§å†³å®šäº†è§„åˆ™å£°æ˜é‡Œè¢«é€‰æ‹©çš„å…ƒç´ å°†å¾—åˆ°ä½•ç§æ ·å¼ã€‚å±æ€§ä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨ï¼Œä¸€ä¸ªè§„åˆ™å£°æ˜å¯ä»¥åŒ…å«ä¸€æˆ–å¤šä¸ªå±æ€§å®šä¹‰ã€‚ä»¥ä¸‹æ˜¯å±æ€§å®šä¹‰çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;/* some selector */ {
  background: #f1f1f1;
  color: #333;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;cssæ ¼å¼&#34;&gt;CSSæ ¼å¼&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ä½œä¸ºç¼©è¿›ã€‚&lt;/li&gt;
&lt;li&gt;ç±»åå»ºè®®ä½¿ç”¨ç ´æŠ˜å·ä»£æ›¿é©¼å³°æ³•ã€‚å¦‚æœä½ ä½¿ç”¨ BEMï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆå‚è§ä¸‹é¢çš„ &lt;a href=&#34;#oocss-and-bem&#34;&gt;OOCSS å’Œ BEM&lt;/a&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨ ID é€‰æ‹©å™¨ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªè§„åˆ™å£°æ˜ä¸­åº”ç”¨äº†å¤šä¸ªé€‰æ‹©å™¨æ—¶ï¼Œæ¯ä¸ªé€‰æ‹©å™¨ç‹¬å ä¸€è¡Œã€‚&lt;/li&gt;
&lt;li&gt;åœ¨è§„åˆ™å£°æ˜çš„å·¦å¤§æ‹¬å· { å‰åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å±æ€§çš„å†’å· : åé¢åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ï¼Œå‰é¢ä¸åŠ ç©ºæ ¼ã€‚&lt;/li&gt;
&lt;li&gt;è§„åˆ™å£°æ˜çš„å³å¤§æ‹¬å· } ç‹¬å ä¸€è¡Œã€‚&lt;/li&gt;
&lt;li&gt;è§„åˆ™å£°æ˜ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”å¼€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;bad&#34;&gt;Bad&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.avatar{
    border-radius:50%;
    border:2px solid white; }
.no, .nope, .not_good {
    // ...
}
#lol-no {
  // ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;good&#34;&gt;Good&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.avatar {
  border-radius: 50%;
  border: 2px solid white;
}

.one,
.selector,
.per-line {
  // ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ³¨é‡Š&#34;&gt;æ³¨é‡Š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å»ºè®®ä½¿ç”¨è¡Œæ³¨é‡Š (åœ¨ Sass ä¸­æ˜¯ //) ä»£æ›¿å—æ³¨é‡Šã€‚&lt;/li&gt;
&lt;li&gt;å»ºè®®æ³¨é‡Šç‹¬å ä¸€è¡Œã€‚é¿å…è¡Œæœ«æ³¨é‡Šã€‚&lt;/li&gt;
&lt;li&gt;ç»™æ²¡æœ‰è‡ªæ³¨é‡Šçš„ä»£ç å†™ä¸Šè¯¦ç»†è¯´æ˜ï¼Œæ¯”å¦‚ï¼š&lt;br&gt;
ä¸ºä»€ä¹ˆç”¨åˆ°äº† z-index&lt;br&gt;
å…¼å®¹æ€§å¤„ç†æˆ–è€…é’ˆå¯¹ç‰¹å®šæµè§ˆå™¨çš„ hack&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;id-é€‰æ‹©å™¨&#34;&gt;ID é€‰æ‹©å™¨&lt;/h3&gt;
&lt;p&gt;åœ¨ CSS ä¸­ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ ID é€‰æ‹©å…ƒç´ ï¼Œä½†å¤§å®¶é€šå¸¸éƒ½ä¼šæŠŠè¿™ç§æ–¹å¼åˆ—ä¸ºåé¢æ•™æã€‚ID é€‰æ‹©å™¨ç»™ä½ çš„è§„åˆ™å£°æ˜å¸¦æ¥äº†ä¸å¿…è¦çš„é«˜ä¼˜å…ˆçº§ï¼Œè€Œä¸” ID é€‰æ‹©å™¨æ˜¯ä¸å¯é‡ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è¦äº†è§£å…³äºè¿™ä¸ªä¸»é¢˜çš„æ›´å¤šå†…å®¹ï¼Œå‚è§ &lt;a href=&#34;https://csswizardry.com/2014/07/hacks-for-dealing-with-specificity/&#34;&gt;CSS Wizardry&lt;/a&gt; çš„æ–‡ç« ï¼Œæ–‡ç« ä¸­æœ‰å…³äºå¦‚ä½•å¤„ç†ä¼˜å…ˆçº§çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;javascript-é’©å­&#34;&gt;JavaScript é’©å­&lt;/h3&gt;
&lt;p&gt;é¿å…åœ¨ CSS å’Œ JavaScript ä¸­ç»‘å®šç›¸åŒçš„ç±»ã€‚å¦åˆ™å¼€å‘è€…åœ¨é‡æ„æ—¶é€šå¸¸ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼šè½»åˆ™æµªè´¹æ—¶é—´åœ¨å¯¹ç…§æŸ¥æ‰¾æ¯ä¸ªè¦æ”¹å˜çš„ç±»ï¼Œé‡åˆ™å› ä¸ºå®³æ€•ç ´ååŠŸèƒ½è€Œä¸æ•¢ä½œå‡ºæ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¨èåœ¨åˆ›å»ºç”¨äºç‰¹å®š JavaScript çš„ç±»åæ—¶ï¼Œæ·»åŠ  .js- å‰ç¼€ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;button class=&amp;quot;btn btn-primary js-request-to-book&amp;quot;&amp;gt;Request to Book&amp;lt;/button&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¾¹æ¡†&#34;&gt;è¾¹æ¡†&lt;/h3&gt;
&lt;p&gt;åœ¨å®šä¹‰æ— è¾¹æ¡†æ ·å¼æ—¶ï¼Œä½¿ç”¨ 0 ä»£æ›¿ noneã€‚&lt;/p&gt;
&lt;h4 id=&#34;bad-2&#34;&gt;Bad&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.foo {
  border: none;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;good-2&#34;&gt;Good&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.foo {
  border: 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;sass&#34;&gt;Sass&lt;/h3&gt;
&lt;p&gt;è¯­æ³•&lt;br&gt;
ä½¿ç”¨ .scss çš„è¯­æ³•ï¼Œä¸ä½¿ç”¨ .sass åŸæœ¬çš„è¯­æ³•ã€‚&lt;br&gt;
CSS å’Œ @include å£°æ˜æŒ‰ç…§ä»¥ä¸‹é€»è¾‘æ’åºï¼ˆå‚è§ä¸‹æ–‡ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;a name=&amp;quot;ordering-of-property-declarations&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å±æ€§å£°æ˜çš„æ’åº&#34;&gt;å±æ€§å£°æ˜çš„æ’åº&lt;/h3&gt;
&lt;h4 id=&#34;å±æ€§å£°æ˜&#34;&gt;å±æ€§å£°æ˜&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆåˆ—å‡ºé™¤å» @include å’ŒåµŒå¥—é€‰æ‹©å™¨ä¹‹å¤–çš„æ‰€æœ‰å±æ€§å£°æ˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.btn-green { background: green; font-weight: bold; // ... }&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;include-å£°æ˜&#34;&gt;@include å£°æ˜&lt;/h4&gt;
&lt;p&gt;ç´§éšåé¢çš„æ˜¯ @includeï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—æ•´ä¸ªé€‰æ‹©å™¨çš„å¯è¯»æ€§æ›´é«˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.btn-green { background: green; font-weight: bold; @include transition(background 0.5s ease); // ... }&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;åµŒå¥—é€‰æ‹©å™¨&#34;&gt;åµŒå¥—é€‰æ‹©å™¨&lt;/h4&gt;
&lt;p&gt;_å¦‚æœæœ‰å¿…è¦_ç”¨åˆ°åµŒå¥—é€‰æ‹©å™¨ï¼ŒæŠŠå®ƒä»¬æ”¾åˆ°æœ€åï¼Œåœ¨è§„åˆ™å£°æ˜å’ŒåµŒå¥—é€‰æ‹©å™¨ä¹‹é—´è¦åŠ ä¸Šç©ºç™½ï¼Œç›¸é‚»åµŒå¥—é€‰æ‹©å™¨ä¹‹é—´ä¹Ÿè¦åŠ ä¸Šç©ºç™½ã€‚åµŒå¥—é€‰æ‹©å™¨ä¸­çš„å†…å®¹ä¹Ÿè¦éµå¾ªä¸Šè¿°æŒ‡å¼•ã€‚&lt;/p&gt;
&lt;p&gt;` .btn { background: green; font-weight: bold; @include transition(background 0.5s ease);&lt;/p&gt;
&lt;p&gt;.icon { margin-right: 10px; } } `&lt;/p&gt;
&lt;h3 id=&#34;å˜é‡&#34;&gt;å˜é‡&lt;/h3&gt;
&lt;p&gt;å˜é‡ååº”ä½¿ç”¨ç ´æŠ˜å·ï¼ˆä¾‹å¦‚ $my-variableï¼‰ä»£æ›¿ camelCased å’Œ snake_cased é£æ ¼ã€‚å¯¹äºä»…ç”¨åœ¨å½“å‰æ–‡ä»¶çš„å˜é‡ï¼Œå¯ä»¥åœ¨å˜é‡åä¹‹å‰æ·»åŠ ä¸‹åˆ’çº¿å‰ç¼€ï¼ˆä¾‹å¦‚ $_my-variableï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mixins&#34;&gt;Mixins&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†è®©ä»£ç éµå¾ª DRY åŸåˆ™ï¼ˆDon&#39;t Repeat Yourselfï¼‰ã€å¢å¼ºæ¸…æ™°æ€§æˆ–æŠ½è±¡åŒ–å¤æ‚æ€§ï¼Œåº”è¯¥ä½¿ç”¨ mixinï¼Œè¿™ä¸é‚£äº›å‘½åè‰¯å¥½çš„å‡½æ•°çš„ä½œç”¨æ˜¯å¼‚æ›²åŒå·¥çš„ã€‚è™½ç„¶ mixin å¯ä»¥ä¸æ¥æ”¶å‚æ•°ï¼Œä½†è¦æ³¨æ„ï¼Œå‡å¦‚ä½ ä¸å‹ç¼©è´Ÿè½½ï¼ˆæ¯”å¦‚é€šè¿‡ gzipï¼‰ï¼Œè¿™æ ·ä¼šå¯¼è‡´æœ€ç»ˆçš„æ ·å¼åŒ…å«ä¸å¿…è¦çš„ä»£ç é‡å¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ‰©å±•æŒ‡ä»¤&#34;&gt;æ‰©å±•æŒ‡ä»¤&lt;/h3&gt;
&lt;p&gt;åº”é¿å…ä½¿ç”¨ @extend æŒ‡ä»¤ï¼Œå› ä¸ºå®ƒå¹¶ä¸ç›´è§‚ï¼Œè€Œä¸”å…·æœ‰æ½œåœ¨é£é™©ï¼Œç‰¹åˆ«æ˜¯ç”¨åœ¨åµŒå¥—é€‰æ‹©å™¨çš„æ—¶å€™ã€‚å³ä¾¿æ˜¯åœ¨é¡¶å±‚å ä½ç¬¦é€‰æ‹©å™¨ä½¿ç”¨æ‰©å±•ï¼Œå¦‚æœé€‰æ‹©å™¨çš„é¡ºåºæœ€ç»ˆä¼šæ”¹å˜ï¼Œä¹Ÿå¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœå®ƒä»¬å­˜åœ¨äºå…¶ä»–æ–‡ä»¶ï¼Œè€ŒåŠ è½½é¡ºåºå‘ç”Ÿäº†å˜åŒ–ï¼‰ã€‚å…¶å®ï¼Œä½¿ç”¨ @extend æ‰€è·å¾—çš„å¤§éƒ¨åˆ†ä¼˜åŒ–æ•ˆæœï¼Œgzip å‹ç¼©å·²ç»å¸®åŠ©ä½ åšåˆ°äº†ï¼Œå› æ­¤ä½ åªéœ€è¦é€šè¿‡ mixin è®©æ ·å¼è¡¨æ›´ç¬¦åˆ DRY åŸåˆ™å°±è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åµŒå¥—é€‰æ‹©å™¨-2&#34;&gt;åµŒå¥—é€‰æ‹©å™¨&lt;/h3&gt;
&lt;p&gt;è¯·ä¸è¦è®©åµŒå¥—é€‰æ‹©å™¨çš„æ·±åº¦è¶…è¿‡ 3 å±‚ï¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sass&#34;&gt;.page-container {
  .content {
    .profile {
      // STOP!
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“é‡åˆ°ä»¥ä¸Šæƒ…å†µçš„æ—¶å€™ï¼Œä½ ä¹Ÿè®¸æ˜¯è¿™æ ·å†™ CSS çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ HTML å¼ºè€¦åˆçš„ï¼ˆä¹Ÿæ˜¯è„†å¼±çš„ï¼‰&lt;em&gt;â€”æˆ–è€…â€”&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;è¿‡äºå…·ä½“ï¼ˆå¼ºå¤§ï¼‰&lt;em&gt;â€”æˆ–è€…â€”&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰é‡ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å†è¯´ä¸€é-æ°¸è¿œä¸è¦åµŒå¥—-id-é€‰æ‹©å™¨-æ°¸è¿œä¸è¦åµŒå¥—-id-é€‰æ‹©å™¨-æ°¸è¿œä¸è¦åµŒå¥—-id-é€‰æ‹©å™¨&#34;&gt;å†è¯´ä¸€é: æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼ æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼ æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼&lt;/h5&gt;
&lt;p&gt;å¦‚æœä½ å§‹ç»ˆåšæŒè¦ä½¿ç”¨ ID é€‰æ‹©å™¨ï¼ˆåŠä½ ä¸‰æ€ï¼‰ï¼Œé‚£ä¹Ÿä¸åº”è¯¥åµŒå¥—å®ƒä»¬ã€‚å¦‚æœä½ æ­£æ‰“ç®—è¿™ä¹ˆåšï¼Œä½ éœ€è¦å…ˆé‡æ–°æ£€æŸ¥ä½ çš„æ ‡ç­¾ï¼Œæˆ–è€…æŒ‡æ˜åŸå› ã€‚å¦‚æœä½ æƒ³è¦å†™å‡ºé£æ ¼è‰¯å¥½çš„ HTML å’Œ CSSï¼Œä½ æ˜¯ä¸åº”è¯¥è¿™æ ·åšçš„ã€‚&lt;/p&gt;
">Airbnb CSS / Sass è§„èŒƒæŒ‡å—</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/qian-duan-chang-yong-de-ming-ming-gui-fan"" data-c="
          &lt;ul&gt;
&lt;li&gt;ç›®å½• å…¨å°å†™ä¸­åˆ’çº¿&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶ å…¨å°å†™ä¸­åˆ’çº¿&lt;/li&gt;
&lt;li&gt;ç±»å å¤§é©¼å³°&lt;/li&gt;
&lt;li&gt;å˜é‡ å°é©¼å³°&lt;/li&gt;
&lt;li&gt;å¸¸é‡ å…¨å¤§å†™ ä¸‹åˆ’çº¿é£æ ¼&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šå˜é‡&lt;/li&gt;
&lt;li&gt;cssç±»å å°å†™ä¸­åˆ’çº¿&lt;/li&gt;
&lt;li&gt;å•è¯æ‹¼éŸ³ä¸å…è®¸&lt;/li&gt;
&lt;li&gt;å¤æ‚å‡½æ•°å’Œå…¬ç”¨å‡½æ•°å¿…é¡»åŠ æ³¨é‡Š&lt;/li&gt;
&lt;li&gt;å‡½æ•°çš„å‚æ•°æœ€å¤šä¸èƒ½è¶…è¿‡ä¸‰ä¸ª&lt;/li&gt;
&lt;li&gt;url å…¨å°å†™ ä¸­åˆ’çº¿&lt;/li&gt;
&lt;/ul&gt;
">å‰ç«¯å¸¸ç”¨çš„å‘½åè§„èŒƒ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/pu-bu-liu-ji-suan-js-yuan-ma"" data-c="
          &lt;p&gt;é‡åˆ°é—®é¢˜æ—¶çš„è§£å†³æ–¹æ³•åŠä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€ä¸‹æ‹‰åˆ·æ–°ä¼šå¯¼è‡´ç€‘å¸ƒæµé¡ºåºé”™ä¹±ï¼Œé‡æ–°newä¸€ä¸‹ç€‘å¸ƒæµå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;2ã€å›¾ç‰‡å®½é«˜å¿…é¡»è¦è®©æœåŠ¡ç«¯è¿”ï¼Œå‰ç«¯å»è·å–æ•°æ®å¤ªå¤šä¼šå¯¼è‡´æ€§èƒ½éå¸¸æ…¢ã€‚&lt;/p&gt;
&lt;p&gt;3ã€domåŠ è½½æ—¶è·å–å°ç¨‹åºçš„æŸä¸ªdomçš„å®½åº¦ï¼ˆåˆ—å®½ï¼‰ä¸ºç©ºï¼Œæ”¾åœ¨wx.nextTickä¸­å³å¯ã€‚è¿˜è·å–ä¸åˆ°ï¼Œå°±éœ€è¦çœ‹è‡ªå·±è¦è·å–çš„domæ˜¯å¦å·²åŠ è½½ã€‚&lt;/p&gt;
&lt;p&gt;4ã€æ­¤ä»£ç æŠ—æï¼Œå¦‚æœå‡ºé—®é¢˜å…ˆä»è‡ªèº«æ‰¾é—®é¢˜ï¼Œå†ä»”ç»†é˜…è¯»ä¸€éæ­¤ä»£ç ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;class Waterfall {
  constructor(options) {
    this.initWaterfall(options);
  }
    /**
   * åˆå§‹åŒ–ç€‘å¸ƒæµ
   * @param {Object} options
   * @param {Array&amp;lt;Object&amp;gt;} options.columns {width} - æ­¤å‚æ•°ä¸»è¦å®šä¹‰æ¯åˆ—çš„å®½åº¦
   */
  initWaterfall(options) {
    this.columns = options.columns;
    this.formatedData = [];
    for (let column of options.columns) {
      this.formatedData.push({
        width: column.width,
        height: 0
      });
    }
  }
  imageUrlFeild = &#39;imageUrl&#39;
 
  /**
   * æ ¼å¼åŒ–ä»æ•°æ®ä¸­è·å–å›¾ç‰‡urlçš„æ–¹æ³•
   * @param {Function | String | Number} fn - è‹¥ä¸ºå‡½æ•°ï¼Œåˆ™éœ€è¦è¿”å›ç€‘å¸ƒæµæ¯é¡¹æ•°æ®å¯¹åº”çš„å›¾ç‰‡å­—æ®µ
   */
 
  formatGetImageUrlMethod(fn) {
    this.imageUrlFeild = typeof fn === &#39;function&#39; ? fn() : fn
  }
 
  /**
   * å‘ç€‘å¸ƒæµä¸­å¡«å……æ•°æ®
   * @param {Object}  resource - å•ä¸ªç€‘å¸ƒæµé¡¹çš„æ•°æ®æº
   */
  getResourceInfo(resource) {
    const _self = this
    return new Promise(resolve =&amp;gt; {
      if (resource[_self.imageUrlFeild]) {
        // getImageInfoæ–¹æ³•åœ¨å°ç¨‹åºä¸­ä½¿ç”¨ï¼Œh5ä¸­æš‚æœªæµ‹è¯•ï¼Œä¸è¿‡ä¸€èˆ¬éƒ½æ˜¯è®©æœåŠ¡ç«¯ç›´æ¥è¿”å›å›¾ç‰‡å®½é«˜ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•ä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œå¦‚æœéœ€è¦ç”¨åˆ°çš„è¯ï¼Œå¿…é¡»åŠ ä¸€å±‚loadingé˜»æ­¢ç”¨æˆ·æ“ä½œ
        wx.getImageInfo({
          src: resource[_self.imageUrlFeild],
          success(res) {
            resolve(res)
          },
          fail() {
            resolve()
          }
        })
      } else {
        resolve()
      }
    })
  }
 
  /**
   * å‘ç€‘å¸ƒæµä¸­è¡¥å……æ•°æ®
   * @param {Boolean} extraVal ç€‘å¸ƒæµçš„å¡ç‰‡ä¸­å›¾ç‰‡ä¹‹å¤–çš„å†…å®¹
   * @param {Array&amp;lt;resource&amp;gt;}  resources
   */
 
  async addResources(resources, extraVal) {
    // let promiseArray = []
    let newResourcesArray = Array.apply(null, Array(this.columns.length)).map(
      _ =&amp;gt; []
    )
    for (let resource of resources) {
      // promiseArray.push(this.getResourceInfo(resource))
      // let imageInfo
      // imageInfo = await this.getResourceInfo(resource)
      const width = Number(resource.width) || 100;
      const height = Number(resource.height) || 100;
      // è·å–æœ€çŸ­åˆ—çš„ç´¢å¼•
      const index = this.getShortestColumn();
      // å¡ç‰‡å®½åº¦
      const imageWidth = this.formatedData[index].width;
      // é™„åŠ çš„å¡ç‰‡é«˜åº¦åœ¨è¿™é‡Œæ˜¯å†™æ­»çš„ï¼Œæ¯ä¸ªé¡¹ç›®ä¼šæœ‰ä¸åŒé«˜åº¦
      const extraHeight = extraVal ? extraVal : 0;
      // è·å–å¡ç‰‡é«˜åº¦
      const cardHeight = imageWidth / (width / height) + extraHeight;
      // å½“å‰åˆ—æ€»é«˜åº¦
      this.formatedData[index].height += cardHeight;
      // è¿”å›å¡ç‰‡é«˜åº¦
      resource.cardHeight = cardHeight;
      // è¿”å›å›¾ç‰‡é«˜åº¦
      resource.computedHeight = cardHeight - extraVal;
      // è¿”å›å½“å‰åˆ—çš„æ•°ç»„
      newResourcesArray[index].push(resource);
    }
    return newResourcesArray
  }
 
  /**
   * æœ€é‡è¦çš„åœ°æ–¹
   * è·å–å½“å‰æ•°æ®ä¸­å¡«å……æœ€çŸ­çš„åˆ—
   * è¿”å›æœ€çŸ­åˆ—çš„ç´¢å¼•
   */
  getShortestColumn() {
    let minHeight = Infinity
    let minHeightColumnIndex = 0
    for (let index = this.formatedData.length - 1; index &amp;gt; -1; index--) {
      //ä»åå¾€å‰éå†ï¼Œé˜²æ­¢æ¯åˆ—çš„é«˜åº¦ç›¸åŒçš„æƒ…å†µ
      const height = this.formatedData[index].height
      if (height &amp;lt;= minHeight) {
        minHeightColumnIndex = index
        minHeight = height
      }
    }
    return minHeightColumnIndex
  }
}
 
export default Waterfall;
 
 
// ä¾‹ï¼šåŒåˆ—ç€‘å¸ƒæµ
let newList = new Waterfall({
      columns: [
        {
          width: åˆ—å®½
        },
        {
          width: åˆ—å®½
        }
      ]
    });
newList.addResources(lists, å¡ç‰‡å†…é™¤å›¾ç‰‡çš„é¢å¤–é«˜åº¦).then(res =&amp;gt; {});
&lt;/code&gt;&lt;/pre&gt;
">ç€‘å¸ƒæµè®¡ç®—jsæºç </a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/taro-xiao-cheng-xu-zhi-bo-zu-jian-liveplayer-zhu-yi-shi-xiang"" data-c="
          &lt;h3 id=&#34;1-ç›´æ’­ç»„ä»¶ä¼˜å…ˆå¼€é€šå®æ—¶éŸ³é¢‘å’Œè§†é¢‘ç®¡ç†åå°ç”³è¯·å¯¹åº”çš„è¯ä¹¦&#34;&gt;1ã€ç›´æ’­ç»„ä»¶ä¼˜å…ˆå¼€é€šå®æ—¶éŸ³é¢‘å’Œè§†é¢‘ï¼ˆç®¡ç†åå°ï¼‰ï¼Œç”³è¯·å¯¹åº”çš„è¯ä¹¦&lt;/h3&gt;
&lt;h3 id=&#34;2-ç›´æ’­ç»„ä»¶éœ€è¦åšç³»ç»Ÿæƒé™éªŒè¯éº¦å…‹é£å’Œç›¸æœºå¼•å¯¼ç”¨æˆ·æ‰“å¼€æƒé™ä¸ç„¶éƒ¨åˆ†æ‰‹æœºåŠ è½½å¤±è´¥-insertliveplayerfailaccess-denied-å› ä¸ºæƒé™æœ‰ä¸‰ä¸ªçŠ¶æ€undefined-denied-authorizedauthorizedä»£è¡¨ç³»ç»Ÿæƒé™å·²å¼€&#34;&gt;2ã€ç›´æ’­ç»„ä»¶éœ€è¦åšã€ç³»ç»Ÿã€‘æƒé™éªŒè¯ï¼Œï¼ˆéº¦å…‹é£å’Œç›¸æœºï¼‰,å¼•å¯¼ç”¨æˆ·æ‰“å¼€æƒé™ï¼Œä¸ç„¶éƒ¨åˆ†æ‰‹æœºåŠ è½½å¤±è´¥ï¼ˆ insertLivePlayer:fail:access deniedï¼‰ å› ä¸ºæƒé™æœ‰ä¸‰ä¸ªçŠ¶æ€(undefinedã€deniedã€authorized)ï¼Œauthorizedä»£è¡¨ç³»ç»Ÿæƒé™å·²å¼€&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;export const getSystemInfo = (keys: Tkey[], content = &#39;&#39;) =&amp;gt; {
  return new Promise((resolve) =&amp;gt; {
    const systemInfo = wx.getAppAuthorizeSetting();
    console.log(&#39;system&#39;, systemInfo);
    if (!systemInfo) {
      return resolve({ code: -1, msg: &#39;è·å–ç³»ç»Ÿæƒé™å¤±è´¥~&#39; });
    }
    keys.forEach((item) =&amp;gt; {
      if (systemInfo[item] !== &#39;authorized&#39;) {
        Taro.showModal({
          content,
          success: (res) =&amp;gt; {
            if (res.confirm) {
              wx.openAppAuthorizeSetting({
                success: () =&amp;gt; {
                  return resolve({ code: 100, msg: &#39;æ‰“å¼€ç³»ç»Ÿæˆæƒé¡µæˆåŠŸ~&#39; });
                },
                fail: () =&amp;gt; {
                  return resolve({ code: 101, msg: &#39;æ‰“å¼€ç³»ç»Ÿæˆæƒé¡µå¤±è´¥~&#39; });
                }
              });
            } else {
              return resolve({ code: 403, msg: &#39;ç”¨æˆ·ç‚¹å‡»å–æ¶ˆ~&#39; });
            }
          }
        });
        return resolve({ code: 401, msg: &#39;æƒé™æ²¡æ‰“å¼€~&#39; });
      }
    });
    return resolve({ code: 0, msg: &#39;ç”¨æˆ·å·²å¼€é€šå¯¹åº”æƒé™~&#39; });
  });
};
 
// è·å–ç³»ç»Ÿæƒé™
      const res: any = await getSystemInfo(
        [&#39;cameraAuthorized&#39;, &#39;microphoneAuthorized&#39;],
        &#39;æ£€æµ‹åˆ°æ‚¨æ²¡æœ‰æ‰“å¼€éº¦å…‹é£å’Œç›¸æœºæƒé™ï¼Œéƒ¨åˆ†åŠŸèƒ½å°†æ²¡æ³•ä½¿ç”¨~&#39;
      );
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-ç›´æ’­ç»„ä»¶åŒå±‚æ¸²æŸ“åœ¨å…¨å±ä¸‹å¤±æ•ˆéœ€è¦å•ç‹¬å¤„ç†å…¨å±åšcoverviewcoverimageåšåŸç”Ÿè¦†ç›–èƒ½åŠ›å¤„ç†ä¸æ˜¯å…¨å±å°±åŒå±‚æ¸²æŸ“å…¨å±å¤„ç†æ—¶å€™é¡¶å±‚å®¹å™¨å’Œç›´æ¥å­èŠ‚ç‚¹éœ€è¦è®¾ç½®-visiblityvisiblepositionrelativez-index99999-å¿…é¡»å¾—å¤„ç†ä¸ç„¶android-çš„coverviewè¦†ç›–ä¸äº†åŸç”Ÿç›´æ’­ç»„ä»¶&#34;&gt;3ã€ç›´æ’­ç»„ä»¶åŒå±‚æ¸²æŸ“åœ¨å…¨å±ä¸‹å¤±æ•ˆï¼Œéœ€è¦å•ç‹¬å¤„ç†ï¼Œå…¨å±åšCoverView\CoverImageåšåŸç”Ÿè¦†ç›–èƒ½åŠ›å¤„ç†ï¼Œä¸æ˜¯å…¨å±å°±åŒå±‚æ¸²æŸ“ï¼Œå…¨å±å¤„ç†æ—¶å€™é¡¶å±‚å®¹å™¨å’Œç›´æ¥å­èŠ‚ç‚¹éœ€è¦è®¾ç½® visiblity:visible;position:relative;z-index:99999; å¿…é¡»å¾—å¤„ç†ï¼Œä¸ç„¶android çš„CoverViewè¦†ç›–ä¸äº†åŸç”Ÿç›´æ’­ç»„ä»¶ã€‚&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;.cover-main{
    position: absolute;
    visibility: visible;
    z-index: 999999;
}
 
&amp;lt;CoverView className={style[&#39;cover-main&#39;]}&amp;gt;
                &amp;lt;CoverView className={style[&#39;cover-main&#39;]}&amp;gt;
                  &amp;lt;CoverView className={style[&#39;live-control&#39;]} onClick={showTips}&amp;gt;&amp;lt;/CoverView&amp;gt;
 
        {fullScreenFlag &amp;amp;&amp;amp; (
        &amp;lt;&amp;gt;
            {/*å¹¿å‘Š*/}
            &amp;lt;Curtain /&amp;gt;

            {/* å°é¢*/}
            {startStatus === false ? (
            &amp;lt;CoverView className={style.cannot_see}&amp;gt;
                &amp;lt;CoverImage className={style.cannot_see_img} src={readyImg}&amp;gt;&amp;lt;/CoverImage&amp;gt;
            &amp;lt;/CoverView&amp;gt;
            ) : teachStatus === false ? (
            &amp;lt;CoverView className={style.cannot_see}&amp;gt;
                &amp;lt;CoverImage className={style.cannot_see_img} src={outImg}&amp;gt;&amp;lt;/CoverImage&amp;gt;
            &amp;lt;/CoverView&amp;gt;
            ) : null}

            {/* å€’è®¡æ—¶*/}
            {time &amp;gt;= 1800 ? &amp;lt;CountDown time={time} /&amp;gt; : null}
        &amp;lt;/&amp;gt;
        )}

        {/*æ§åˆ¶*/}
        &amp;lt;CoverView
        className={`${style.control} ${tips ? style[&#39;up-ani&#39;] : style[&#39;down-ani&#39;]}`}
        &amp;gt;
        &amp;lt;CoverView className={style.info}&amp;gt;
            &amp;lt;CoverView&amp;gt;ç›´æ’­&amp;lt;/CoverView&amp;gt;
        &amp;lt;/CoverView&amp;gt;
        &amp;lt;CoverView className={style[&#39;full-screen&#39;]} onClick={handleFullScreen}&amp;gt;
            &amp;lt;CoverImage
            className={style.icon}
            src={fullScreenFlag ? tuichuquanping : quanping}
            &amp;gt;&amp;lt;/CoverImage&amp;gt;
            &amp;lt;CoverView&amp;gt;{fullScreenFlag ? &#39;å°å±æ’­æ”¾&#39; : &#39;å…¨å±æ’­æ”¾&#39;}&amp;lt;/CoverView&amp;gt;
        &amp;lt;/CoverView&amp;gt;
        &amp;lt;/CoverView&amp;gt;
    &amp;lt;/CoverView&amp;gt;
    &amp;lt;/CoverView&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
">Taro å°ç¨‹åºç›´æ’­ç»„ä»¶ LivePlayer æ³¨æ„äº‹é¡¹</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/kai-fa-yi-ge-zi-ji-de-xiang-mu-jiao-shou-jia"" data-c="
          &lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1644219568486.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸Šé¢æ˜¯ä¸€ä¸ªä½¿ç”¨è„šæ‰‹æ¶æ¥åˆå§‹åŒ–é¡¹ç›®çš„å…¸å‹ä¾‹å­ã€‚&lt;br&gt;
éšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ç†å¿µä¸æ–­æ·±å…¥ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­å¤§å®¶æœ€ç†Ÿæ‚‰çš„å°±æ˜¯create-react-appå’Œvue-cliï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„ã€è‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œæœ€åæˆ‘ä»¬ä¸€è¡ŒæŒ‡ä»¤å³å¯è¿è¡Œé¡¹ç›®å¼€å§‹å¼€å‘ï¼Œæˆ–è€…è¿›è¡Œé¡¹ç›®æ„å»ºï¼ˆbuildï¼‰ã€‚&lt;br&gt;
è¿™äº›è„šæ‰‹æ¶æä¾›çš„éƒ½æ˜¯æ™®éæ„ä¹‰ä¸Šçš„æœ€ä½³å®è·µï¼Œä½†æ˜¯æˆ‘åœ¨å¼€å‘ä¸­å‘ç°ï¼Œéšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•ï¼Œå¿…ç„¶ä¼šå‡ºç°éœ€è¦é’ˆå¯¹ä¸šåŠ¡å¼€å‘çš„å®é™…æƒ…å†µæ¥è¿›è¡Œè°ƒæ•´ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é¡¹ç›®æ¶æ„çš„é…ç½®&lt;br&gt;
a. webpack/gulpçš„é…ç½®&lt;br&gt;
â…°. style/less/sassçš„é€‰æ‹©å’Œå¤„ç†é…ç½®ã€‚&lt;br&gt;
â…±. Typescriptå’ŒJavaScriptçš„loaderå’Œbabelçš„é…ç½®ï¼Œæ¯”å¦‚babel-loaderå’Œtscã€‚&lt;br&gt;
â…². å›¾ç‰‡çš„é…ç½®ï¼Œæ¯”å¦‚éœ€è¦file-loaderæˆ–è€…url-loaderã€‚&lt;br&gt;
â…³. é™æ€èµ„æºçš„é…ç½®ã€‚&lt;br&gt;
â…´. ä¼ä¸šå†…éƒ¨ï¼ŒçœŸå¯¹äºæŸäº›ç‰¹å®šåŠŸèƒ½çš„webpack-loader/webpack-pluginï¼Œæ¯”å¦‚æ‰“åŒ…å®Œå›¾ç‰‡ä¸Šä¼ ã€‚&lt;br&gt;
b. æ˜¯å¦å†…ç½®ä¸€äº›ç¬¬ä¸‰æ–¹æ¡†æ¶ä¾›ä¸Šæ‰‹ä½¿ç”¨ï¼Œæ¯”å¦‚Element-UIï¼ŒAntdç­‰ã€‚&lt;br&gt;
c. é¡¹ç›®çš„è·¯ç”±çš„è®¾è®¡å’Œé…ç½®ã€‚&lt;br&gt;
d. é¡¹ç›®ç›®å½•ç»“æ„çš„è®¾è®¡å’Œé…ç½®ã€‚&lt;br&gt;
e. é¡¹ç›®é€šç”¨åŠŸèƒ½çš„æœ‰å…³ä»£ç ï¼Œæ¯”å¦‚ç™»é™†å’Œæ¬¢è¿é¡µç­‰ã€‚&lt;br&gt;
f.é€šè¿‡è°ƒæ•´æ’ä»¶ä¸é…ç½®å®ç° Webpack æ‰“åŒ…æ€§èƒ½ä¼˜åŒ–&lt;br&gt;
g.é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒåšçš„å•ç‹¬å¤„ç†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¡¹ç›®å¼€å‘ä¸­çš„é…ç½®&lt;br&gt;
a. eslintã€‚&lt;br&gt;
b. style-lintã€‚&lt;br&gt;
c. prettierã€‚&lt;br&gt;
d. å•å…ƒæµ‹è¯•jestæˆ–è€…å…¶ä»–å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚&lt;br&gt;
e. é¡¹ç›®æ–‡æ¡£çš„è‡ªåŠ¨ç”Ÿæˆï¼Œæ¯”å¦‚doczã€‚&lt;br&gt;
f. gitç›¸å…³çš„ï¼Œæ¯”å¦‚gitæäº¤çš„æ ¡éªŒï¼Œç”Ÿæˆchangelog&lt;br&gt;
g. npmç›¸å…³ï¼Œé™¤éæ˜¯å¼€å‘npmåŒ…ï¼Œå¦åˆ™npmç›¸å…³çš„ä¸æ˜¯é‚£ä¹ˆé‡è¦&lt;br&gt;
h. ä¸å¼€å‘æœ‰å…³çš„å·¥å…·ï¼Œæ¯”å¦‚æ‰“åŒ…æ„å»ºç»“æœçš„åŒ…åˆ†æã€æ¯”å¦‚ç›¸ä¼¼ä»£ç è‡ªåŠ¨ç”Ÿæˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¡¹ç›®ä¸Šçº¿è„šæœ¬ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯å¯é€‰é¡¹ï¼Ÿæ›´ä¼˜çš„æ–¹æ³•åº”è¯¥æ˜¯ä½¿ç”¨å†…éƒ¨çš„ä¾‹å¦‚å‘å¸ƒå¹³å°ä¹‹ç±»çš„å·¥å…·å®Œæˆï¼Œæˆ–è€…é€šè¿‡jekinsæˆ–è€…gitlab-ciè¿›è¡Œè‡ªåŠ¨åŒ–å‘å¸ƒï¼Œå›æ»šç­‰æ“ä½œã€‚ä¸Šçº¿å‘å¸ƒå›æ»šçš„åŠ¨ä½œå¯ä»¥å®Œå…¨äº¤ç»™éå¼€å‘äººå‘˜å®Œæˆã€‚&lt;br&gt;
a. æ¯”å¦‚ç”±nodejsç¼–å†™çš„ä¸Šçº¿è„šæœ¬ï¼Œæˆ–è€…æ˜¯ç”¨äºä¸Šçº¿çš„shellè„šæœ¬ã€‚&lt;br&gt;
b. gitlab-ciçš„é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;â€¦â€¦&lt;br&gt;
æ€»è€Œè¨€ä¹‹ï¼Œéšç€ä¸šåŠ¡å‘å±•ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæ²‰æ·€å‡ºä¸€å¥—æ›´â€œä¸ªæ€§åŒ–â€çš„ä¸šåŠ¡æ–¹æ¡ˆã€‚è¿™æ—¶å€™æˆ‘ä»¬æœ€ç›´æ¥çš„åšæ³•å°±æ˜¯å¼€å‘å‡ºä¸€ä¸ªè¯¥æ–¹æ¡ˆçš„è„šæ‰‹æ¶æ¥ï¼Œä»¥ä¾¿ä»Šåèƒ½å¤ç”¨è¿™äº›æœ€ä½³å®è·µä¸æ–¹æ¡ˆã€‚&lt;br&gt;
é‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ä¸€ä¸ªå·¥å…·æ¥å¸®æˆ‘ä»¬åšè¿™äº›å¤„ç†ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å°±æ˜¯yomanã€‚&lt;a href=&#34;https://yeoman.io/&#34;&gt;å®˜ç½‘åœ°å€&lt;/a&gt;&lt;br&gt;
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨yeomanå’Œyeomançš„generatoræ¥æ›´åŠ ä¾¿æ·å®ç°æˆ‘ä»¬çš„è„šæ‰‹æ¶ï¼Œå¯ä»¥è¯´åŸºæœ¬æ˜¯é›¶æˆæœ¬ã€‚&lt;br&gt;
å…ˆè¯´è¯´Yeomanæ˜¯ä»€ä¹ˆï¼Œå®ƒæƒ³åšä»€ä¹ˆï¼Ÿ&lt;br&gt;
Yeamonå¸®åŠ©ä½ å¿«é€Ÿçš„å¼€å±•ä¸€ä¸ªé¡¹ç›®å·¥ç¨‹ï¼Œæä¾›æœ€ä½³å®è·µå’Œå·¥å…·ï¼Œæ¥è®©ä½ ä¿æŒé«˜æ•ˆç‡ç¼–ç ã€‚&lt;/p&gt;
&lt;p&gt;ä»–ä»¬è‡ªå·±æä¾›äº†ä¸€ä¸ªæ„å»ºç”Ÿæ€ç³»ç»Ÿï¼Œä¸»è¦é€šè¿‡â€˜yoâ€™è¿™ä¸ªå‘½ä»¤æ¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®æˆ–è€…é¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡å®˜æ–¹çš„ç”Ÿæˆå™¨ï¼Œä»–ä»¬å»ºç«‹äº†ä¸€ä¸ªYeomançš„å·¥ä½œæµï¼Œè¿™ä¸ªæµæ˜¯ç”±ä¸€ä¸ªå¼ºå¤§çš„,å›ºå®šçš„å®¢æˆ·ç«¯ç»„å»ºï¼ŒåŒ…å«å·¥å…·å’Œæ¡†æ¶å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå»ºç«‹ç‰›é€¼çš„webåº”ç”¨ã€‚ä»–ä»¬å°½é‡æä¾›äº†å¼€å‘è€…æ‰€éœ€çš„ä¸œè¥¿ã€‚æ¯”å¦‚å…ˆä¸‹è½½å¯¹åº”æ¨¡ç‰ˆé¡¹ç›®ï¼Œç„¶åä¸‹è½½æ¨¡ç‰ˆé¡¹ç›®ä¸­çš„package.jsonä¸­çš„åŒ…&lt;/p&gt;
&lt;p&gt;ä½œä¸ºè‰¯å¥½æ–‡æ¡£å’Œæ·±å…¥æ€è€ƒæ„å»ºè¿‡ç¨‹çš„æ€æƒ³è€…ï¼ŒYeomanåŒ…å«äº†æ£€æµ‹ï¼ˆé™æ€æ£€æµ‹ï¼‰ã€æµ‹è¯•ä»¥åŠå‹ç¼©ç­‰ç­‰ä¸€ç³»åˆ—å·¥å…·ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºæ€è€ƒè§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•ä½¿ç”¨&#34;&gt;å¦‚ä½•ä½¿ç”¨ï¼š&lt;/h3&gt;
&lt;p&gt;1ã€npm install -g yo //æƒé™ä¸å¤Ÿï¼Œè¯·åŠ ä¸Š sudoï¼Œä¸€èˆ¬æ¥è¯´macéƒ½éœ€è¦ã€‚&lt;br&gt;
å®‰è£…å®Œæˆä¹‹åï¼Œä½ å°±æ‹¥æœ‰äº†1ä¸ªå‘½ä»¤ -- yo å¯ä»¥é€‰æ‹©è‡ªå®šä¹‰çš„ï¼Œä¹Ÿå¯ä»¥æœç´¢ä½ æƒ³è¦çš„ç°æˆçš„ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©è‡ªå·±çš„ã€‚ å®˜ç½‘æä¾›çš„åœ°å€ï¼šhttp://yeoman.io/generators/&lt;br&gt;
é‚£æˆ‘ä»¬å¼€å§‹ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„generatorsã€‚&lt;br&gt;
2ã€å¼€å‘è‡ªå·±çš„generator&lt;br&gt;
åˆ›å»ºé¡¹ç›®&lt;br&gt;
å…¨å±€å®‰è£…generator-generatorï¼Œç„¶åä½¿ç”¨åˆ›å»ºé¡¹ç›®ï¼Œæ ¹æ®æç¤ºè¾“å‡ºæˆ‘ä»¬çš„generatoré¡¹ç›®çš„åå­—ï¼Œyeomanè§„å®šé¡¹ç›®åå­—å¿…é¡»ä»¥generatorå¼€å¤´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€‰æ‹©generator-xxxä½œä¸ºæˆ‘ä»¬çš„é¡¹ç›®å&lt;br&gt;
npm i -g generator-generator&lt;br&gt;
yo generator&lt;br&gt;
åˆ›å»ºå¥½é¡¹ç›®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å·²ç»è‡ªåŠ¨ä¸ºæˆ‘ä»¬é…ç½®å¥½äº†eslintï¼Œjestï¼Œhusky&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸»è¦éœ€è¦ä¿®æ”¹çš„ä»£ç ä½äºgenerators/appå†…&lt;br&gt;
â— index.jså®šä¹‰äº†æˆ‘ä»¬ä½¿ç”¨æ­¤generatoræ—¶çš„ä¸€äº›æ“ä½œé…ç½®é¡¹&lt;br&gt;
â— templateså†…å­˜æ”¾çš„æ˜¯è¦ç”Ÿæˆçš„é¡¹ç›®çš„é¡¹ç›®æ¨¡æ¿ï¼Œé¡¹ç›®æ¨¡æ¿ä¹Ÿå¯ä»¥æ”¾åœ¨gitä¸Šï¼Œç„¶åé€šè¿‡download-git-repoä¸‹è½½åˆ°æœ¬åœ°&lt;br&gt;
éªŒè¯æˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å½“å‰é¡¹ç›®æ‰§è¡Œnpm linkä½¿å…¶è¢«é“¾æ¥åˆ°å…¨å±€&lt;/li&gt;
&lt;li&gt;ç„¶åæ‰¾ä¸€ä¸ªç›®å½•ï¼Œç»ˆç«¯æ‰§è¡Œyoï¼Œæ­¤æ—¶ä¾¿å¯ä»¥å‘ç°æˆ‘ä»¬çš„generatorå·²ç»å‡ºç°åœ¨äº†é€‰æ‹©åˆ—è¡¨ä¸­ã€‚ç„¶åé€‰æ‹©æˆ‘ä»¬çš„generatorè¿è¡Œå³å¯ã€‚ç­‰å¾…å®Œæˆï¼Œä¼šå‘ç°æˆåŠŸçš„åˆ›å»ºäº†ä¸€ä¸ªå«åšdummyfile.txtçš„æ–‡ä»¶å¤¹ã€‚&lt;br&gt;
generators/app/index.js&lt;br&gt;
åˆå§‹åŒ–çš„æ–‡ä»¶å¦‚ä¸‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&amp;quot;use strict&amp;quot;;
const Generator = require(&amp;quot;yeoman-generator&amp;quot;);
const chalk = require(&amp;quot;chalk&amp;quot;);
const yosay = require(&amp;quot;yosay&amp;quot;);

module.exports = class extends Generator {
  prompting() {
    // Have Yeoman greet the user.
    this.log(
      yosay(
        `Welcome to the fantastic ${chalk.red(&amp;quot;generator-rc-op&amp;quot;)} generator!`
      )
    );

    const prompts = [
      {
        type: &amp;quot;confirm&amp;quot;,
        name: &amp;quot;someAnswer&amp;quot;,
        message: &amp;quot;Would you like to enable this option?&amp;quot;,
        default: true
      }
    ];

    return this.prompt(prompts).then(props =&amp;gt; {
      // To access props later use this.props.someAnswer;
      this.props = props;
    });
  }

  writing() {
    this.fs.copy(
      this.templatePath(&amp;quot;dummyfile.txt&amp;quot;),
      this.destinationPath(&amp;quot;dummyfile.txt&amp;quot;)
    );
  }

  install() {
    this.installDependencies();
  }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»æ–‡ä»¶çš„å†…å®¹å¯ä»¥çœ‹å‡ºä¸»è¦æ“ä½œæ˜¯æš´éœ²å‡ºä¸€ä¸ªç»§æ‰¿è‡ªGeneratorçš„ç±»ï¼Œåœ¨ç±»çš„å†…éƒ¨å®šä¹‰äº†éƒ¨åˆ†ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä¾›yoemanåœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨ã€‚æˆ‘ä»¬åªéœ€è¦å®Œå–„è¿™äº›æ–¹æ³•å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;yeomanæä¾›çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹&#34;&gt;yeomanæä¾›çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;initializingï¼šåˆå§‹åŒ–å¿…è¦çš„ä¾èµ–ï¼Œæˆ–è€…æ¯”å¦‚æ£€æµ‹æ–°ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;promptingï¼šç”¨æ¥å¤„ç†ç»ˆç«¯çš„äº¤äº’&lt;/li&gt;
&lt;li&gt;defaultï¼šè¿™é‡ŒæŒ‡çš„æ˜¯è‡ªå·±è‡ªå®šä¹‰çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯åä¸ºdefaultçš„æ–¹æ³•ï¼Œè‡ªå·±å®šä¹‰çš„æ–¹æ³•å¦‚æœä¸æƒ³è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆéœ€è¦ç¡®ä¿æ–¹æ³•åä»¥_ä¸ºå¼€å¤´ã€‚&lt;/li&gt;
&lt;li&gt;writingï¼šå°†ç»è¿‡ejsæ¨¡æ¿æ¸²æŸ“åçš„å†…å®¹å†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;conflictsï¼šå‹‡äºè§£å†³å°†æ–‡ä»¶å†…å®¹å†™å…¥æ–‡ä»¶ç³»ç»Ÿæ—¶å¯èƒ½é€ æˆçš„å†²çª&lt;/li&gt;
&lt;li&gt;installï¼šå®‰è£…é¡¹ç›®çš„ä¾èµ–ï¼Œæ¯”å¦‚npm install æˆ–è€… bower install&lt;/li&gt;
&lt;li&gt;endï¼šåšä¸€äº›æ”¶å°¾çš„å·¥ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å‡æ”¯æŒè¿”å›Promiseæ¥è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&#34;å†…ç½®å¸¸ç”¨å·¥å…·&#34;&gt;å†…ç½®å¸¸ç”¨å·¥å…·&lt;/h3&gt;
&lt;p&gt;ç»ˆç«¯äº¤äº’ï¼šå†…ç½®äº†Inquireræä¾›ç»ˆç«¯äº¤äº’&lt;br&gt;
æ¨¡æ¿å¡«å……ï¼šå†…ç½®äº†ejsæ¨¡æ¿&lt;br&gt;
æ–‡ä»¶æ“ä½œ&lt;br&gt;
â— this.fs.copyTplï¼šç”¨äºæ‹·è´å¹¶ä¸”æ ¹æ®æ•°æ®ä½¿ç”¨ejsæ¨¡æ¿æ¸²æŸ“æ–‡ä»¶ã€‚æ­¤å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œæºæ–‡ä»¶è·¯å¾„ï¼Œç›®æ ‡æ–‡ä»¶è·¯å¾„ï¼Œä¼ ç»™ejsç”¨äºæ¸²æŸ“ç›®æ ‡é—®ä»·çš„æ•°æ®ã€‚&lt;br&gt;
â— this.fs.copyï¼šå°†æ–‡ä»¶ä¸›æºè·¯å¾„å¤åˆ¶åˆ°ç›®æ ‡è·¯å¾„ã€‚&lt;br&gt;
â— this.destinationPath() ï¼šæ­¤å‡½æ•°è¿”å›æœ€ç»ˆç”Ÿæˆé¡¹ç›®çš„è·¯å¾„&lt;br&gt;
å…¶ä»–&lt;br&gt;
â— this.npmInstallï¼šå®ç°npm isntall&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// éƒ¨åˆ†ä»£ç ï¼Œå®Œæ•´ä»£ç è§æœ€ä¸‹æ–¹é“¾æ¥
writing() {
    const done = this.async();
    this.log(&amp;quot;âš™  Finish basic configuration.&amp;quot;, chalk.green(&amp;quot;âœ”&amp;quot;));
    this.log(&amp;quot;ğŸ“‚ Generate the project template and configuration...&amp;quot;);
    let spinner = ora({
      text: `Download the template from ${GIT_BASE}${TPL_REPOSITORY}...`,
      spinner: ORA_SPINNER
    }).start();
    this._downloadTemplate(TPL_REPOSITORY)
      .then(() =&amp;gt; {
        spinner.stopAndPersist({
          symbol: chalk.green(&amp;quot;   âœ”&amp;quot;),
          text: `Finish downloading the template from ${GIT_BASE}${TPL_REPOSITORY}`
        });
        spinner = ora({
          text: `Copy files into the project folder...`,
          spinner: ORA_SPINNER
        }).start();
        const templateRoot = this.destinationPath(this.dirName, &amp;quot;.tmp&amp;quot;);
        this.log(`\n${templateRoot}`, &amp;quot;templateRoot&amp;quot;);
        const resoPath = path.resolve(templateRoot, &amp;quot;../&amp;quot;);
        this.log(resoPath, &amp;quot;resoPath&amp;quot;);
        spinner.stopAndPersist({
          symbol: chalk.green(&amp;quot;   âœ”&amp;quot;),
          text: `Finish copying files into the project folder`
        });
        execSync(`cp -R ${resoPath}/.tmp/* ${resoPath}`, { stdio: &amp;quot;inherit&amp;quot; });
        spinner = ora({
          text: `Clean tmp files and folders...`,
          spinner: ORA_SPINNER
        }).start();
        fs.removeSync(templateRoot);
        spinner.stopAndPersist({
          symbol: chalk.green(&amp;quot;   âœ”&amp;quot;),
          text: `Finish cleaning tmp files and folders`
        });
        // ExecSync(`rm -R ${resoPath}/.tmp`, { stdio: &amp;quot;inherit&amp;quot; });
        // å°†æ–°ç”Ÿæˆçš„é¡¹ç›®çš„titleæ¢æˆè‡ªå®šä¹‰çš„é¡¹ç›®åç§°
        ejs.renderFile(
          `${resoPath}/public/index.html`,
          { dirName: this.dirName },
          function(err, str) {
            // Str =&amp;gt; è¾“å‡ºæ¸²æŸ“åçš„ HTML å­—ç¬¦ä¸²
            fs.writeFile(`${resoPath}/public/index.html`, str);
          }
        );
        // å°†æ–°ç”Ÿæˆçš„é¡¹ç›®çš„package.jsonçš„nameæ¢æˆè‡ªå®šä¹‰çš„é¡¹ç›®åç§°
        ejs.renderFile(
          `${resoPath}/package.json`,
          { dirName: this.dirName },
          function(err, str) {
            // Str =&amp;gt; è¾“å‡ºæ¸²æŸ“åçš„ HTML å­—ç¬¦ä¸²
            fs.writeFile(`${resoPath}/package.json`, str);
          }
        );
        done();
      })
      .catch(err =&amp;gt; this.env.error(err));
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…¶ä»–å¯èƒ½ç”¨åˆ°çš„å·¥å…·&#34;&gt;å…¶ä»–å¯èƒ½ç”¨åˆ°çš„å·¥å…·&lt;/h3&gt;
&lt;p&gt;â— oraï¼šç”¨äºåˆ›å»ºSpinnerï¼Œå³æ¯”å¦‚ä¸‹è½½æ¨¡æ¿æ–‡ä»¶æ—¶éœ€è¦å±•ç¤ºçš„laodingæ•ˆæœã€‚&lt;br&gt;
â— chalkï¼šç”¨äºæ‰“å°å½©è‰²çš„ä¿¡æ¯&lt;br&gt;
â— update-notifier&lt;br&gt;
â— beeper&lt;br&gt;
â— boxen&lt;br&gt;
è°ƒè¯•&lt;br&gt;
ç”±äºyeomanæ˜¯é€šè¿‡npmåŒ…çš„å½¢å¼è¿›è¡Œä½¿ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬å¼€å‘çš„generatoré¡¹ç›®çš„è·Ÿç›®å½•ä¸‹ï¼Œæ‰§è¡Œnpm link å°†æˆ‘ä»¬å¼€å‘çš„generatoré“¾æ¥åˆ°å…¨å±€ï¼Œè¿™æ ·æˆ‘ä»¬ç›´æ¥ä½¿ç”¨yoå‘½ä»¤æŸ¥çœ‹å¯ä»¥ä½¿ç”¨çš„generatorï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ‰€å¼€å‘çš„generatoräº†ï¼Œå¹¶ä¸”æ˜¯å®æ—¶ç”Ÿæ•ˆçš„&lt;/p&gt;
&lt;h3 id=&#34;æˆ‘çš„ä»£ç æ˜¯åœ¨æœ¬åœ°çš„ç”¨çš„npm-linkæ²¡æœ‰ä¸Šä¼ åˆ°githubæˆ–npmæ­¤å¤„è´´å‡ºå…¶ä»–å¤§ä½¬çš„é¡¹ç›®ä»£ç -å¿«åŠ¨æ‰‹è¯•ä¸€ä¸‹å§~&#34;&gt;æˆ‘çš„ä»£ç æ˜¯åœ¨æœ¬åœ°çš„ï¼Œç”¨çš„npm linkï¼Œæ²¡æœ‰ä¸Šä¼ åˆ°githubæˆ–npmï¼Œæ­¤å¤„è´´å‡ºå…¶ä»–å¤§ä½¬çš„é¡¹ç›®ä»£ç ã€‚å¿«åŠ¨æ‰‹è¯•ä¸€ä¸‹å§ï½&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/alienzhou/webpack-kickoff-template&#34;&gt;æ¨¡ç‰ˆå®Œæ•´ä»£ç &lt;/a&gt;   æ³¨æ„è¦ç»™ejså†™å…¥çš„ç©ºä½&lt;br&gt;
&lt;a href=&#34;https://github.com/alienzhou/generator-webpack-kickoff&#34;&gt;è„šæ‰‹æ¶å®Œæ•´ä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;å‚è€ƒæ–‡ç« &#34;&gt;å‚è€ƒæ–‡ç« ï¼š&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.yuque.com/kongdepeng/rgpm60/qrluup&#34;&gt;å‰ç«¯è‡ªåŠ¨åŒ–å·¥å…· - yeoman&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://zhuanlan.zhihu.com/p/66190308&#34;&gt;å¦‚ä½•å¿«é€Ÿå¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
">ç”¨yeomanå¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/c-duan-h5-huo-xiao-cheng-xu-chang-jian-wen-ti-zong-jie"" data-c="
          &lt;p&gt;å¼€å‘Cç«¯æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ä¸è§£å†³æ–¹æ³•ï¼Œéƒ½è®°å½•ä¸‹æ¥ï¼Œå¸Œæœ›å¯¹ä½ ä¹Ÿæœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1éƒ¨åˆ†æœºå‹æ‹ç…§ä¸Šä¼ å›¾ç‰‡æ—‹è½¬é—®é¢˜&#34;&gt;1.éƒ¨åˆ†æœºå‹æ‹ç…§ä¸Šä¼ å›¾ç‰‡æ—‹è½¬é—®é¢˜ï¼š&lt;/h3&gt;
&lt;p&gt;ç›´æ¥ä»å›¾ç‰‡åé¢åŠ å‚æ•°â€˜?x-oss-process=image/auto-orient,1/resize,m_fixedâ€™ï¼ˆåŠ ä¸Šå‚æ•°ä¹‹åä¼šè‡ªåŠ¨æ—‹è½¬å›æ¥ï¼Œå…¶ä»–å‚æ•°å¯å‚è€ƒé˜¿é‡ŒOSSå®˜æ–¹æ–‡æ¡£https://help.aliyun.com/document_detail/44691.html?spm=a2c4g.11186623.6.1390.750ac1f6HTe92Qï¼‰&lt;/p&gt;
&lt;h3 id=&#34;2swiper3dä¸¤è¾¹ç•™ç™½æ•ˆæœ&#34;&gt;2.swiper3Dä¸¤è¾¹ç•™ç™½æ•ˆæœï¼š&lt;/h3&gt;
&lt;p&gt;ï¼ˆå°ç¨‹åºh5å‡é€‚ç”¨ï¼‰ï¼Œä»£ç å¦‚ä¸‹ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¿…é¡»ç»™swiperçˆ¶çº§å…ƒç´ åŠ overflow-x:hidden&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.swiper-container {
  height: 100%;
  width: 600px;
  perspective: 1600px;
  overflow: visible;
  img {
    width: 100%;
    height: 720px;
    border-radius: 20px;
  }
}
.swiper-slide {
  padding: 0 24px;
  box-sizing: border-box;
  text-align: center;
  transition: transform 0.5s;
  transform-origin: 50% 50%;
  transform: scale(0.9);
  &amp;amp;.swiper-slide-active {
    transform: scale(1);
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3å°ç¨‹åºçš„è·³è½¬åå±‚é™åˆ¶ä¸è¦ä¸€ç›´ç”¨navigatetoè¿™æ ·å±äºä¸€ç›´å‰è¿›å¦‚æœéœ€è¦è·³è½¬å›é¦–é¡µæˆ–è€…å…¶ä»–å¯ä»¥ä½¿ç”¨relaunché€»è¾‘å¤æ‚æ—¶å¯è‡ªå·±å†™é¡¶éƒ¨å¯¼èˆªæ åŒ…æ‹¬è¿”å›æŒ‰é’®&#34;&gt;3.å°ç¨‹åºçš„è·³è½¬åå±‚é™åˆ¶ï¼Œä¸è¦ä¸€ç›´ç”¨navigateToï¼Œè¿™æ ·å±äºä¸€ç›´å‰è¿›ï¼Œå¦‚æœéœ€è¦è·³è½¬å›é¦–é¡µæˆ–è€…å…¶ä»–å¯ä»¥ä½¿ç”¨reLaunchï¼Œé€»è¾‘å¤æ‚æ—¶å¯è‡ªå·±å†™é¡¶éƒ¨å¯¼èˆªæ åŒ…æ‹¬è¿”å›æŒ‰é’®ã€‚&lt;/h3&gt;
&lt;h3 id=&#34;4ä¿å­˜æµ·æŠ¥åˆ°æœ¬åœ°æ¨èä¸€æ³¢ç”Ÿæˆå°ç¨‹åºæµ·æŠ¥çš„æ’ä»¶éå¸¸ç®€å•æ–¹ä¾¿&#34;&gt;4.ä¿å­˜æµ·æŠ¥åˆ°æœ¬åœ°ï¼šæ¨èä¸€æ³¢ç”Ÿæˆå°ç¨‹åºæµ·æŠ¥çš„æ’ä»¶ï¼Œéå¸¸ç®€å•æ–¹ä¾¿&lt;/h3&gt;
&lt;p&gt;taro-plugin-canvas (Taroç¯å¢ƒä½¿ç”¨)ä¸wxa-plugin-canvasï¼ˆæ™®é€šå°ç¨‹åºä½¿ç”¨ï¼‰&lt;br&gt;
tip:å¦‚æœé‡åˆ°éå¸¸è§„çš„æƒ…å†µï¼Œéœ€è¦æ‰‹å†™canvaså¹¶ä¸”å®½é«˜å°ºå¯¸ä¹˜2ä¿è¯æ¸…æ™°åº¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5inputå…‰æ ‡æ°¸è¿œåœç•™åœ¨æœ€å&#34;&gt;5.inputå…‰æ ‡æ°¸è¿œåœç•™åœ¨æœ€åï¼š&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;var el = document.getElementById(&amp;quot;IPTname&amp;quot;);
var range = document.createRange();
range.selectNodeContents(el);
range.collapse(false);
var sel = window.getSelection();
sel.removeAllRanges();
sel.addRange(range);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6å°ç¨‹åºè·å–ç”¨æˆ·æˆæƒç”¨æˆ·ä¿¡æ¯ç”¨æˆ·å®šä½ç”¨æˆ·ç›¸å†Œè®¿é—®æƒé™ç­‰æ—¶éœ€è¦å¤„ç†æ‹’ç»æ—¶çš„æƒ…å†µ-ç”Ÿæˆæµ·æŠ¥åˆ°è‡ªå·±ç›¸å†Œçš„æ—¶å€™å¦‚æœç”¨æˆ·åœ¨æˆæƒçš„æ—¶å€™ç‚¹å‡»äº†æ‹’ç»å¦‚æœä¸å…¼å®¹æ‹’ç»æˆæƒåˆ™ç›´æ¥ç”Ÿæˆå¤±è´¥&#34;&gt;6.å°ç¨‹åºè·å–ç”¨æˆ·æˆæƒï¼ˆç”¨æˆ·ä¿¡æ¯/ç”¨æˆ·å®šä½/ç”¨æˆ·ç›¸å†Œè®¿é—®æƒé™ç­‰ï¼‰æ—¶éœ€è¦å¤„ç†æ‹’ç»æ—¶çš„æƒ…å†µã€‚ç”Ÿæˆæµ·æŠ¥åˆ°è‡ªå·±ç›¸å†Œçš„æ—¶å€™å¦‚æœç”¨æˆ·åœ¨æˆæƒçš„æ—¶å€™ç‚¹å‡»äº†æ‹’ç»ï¼Œå¦‚æœä¸å…¼å®¹æ‹’ç»æˆæƒåˆ™ç›´æ¥ç”Ÿæˆå¤±è´¥ã€‚&lt;/h3&gt;
&lt;h3 id=&#34;7ç›‘å¬ç§»åŠ¨ç«¯é”®ç›˜å¼¹å‡ºå’Œæ”¶èµ·äº‹ä»¶&#34;&gt;7.ç›‘å¬ç§»åŠ¨ç«¯é”®ç›˜å¼¹å‡ºå’Œæ”¶èµ·äº‹ä»¶ã€‚&lt;/h3&gt;
&lt;p&gt;åœ¨iosè®¾å¤‡ä¸Š,æ“ä½œè¡¨å•è¾“å…¥æ—¶,é”®ç›˜å¼¹å‡ºæ—¶ä¼šæŠŠé¡µé¢é¡¶èµ·æ¥,é”®ç›˜æ”¶èµ·æ—¶å¹¶ä¸ä¼šæŠŠé¡µé¢æ¢å¤æˆåŸæ¥çš„æ ·å­,é€ æˆé¡µé¢æ ·å¼é”™ä¹±,åˆ©ç”¨focusoutå’Œfocusinäº‹ä»¶,å¯ä»¥é—´æ¥åœ°ç›‘å¬åˆ°é”®ç›˜çš„æ”¶èµ·å’Œå¼¹å‡ºäº‹ä»¶,ç„¶åæ“ä½œé¡µé¢æ»šåŠ¨åˆ°æƒ³è¦çš„ä½ç½®.&lt;/p&gt;
&lt;p&gt;focusoutè§¦å‘æ—¶æœº:  å½“å…ƒç´ å³å°†å¤±å»ç„¦ç‚¹æ—¶ï¼Œfocusout äº‹ä»¶è¢«è§¦å‘ã€‚focusout äº‹ä»¶å’Œ blur äº‹ä»¶ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºåè€…ä¸ä¼šå†’æ³¡ã€‚&lt;/p&gt;
&lt;p&gt;focusinè§¦å‘æ—¶æœº:    å½“å…ƒç´ å³å°†æ¥æ”¶ focus äº‹ä»¶æ—¶ï¼Œfocusin äº‹ä»¶è¢«è§¦å‘ã€‚ è¿™ä¸ªäº‹ä»¶å’Œ focus äº‹ä»¶çš„ä¸»è¦åŒºåˆ«åœ¨äºåè€…ä¸ä¼šå†’æ³¡ã€‚&lt;/p&gt;
&lt;p&gt;ç›‘å¬æ–¹å¼:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;let scrollTop = 0
//é”®ç›˜æ”¶èµ·
document.body.addEventListener(&#39;focusout&#39;,()=&amp;gt;{
   document.body.scrollTop=document.documentElement.scrollTop=scrollTop
})
//é”®ç›˜å¼¹å‡º
document.body.addEventListener(&#39;focusin&#39;,()=&amp;gt;{
   scrollTop = document.body.scrollTop || document.documentElement.scrollTop
})
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;8ç§»åŠ¨ç«¯ä»£ç è¿”å›ä¸Šä¸€é¡µwindowlocationbackå¤±æ•ˆ&#34;&gt;8.ç§»åŠ¨ç«¯ä»£ç è¿”å›ä¸Šä¸€é¡µï¼ˆwindow.location.back()å¤±æ•ˆï¼‰&lt;/h3&gt;
&lt;p&gt;å°¼ç›ã€‚ã€‚ç§»åŠ¨ç«¯è¿”å›ä¸Šä¸€é¡µæœ‰æ—¶å€™ç”¨window.location.back()ä¸å¥½ä½¿ï¼Œæ— è§£ã€‚å¯ä»¥ä½¿ç”¨window.location.href = document.referrerã€‚&lt;/p&gt;
&lt;h3 id=&#34;9å•é¡µé¢åº”ç”¨è·³è½¬è·¯ç”±ä¹‹åå†æ¬¡ä½¿ç”¨echartsæ—¶ä¸å±•ç¤º&#34;&gt;9.å•é¡µé¢åº”ç”¨è·³è½¬è·¯ç”±ä¹‹åå†æ¬¡ä½¿ç”¨echartsæ—¶ä¸å±•ç¤º&lt;/h3&gt;
&lt;p&gt;é¦–æ¬¡ä½¿ç”¨ä¸å±•ç¤ºï¼Œå¯ä»¥å»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯å½“è·¯ç”±è·³è½¬å›æ¥ä¹‹åå»¶è¿Ÿéƒ½ä¸ç®¡ç”¨ï¼Œé‚£ä¹ˆéœ€è¦åœ¨init Echartsä¹‹å‰åŠ¨æ€è®¾ç½®å®¹å™¨å®½é«˜ï¼Œå¹¶ä¸”æ¸…ç©ºçˆ¶å…ƒç´ ï¼Œå› ä¸ºå†æ¬¡å›æ¥çš„æ—¶å€™ä¹‹å‰çš„echartså®ä¾‹å·²ç»æ˜¯å­˜åœ¨çš„äº†ï¼Œå¯åœ¨è°ƒè¯•ä¸­æŸ¥çœ‹è¯¦æƒ…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;10-è§†é¢‘é»‘è¾¹é—®é¢˜&#34;&gt;10. è§†é¢‘é»‘è¾¹é—®é¢˜&lt;/h3&gt;
&lt;p&gt;ç»™videoæ ‡ç­¾ï¼ˆåŸç”Ÿvideoæ ‡ç­¾ï¼‰åŠ ä¸€ä¸ªobject-fit:fillå±æ€§å³å¯è§£å†³ã€‚è¦å¼ºè°ƒçš„æ˜¯ï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨Taroçš„Videoæ ‡ç­¾ï¼Œå¾ˆå‘ï¼Œè§£å†³äº†é»‘è¾¹ï¼Œå…¨å±æ—¶åˆä¼šå¯¼è‡´è§†é¢‘å˜å½¢ï¼Œä¸ç”¨object:fillçš„è¯ä¹Ÿèƒ½è§£å†³é»‘è¾¹ï¼Œä½†æ˜¯å…¨å±æ—¶è§†é¢‘çš„é€€å‡ºå…¨å±æ ·å¼åˆä¼šè¢«è¦†ç›–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;11-æ‰‹æœºé”å±æ—¶å€’è®¡æ—¶åœæ­¢&#34;&gt;11. æ‰‹æœºé”å±æ—¶å€’è®¡æ—¶åœæ­¢&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;window.addEventListener(&#39;visibilitychange&#39;,() =&amp;gt; {
   if (
     //hiddenä¸ºé”å±æ—¶æˆ–é¡µé¢ä¸å±•ç¤ºæ—¶ï¼Œå¯é‡æ–°è·å–æ—¶é—´å¼€å§‹å€’è®¡æ—¶ã€‚
      document.visibilityState ==&#39;hidden&#39;
   ) 
})
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;12ç§»åŠ¨ç«¯å®ç°çœ-å¸‚-åŒº-è¡—é“å››çº§è”åŠ¨&#34;&gt;12.ç§»åŠ¨ç«¯å®ç°çœ-å¸‚-åŒº-è¡—é“å››çº§è”åŠ¨&lt;/h3&gt;
&lt;p&gt;éœ€æ±‚æ˜¯è¦å®ç°åœ°åŒºå››çº§è”åŠ¨ï¼Œä½†æ˜¯vantçš„æ’ä»¶åªæ”¯æŒä¸‰çº§åœ°åŒºè”åŠ¨ï¼Œå°±å¾ˆå°´å°¬ï¼Œåªèƒ½è‡ªå·±å†™ï¼Œä½†æ˜¯è‡ªå·±å†™çš„è¯UIä¸äº¤äº’ä½“éªŒä¼šå¾ˆå·®ï¼Œæ‰€ä»¥å°±æƒ³åŠæ³•å»å’Œåç«¯å¯¹æ¥ã€‚å…¶å®å¾ˆç®€å•ï¼Œå†™å‡ºæ¥åªæ˜¯æé†’å¤§å®¶å¯ä»¥è¿™ä¹ˆå®ç°ï¼Œå‡å°‘æ€è€ƒä¸è¸©å‘çš„æ—¶é—´ã€‚ä¸‰çº§è”åŠ¨é€‰æ‹©å®Œä¹‹åä¼šè¿”å›åœ°åŒºç¼–ç ï¼Œeg:Array&amp;lt;{code:&#39;110101&#39;,name:&#39;ä¸œåŸåŒº&#39;}&amp;gt;,ç„¶åå»è¯·æ±‚åç«¯çš„æ¥å£å°†åœ°åŒºç¼–ç ä¼ è¿‡å»ï¼Œå°±èƒ½å¾—åˆ°å…¶è¡—é“çš„ç›¸å…³ä¿¡æ¯ï¼Œç„¶åç®€å•è¿‡æ»¤ä¸€ä¸‹ï¼Œæ”¾åœ¨Pickeré€‰æ‹©å™¨ä¸­å°±å¯ä»¥å®ç°ã€‚æ¥ä¸‹æ¥å°±å¯ä»¥å†™ä¸šåŠ¡é€»è¾‘äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;13ioså†…webviewä¸­vueé¡¹ç›®ä¼šå‡ºç°å¤§å—ç™½è‰²é®ç½©&#34;&gt;13.ioså†…webviewä¸­vueé¡¹ç›®ä¼šå‡ºç°å¤§å—ç™½è‰²é®ç½©&lt;/h3&gt;
&lt;p&gt;é—®é¢˜æè¿°ï¼š&lt;/p&gt;
&lt;p&gt;Aé¡µé¢â€”â€”&amp;gt;Bé¡µé¢â€”â€”&amp;gt;iosè‡ªå¸¦çš„è¿”å›â€”â€”&amp;gt;ç™½å±å‡ºç°(åƒä¸ªé­”é¬¼)â€”â€”&amp;gt;ç‚¹å‡»æˆ–æ»‘åŠ¨é¡µé¢â€”â€”&amp;gt;é—®é¢˜è§£å†³&lt;/p&gt;
&lt;p&gt;åŸå› æ˜¯ï¼Œç»è¿‡æ’æŸ¥ï¼Œå‘ç°åœ¨ios æœºå™¨ä¸Šä½¿ç”¨webview å¼€å‘Vueé¡¹ç›®æ—¶å€™ï¼Œgo history (-1)ï¼Œæ— æ³•å°†body çš„é«˜åº¦æ‹‰æ‰ï¼Œä½¿å¾—é®ä½ï¼Œè§¦å‘è½»ç‚¹å‡»ï¼Œæ–¹å¯æ¶ˆé™¤è¯¥é®ç½©&lt;/p&gt;
&lt;p&gt;è§£å†³çš„ç†è®ºï¼šç”¨äºæœ€é‡è¦çš„html å®¹å™¨æ˜¯containerï¼Œç„¶è€Œå› ä¸ºè®¾ç½®htmlã€bodyé«˜åº¦æ˜¯100%ï¼Œä»è€Œé€ æˆäº† container æ’‘å¼€çˆ¶çº§ï¼Œä½†æµè§ˆå™¨é»˜è®¤æ»šåŠ¨çš„scroll å¹¶ä¸æ˜¯ containerï¼Œè€Œæ˜¯bodyï¼ŒæŸäº›å› ç´ ï¼Œé€ æˆè¿”å›history åï¼Œæ— æ³•å¤åŸï¼ˆios çš„é”…ï¼‰ï¼Œä¸ºæ­¤ï¼Œå°† container(app.vueä¸­åŒ…è£¹çš„divï¼Œä¹Ÿå¯ä»¥æ˜¯#app) è¿›è¡Œäº†ç»å¯¹å®šä½ï¼Œå¹¶è®©å®ƒé‡æ–°æˆä¸º scroll çš„å¯¹è±¡ï¼Œä»è€Œè§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;html, body {

 width: 100%;

 height: 100%;
 min-height: 100vh;

 margin: 0;

 padding: 0;

 position: relative;

}

.container {

 width: 100%;

height: 100vh;
 min-height: 100vh;

 background: #fff;

 overflow: scroll;

 -webkit-overflow-scrolling: touch;

 position: absolute;

 left:0;

 top:0;

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;14åœ¨iosä¸Šaé¡µé¢åˆ†äº«æœ‹å‹åœˆä¹‹åè·³è½¬åˆ°-b-é¡µé¢æˆ–è¿›è¡Œåˆ«çš„æ“ä½œ&#34;&gt;14.åœ¨iosä¸ŠAé¡µé¢åˆ†äº«æœ‹å‹åœˆä¹‹åï¼Œè·³è½¬åˆ° B é¡µé¢ï¼ˆæˆ–è¿›è¡Œåˆ«çš„æ“ä½œï¼‰&lt;/h3&gt;
&lt;p&gt;æ³¨ï¼šç¦»å¼€ appçš„ A é¡µé¢å»å¾®ä¿¡ï¼Œå†æ¬¡å›åˆ° app çš„æ—¶å€™è·³è½¬åˆ° B é¡µé¢&lt;/p&gt;
&lt;p&gt;visibilitychangeï¼šå½“ç”¨æˆ·æœ€å°åŒ–çª—å£æˆ–è€…åˆ‡æ¢é€‰é¡¹å¡çš„æ—¶å€™ï¼Œapi å°±ä¼šå‘é€visibilitychangeäº‹ä»¶ï¼Œè®©å¼€å‘è€…çŸ¥é“é¡µé¢çŠ¶æ€å·²æ›´æ”¹ã€‚ä½ å¯ä»¥æ£€æµ‹äº‹ä»¶å¹¶æ‰§è¡ŒæŸäº›æ“ä½œæˆ–è¡Œä¸ºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//è¿™ä¸ªæ–¹æ³•åœ¨åˆ†äº«è¢«è§¦å‘çš„æ—¶å€™æ‰§è¡Œ
initVisibilityChange() {
      if (typeof document.visibilityState != &amp;quot;undefined&amp;quot;) {
        this.visibleChange = &amp;quot;visibilitychange&amp;quot;;
        this.vibibleState = &amp;quot;visibilityState&amp;quot;;
      } else if (
        typeof (document as any).webkitVisibilityState != &amp;quot;undefined&amp;quot;
      ) {
        this.visibleChange = &amp;quot;webkitvisibilitychange&amp;quot;;
        this.vibibleState = &amp;quot;webkitVisibilityState&amp;quot;;
      }
      if (this.visibleChange) {
        document.addEventListener(
          this.visibleChange,
          this.onVisibilityChanged,
          false
        );
      }
    },
      /**
     * ä»å¾®ä¿¡è¿”å›appå¯ä»¥åœ¨è¿™é‡Œé¢å¤„ç†äº‹æƒ…
     */
    onVisibilityChanged(event: any) {
      var hidden = event.target.webkitHidden;
      if ((document as any)[this.vibibleState] == &amp;quot;visible&amp;quot;) {
          this.goRun(); // åšè‡ªå·±éœ€è¦çš„é€»è¾‘å¤„ç†
          this.removeVisibilityChange();
      }
    },
     // ç§»é™¤appåå°ç›‘å¬äº‹ä»¶
    removeVisibilityChange() {
      document.removeEventListener(
        this.visibleChange,
        this.onVisibilityChanged,
        false
      );
    },
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;15-ä»vueé¡µé¢è·³è½¬åˆ°évueé¡µé¢ç‚¹å‡»è¿”å›iosè®¾å¤‡ä¸Šé¡µé¢æ•°æ®ä¸åˆ·æ–°&#34;&gt;15. ä»vueé¡µé¢è·³è½¬åˆ°évueé¡µé¢ï¼Œç‚¹å‡»è¿”å›ï¼Œiosè®¾å¤‡ä¸Šé¡µé¢æ•°æ®ä¸åˆ·æ–°ã€‚&lt;/h3&gt;
&lt;p&gt;æ¯”å¦‚Aé¡µé¢å®šä¹‰äº†ä¸€ä¸ªå˜é‡ä¸ºtrueï¼Œç‚¹å‡»è·³è½¬åˆ°évueé¡¹ç›®é¡µé¢ï¼ˆphpï¼‰ï¼Œç‚¹å‡»è¿”å›ï¼ŒæŸ¥çœ‹è¿™ä¸ªå˜é‡ï¼Œåœ¨å®‰å“ä¸Šä¾ç„¶ä¸ºtureï¼Œä½†æ˜¯åœ¨iosä¸Šå°±å˜æˆäº†falseã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;window.onpageshow=function(e){
ã€€ã€€if(e.persisted) {
ã€€ã€€ã€€ã€€window.location.reload()
ã€€ã€€}
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;16-appç‚¹å‡»è‡ªå¸¦è¿”å›æŒ‰é’®å…³é—­é¡µé¢ä»¥åŠç¦ç”¨è¿”å›çš„è¸©å‘è®°å½•&#34;&gt;16. appç‚¹å‡»è‡ªå¸¦è¿”å›æŒ‰é’®å…³é—­é¡µé¢ä»¥åŠç¦ç”¨è¿”å›çš„è¸©å‘è®°å½•&lt;/h3&gt;
&lt;p&gt;http://note.youdao.com/s/4qUINhV0 ï¼ˆæ¯”è¾ƒå¤šï¼Œæœ‰é“äº‘é“¾æ¥å‘å‡ºæ¥ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;17-wxchooseimageæ–¹æ³•åœ¨å®‰å“ä¸iosä¸Šå–åˆ°çš„base64æ ¼å¼ä¸ä¸€æ ·å®‰å“æ²¡æœ‰dataimagejpgbase64å‰ç¼€éœ€è¦å•ç‹¬å¤„ç†&#34;&gt;17. wx.chooseImageæ–¹æ³•åœ¨å®‰å“ä¸iosä¸Šå–åˆ°çš„base64æ ¼å¼ä¸ä¸€æ ·ï¼Œå®‰å“æ²¡æœ‰data:image/jpg;base64å‰ç¼€ï¼Œéœ€è¦å•ç‹¬å¤„ç†&lt;/h3&gt;
&lt;h3 id=&#34;18-æ‰‹æœºå†…h5ç‚¹å‡»inputæ— æ³•å”¤èµ·è‡ªå¸¦é”®ç›˜å¯ä»¥ç»™inputæ·»åŠ clickäº‹ä»¶æ‰‹åŠ¨è§¦å‘focusäº‹ä»¶&#34;&gt;18. æ‰‹æœºå†…h5ç‚¹å‡»inputæ— æ³•å”¤èµ·è‡ªå¸¦é”®ç›˜ï¼šå¯ä»¥ç»™inputæ·»åŠ clickäº‹ä»¶æ‰‹åŠ¨è§¦å‘focusäº‹ä»¶ã€‚&lt;/h3&gt;
&lt;h3 id=&#34;19-canvasç»˜åˆ¶åœ†è§’çŸ©å½¢æ–¹æ³•&#34;&gt;19. canvasç»˜åˆ¶åœ†è§’çŸ©å½¢æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;// xã€yã€wã€hä¸canvasçš„rectæ–¹æ³•å‚æ•°ç›¸åŒ
//rä»£è¡¨åœ†è§’å¤§å°ï¼Œ1ã€2ã€3ã€4åˆ†åˆ«ä»£è¡¨ä¸Šå·¦ã€ä¸Šå³ã€ä¸‹å³ã€ä¸‹å·¦
function drawRoundRect(ctx, x, y, w, h, r1, r2, r3, r4) {
  ctx.beginPath()
  ctx.moveTo(x + r1, y)
  ctx.arcTo(x + w, y, x + w, y + h, r2)
  ctx.arcTo(x + w, y + h, x, y + h, r3)
  ctx.arcTo(x, y + h, x, y, r4)
  ctx.arcTo(x, y, x + w, y, r1)
  ctx.closePath()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;20-postå¯¼å‡ºæ–‡ä»¶å¤„ç†&#34;&gt;20. POSTå¯¼å‡ºæ–‡ä»¶å¤„ç†&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;fetchè¯·æ±‚æ–¹æ³•ä¸­ï¼Œå¢åŠ ç±»å‹å¤„ç†ï¼Œé¢„è®¾è¯·æ±‚ä¼ å…¥å­—æ®µæ§åˆ¶ï¼Œè¿”å›ä¸ºï¼šresponse.blob()ï¼›&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼å¤„ç†ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;const blob = new Blob([data], {type: &amp;quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&amp;quot;})
    const a = document.createElement(&amp;quot;a&amp;quot;);
    const filename ={
      exportDetail: &#39;æ¨å¹¿äººå‘˜ç”¨æˆ·æ˜ç»†&#39;,
      exportRecord: &#39;æ¨å¹¿äººå‘˜è·Ÿè¿›è®°å½•æ˜ç»†&#39;
    }
    a.href = URL.createObjectURL(data)
    a.download = filename[type] // è¿™é‡Œå¡«ä¿å­˜æˆçš„æ–‡ä»¶å
    a.click()
    URL.revokeObjectURL(a.href)
ã€€ã€€ a.remove();
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;21-è§£å†³cssç€‘å¸ƒæµåªèƒ½ç«–å‘å±•ç¤ºé—®é¢˜éæ’åæˆ–æ’åºæ—¶å¯ç”¨&#34;&gt;21. è§£å†³cssç€‘å¸ƒæµåªèƒ½ç«–å‘å±•ç¤ºé—®é¢˜(éæ’åæˆ–æ’åºæ—¶å¯ç”¨)&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;// çˆ¶å…ƒç´ 
column-count: 2;
width: 100%;
// å­å…ƒç´ 
break-inside: avoid;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const oldList = lists;
const newList = [].concat(
  ...Array.from(
    oldList.reduce(
      (total, cur, index) =&amp;gt; {
        total[index % 2].push(cur);
        return total;
      },
      { 0: [], 1: [], length: 2 }
    )
  )
);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;22-mpvueçš„å‘&#34;&gt;22. mpvueçš„å‘&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸€å®šè¦éµå¾ªmpvueå®˜æ–¹æ–‡æ¡£å»ºè®®ï¼Œä¸è¦å°†v-forç”¨åœ¨ç»„ä»¶ä¸Šé¢ï¼Œæˆ–è€…åœ¨v-forå†…åµŒå¥—ç»„ä»¶ï¼Œè¿™æ ·æˆå€å¢åŠ wx.setDataçš„æ•°æ®é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å¼€å‘ä¸Šæ‹‰åŠ è½½æ›´å¤šçš„éœ€æ±‚æ—¶ä¸è¦ä½¿ç”¨å°ç¨‹åºåŸç”Ÿçš„scroll-viewï¼Œç›´æ¥ä½¿ç”¨pageçš„onReachBottomäº‹ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨swiperæ—¶ï¼Œä¸è¦åµŒå¥—è¿‡å¤šswiper-itemï¼Œä¸è¦åœ¨swiper-itemä¸­æ”¾å…¥å¤ªå¤šå…ƒç´ ï¼Œæœ‰ç€‘å¸ƒæµç­‰æ— é™åŠ è½½åˆ—è¡¨éœ€æ±‚æ—¶ï¼Œç¦æ­¢ä½¿ç”¨swiperï¼Œä¼šå¯¼è‡´å°ç¨‹åºå¡æ­»é—ªé€€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;slotåªèƒ½ä½¿ç”¨åŒ¿åï¼Œå…·åslotåŠscoped slotä¸èƒ½ä½¿ç”¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å®šä¹‰ç»„ä»¶dataæ—¶ï¼Œä¸è¦å°†ä¸viewæ— å…³çš„æ•°æ®å®šä¹‰åˆ°dataä¸­ï¼Œç›´æ¥å®šä¹‰åˆ°å¤–éƒ¨ï¼Œç‰¹åˆ«æ—¶ç›‘å¬scrolläº‹ä»¶çš„æ—¶å€™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wxå¯¹è±¡çš„æ–¹æ³•å…¨éƒ¨éƒ½æŒ‚åœ¨mpvueå¯¹è±¡ä¸‹ï¼Œä¸éœ€è¦ç›´æ¥è°ƒç”¨wxçš„æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯åœ¨å…¼å®¹h5çš„æ—¶å€™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;button open-typeæ˜¯è·å–ç”¨æˆ·æ‰‹æœºå·ç­‰éœ€è¦ç»‘å®šäº‹ä»¶çš„ç±»å‹æ—¶ï¼Œä¸è¦ä½¿ç”¨click.stopæˆ–catch:tapï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸ä¼šè§¦å‘è·å–ç”¨æˆ·æ‰‹æœºå·çš„å›è°ƒæ–¹æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰ç»„ä»¶çš„createdç”Ÿå‘½å‘¨æœŸåªåœ¨å°ç¨‹åºåŠ è½½çš„æ—¶å€™ç»Ÿä¸€æ‰§è¡Œï¼Œå³ä½¿ä½¿ç”¨äº†v-ifä¹Ÿä¸èƒ½åœ¨æ¯æ¬¡åŠ è½½ç»„ä»¶çš„æ—¶å€™è§¦å‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœè¦è‡ªå®šä¹‰tabbaræœ€å¥½è‡ªå·±å®ç°ä¸€ä¸ªï¼Œä¸è¦ä½¿ç”¨åŸç”Ÿçš„customå®šä¹‰ï¼ŒåŸç”Ÿcustomé™åˆ¶å¤ªå¤šä¸”ä¸èƒ½ä½¿ç”¨mpvueå®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;23-taro-hookså­ç»„ä»¶æ¡ä»¶æ¸²æŸ“&#34;&gt;23. Taro hookså­ç»„ä»¶æ¡ä»¶æ¸²æŸ“&lt;/h3&gt;
&lt;p&gt;è‹¥æ˜¯å¸Œæœ›å­ç»„ä»¶propsæœªè¢«é‡æ–°èµ‹å€¼çš„æƒ…å†µä¸‹ä¸æ¸²æŸ“ï¼Œä½¿ç”¨memoåŒ…è£¹ï¼Œå®ƒå®ç°äº†classä¸­PureComponentçš„æ•ˆæœï¼Œæµ…æ¯”è¾ƒäº†ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// å­ç»„ä»¶
import Taro, { memo } from &amp;quot;@tarojs/taro&amp;quot;;
import { View } from &amp;quot;@tarojs/components&amp;quot;;
 
const Index = ({ data }) =&amp;gt; {
  return (
    &amp;lt;View&amp;gt;
      {console.log(&amp;quot;Test -- rander2&amp;quot;, data)}
      {data.map((item, index) =&amp;gt; {
        return &amp;lt;View key={index}&amp;gt;{item}&amp;lt;/View&amp;gt;;
      })}
    &amp;lt;/View&amp;gt;
  );
};
 
export default memo(Index);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‹¥æ˜¯å¸Œæœ›åœ¨æŸäº›ç‰¹å®šçš„propæ”¹å˜çš„æ—¶å€™æ›´æ–°å­ç»„ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// utils
import Taro from &amp;quot;@tarojs/taro&amp;quot;;
 
/**
  * å­ç»„ä»¶æ¡ä»¶æ¸²æŸ“
  * @param {Function} render - è¦æ¸²æŸ“çš„ç»„ä»¶å‡½æ•°
  * @param {Array}  observe - æ¸²æŸ“ä¾æ®ï¼Œä»propsæ¥æ”¶çš„æ•°æ®keyï¼Œ
  */
export const compareRender = (render, observe=[]) =&amp;gt; {
  const compare = (prevProps, nextProps) =&amp;gt; {
    let keep = true;
    for (let i = 0; i &amp;lt; observe.length; i++) {
      if (prevProps[observe[i]] !== nextProps[observe[i]]) {
        keep = false;
        break;
      }
    }
    return keep;
  };
  return Taro.memo(render, compare);
};
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;// å­ç»„ä»¶
import Taro from &amp;quot;@tarojs/taro&amp;quot;;
import { View } from &amp;quot;@tarojs/components&amp;quot;;
 
import { compareRender } from &amp;quot;@utils&amp;quot;;
 
const Index = ({ data }) =&amp;gt; {
  return (
    &amp;lt;View&amp;gt;
      {console.log(&amp;quot;Test -- rander&amp;quot;, data)}
      {data.map((item, index) =&amp;gt; {
        return &amp;lt;View key={index}&amp;gt;{item}&amp;lt;/View&amp;gt;;
      })}
    &amp;lt;/View&amp;gt;
  );
};
 
export default compareRender(Index, [&amp;quot;data&amp;quot;]);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;24-å…³äºåœ¨dvaå‰¯ä½œç”¨ä¸­å¤šä¸ªè¯·æ±‚åŒæ­¥æ‰§è¡Œçš„ä¼˜åŒ–&#34;&gt;24. å…³äºåœ¨dvaå‰¯ä½œç”¨ä¸­å¤šä¸ªè¯·æ±‚åŒæ­¥æ‰§è¡Œçš„ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;ç»æµ‹è¯•ï¼š&lt;br&gt;
const res1 = yield call(req1); const res2 = yield call (req2); const res3 = yield call (req3);  ä¸‰ä¸ªè¯·æ±‚åŒæ­¥æ‰§è¡Œï¼Œå¹³å‡è€—æ—¶å¤§çº¦ä¸º120msï¼Œé¡µé¢åŠ è½½ã€æ•°æ®ç­‰å¾…æ—¶é—´è¾ƒé•¿ã€‚&lt;br&gt;
ä¼˜åŒ–ï¼š&lt;br&gt;
const [ res1, res2, res3] =  yield [ call(req1), call(req2), call(req3) ],  å¹¶å‘è¯·æ±‚ï¼Œå¹³å‡è€—æ—¶å¤§çº¦ä¸º20ms&lt;/p&gt;
">Cç«¯H5æˆ–å°ç¨‹åºå¸¸è§é—®é¢˜æ€»ç»“</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/zi-ding-yi-yi-ge-new-fang-fa"" data-c="
          &lt;p&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new&#34;&gt;MDN new&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸€-newçš„ä»‹ç»&#34;&gt;ä¸€ã€newçš„ä»‹ç»&lt;/h3&gt;
&lt;p&gt;newæ˜¯å¹²ä»€ä¹ˆçš„ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;new è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½¿ç”¨newå¯ä»¥å°‘åšå››ä»¶äº‹æƒ…ï¼š&lt;/p&gt;
&lt;p&gt;ä¸ç”¨åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼ˆä½ ä½¿ç”¨ã€Œthisã€å°±å¯ä»¥è®¿é—®åˆ°ä¸´æ—¶å¯¹è±¡ï¼‰ï¼›&lt;br&gt;
ä¸ç”¨ç»‘å®šåŸå‹ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼ˆnew ä¸ºäº†çŸ¥é“åŸå‹åœ¨å“ªï¼Œæ‰€ä»¥æŒ‡å®šåŸå‹çš„åå­—ä¸º prototypeï¼‰ï¼›&lt;br&gt;
ä¸ç”¨ return ä¸´æ—¶å¯¹è±¡ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼›&lt;br&gt;
ä¸è¦ç»™åŸå‹æƒ³åå­—äº†ï¼Œå› ä¸º new æŒ‡å®šåå­—ä¸º prototypeã€‚&lt;/p&gt;
&lt;p&gt;new å…³é”®å­—ä¼šè¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•JavaScriptå¯¹è±¡ï¼ˆå³{}ï¼‰ï¼›&lt;br&gt;
ä¸ºæ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡æ·»åŠ å±æ€§__proto__ï¼Œå°†è¯¥å±æ€§é“¾æ¥è‡³æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ ï¼›&lt;br&gt;
å°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ ï¼›&lt;br&gt;
å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚&lt;br&gt;
ï¼ˆè¯‘æ³¨ï¼šå…³äºå¯¹è±¡çš„ constructorï¼Œå‚è§ Object.prototype.constructorï¼‰&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„å¯¹è±¡éœ€è¦ä¸¤æ­¥ï¼š&lt;/p&gt;
&lt;p&gt;é€šè¿‡ç¼–å†™å‡½æ•°æ¥å®šä¹‰å¯¹è±¡ç±»å‹ã€‚&lt;br&gt;
é€šè¿‡ new æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚&lt;br&gt;
åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…¶åç§°å’Œå±æ€§çš„å‡½æ•°ï¼›å¯¹è±¡çš„å±æ€§å¯ä»¥æŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;å½“ä»£ç  new Foo(...) æ‰§è¡Œæ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹äº‹æƒ…ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç»§æ‰¿è‡ª Foo.prototype çš„æ–°å¯¹è±¡è¢«åˆ›å»ºã€‚&lt;br&gt;
ä½¿ç”¨æŒ‡å®šçš„å‚æ•°è°ƒç”¨æ„é€ å‡½æ•° Fooï¼Œå¹¶å°† this ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚new Foo ç­‰åŒäº new Foo()ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æŒ‡å®šå‚æ•°åˆ—è¡¨ï¼ŒFoo ä¸å¸¦ä»»ä½•å‚æ•°è°ƒç”¨çš„æƒ…å†µã€‚&lt;br&gt;
ç”±æ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡å°±æ˜¯ new è¡¨è¾¾å¼çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ­¥éª¤1åˆ›å»ºçš„å¯¹è±¡ã€‚ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ„é€ å‡½æ•°ä¸è¿”å›å€¼ï¼Œä½†æ˜¯ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸»åŠ¨è¿”å›å¯¹è±¡ï¼Œæ¥è¦†ç›–æ­£å¸¸çš„å¯¹è±¡åˆ›å»ºæ­¥éª¤ï¼‰&lt;br&gt;
ä½ å§‹ç»ˆå¯ä»¥å¯¹å·²å®šä¹‰çš„å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ã€‚ä¾‹å¦‚ï¼Œcar1.color = &amp;quot;black&amp;quot; è¯­å¥ç»™ car1 æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å±æ€§ colorï¼Œå¹¶ç»™è¿™ä¸ªå±æ€§èµ‹å€¼ &amp;quot;black&amp;quot;ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ä¼šå½±å“ä»»ä½•å…¶ä»–å¯¹è±¡ã€‚è¦å°†æ–°å±æ€§æ·»åŠ åˆ°ç›¸åŒç±»å‹çš„æ‰€æœ‰å¯¹è±¡ï¼Œä½ å¿…é¡»å°†è¯¥å±æ€§æ·»åŠ åˆ° Car å¯¹è±¡ç±»å‹çš„å®šä¹‰ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ Function.prototype å±æ€§å°†å…±äº«å±æ€§æ·»åŠ åˆ°ä»¥å‰å®šä¹‰çš„å¯¹è±¡ç±»å‹ã€‚è¿™å®šä¹‰äº†ä¸€ä¸ªç”±è¯¥å‡½æ•°åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡å…±äº«çš„å±æ€§ï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹è±¡ç±»å‹çš„å…¶ä¸­ä¸€ä¸ªå®ä¾‹ã€‚ä¸‹é¢çš„ä»£ç å°†ä¸€ä¸ªå€¼ä¸º null çš„ color å±æ€§æ·»åŠ åˆ° car ç±»å‹çš„æ‰€æœ‰å¯¹è±¡ï¼Œç„¶åä»…åœ¨å®ä¾‹å¯¹è±¡ car1 ä¸­ç”¨å­—ç¬¦ä¸² &amp;quot;black&amp;quot; è¦†ç›–è¯¥å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function Car() {}
car1 = new Car();
car2 = new Car();

console.log(car1.color);    // undefined

Car.prototype.color = &amp;quot;original color&amp;quot;;
console.log(car1.color);    // original color

car1.color = &#39;black&#39;;
console.log(car1.color);   // black

console.log(car1.__proto__.color) //original color
console.log(car2.__proto__.color) //original color
console.log(car1.color)  // black
console.log(car2.color) // original color
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ new è¿ç®—ç¬¦ï¼Œ æ„é€ å‡½æ•°ä¼šåƒå…¶ä»–çš„å¸¸è§„å‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼Œ å¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ this çš„æŒ‡å‘ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;äºŒ-è‡ªå®šä¹‰ä¸€ä¸ªnew&#34;&gt;äºŒã€è‡ªå®šä¹‰ä¸€ä¸ªnew&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;  // æ„é€ å™¨å‡½æ•°
  let Parent = function (name, age) {
    this.name = name;
    this.age = age;
  };
  Parent.prototype.sayName = function () {
    console.log(this.name);
  };
  //è‡ªå·±å®šä¹‰çš„newæ–¹æ³•
  let newMethod = function (Parent, ...rest) {
    // 1.ä»¥æ„é€ å™¨çš„prototypeå±æ€§ä¸ºåŸå‹ï¼Œåˆ›å»ºæ–°å¯¹è±¡ï¼›
    let child = Object.create(Parent.prototype);
    // 2.å°†thiså’Œè°ƒç”¨å‚æ•°ä¼ ç»™æ„é€ å™¨æ‰§è¡Œ
    Parent.apply(child, rest);
    // 3.è¿”å›ç¬¬ä¸€æ­¥çš„å¯¹è±¡
    return child;
  };
  //åˆ›å»ºå®ä¾‹ï¼Œå°†æ„é€ å‡½æ•°Parentä¸å½¢å‚ä½œä¸ºå‚æ•°ä¼ å…¥
  const child = newMethod(Parent, &#39;echo&#39;, 26);
  child.sayName() //&#39;echo&#39;;

  //æœ€åæ£€éªŒï¼Œä¸ä½¿ç”¨newçš„æ•ˆæœç›¸åŒ
  child instanceof Parent//true
  child.hasOwnProperty(&#39;name&#39;)//true
  child.hasOwnProperty(&#39;age&#39;)//true
  child.hasOwnProperty(&#39;sayName&#39;)//false
&lt;/code&gt;&lt;/pre&gt;
">è‡ªå®šä¹‰ä¸€ä¸ªnewæ–¹æ³•</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/ru-he-yong-objectcreate-qian-kao-bei-yi-ge-dui-xiang"" data-c="
          &lt;h3 id=&#34;é¦–å…ˆå¾—ä»‹ç»ä¸€ä¸‹æ·±æ‹·è´å’Œæµ…æ‹·è´&#34;&gt;é¦–å…ˆå¾—ä»‹ç»ä¸€ä¸‹æ·±æ‹·è´å’Œæµ…æ‹·è´&lt;/h3&gt;
&lt;p&gt;ç®€å•ç‚¹æ¥è¯´ï¼Œå°±æ˜¯å‡è®¾Bå¤åˆ¶äº†Aï¼Œå½“ä¿®æ”¹Aæ—¶ï¼Œçœ‹Bæ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœBä¹Ÿè·Ÿç€å˜äº†ï¼Œè¯´æ˜è¿™æ˜¯æµ…æ‹·è´ï¼Œæ‹¿äººæ‰‹çŸ­ï¼Œå¦‚æœBæ²¡å˜ï¼Œé‚£å°±æ˜¯æ·±æ‹·è´ï¼Œè‡ªé£Ÿå…¶åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥ä¸¾ä¸ªæµ…æ‹·è´ä¾‹å­:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;let a=[0,1,2,3,4],
    b=a;
console.log(a===b);
a[0]=1;
console.log(a,b);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1645179982030.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å—¯ï¼Ÿæ˜æ˜bå¤åˆ¶äº†aï¼Œä¸ºå•¥ä¿®æ”¹æ•°ç»„aï¼Œæ•°ç»„bä¹Ÿè·Ÿç€å˜äº†ï¼Œè¿™é‡Œæˆ‘ä¸ç¦é™·å…¥äº†æ²‰æ€ã€‚&lt;br&gt;
é‚£ä¹ˆè¿™é‡Œï¼Œå°±å¾—å¼•å…¥åŸºæœ¬æ•°æ®ç±»å‹ä¸å¼•ç”¨æ•°æ®ç±»å‹çš„æ¦‚å¿µäº†ã€‚&lt;br&gt;
é¢è¯•å¸¸é—®ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Œnumberï¼Œstringï¼Œbooleanï¼Œnullï¼Œundefinedï¼Œsymbolä»¥åŠæœªæ¥ES10æ–°å¢çš„BigInt(ä»»æ„ç²¾åº¦æ•´æ•°)ä¸ƒç±»ã€‚&lt;/p&gt;
&lt;p&gt;å¼•ç”¨æ•°æ®ç±»å‹(Objectç±»)æœ‰å¸¸è§„åå€¼å¯¹çš„æ— åºå¯¹è±¡{a:1}ï¼Œæ•°ç»„[1,2,3]ï¼Œä»¥åŠå‡½æ•°ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è€Œè¿™ä¸¤ç±»æ•°æ®å­˜å‚¨åˆ†åˆ«æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åŸºæœ¬ç±»å‹--åå€¼å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œä¾‹å¦‚let a=1;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180053377.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å½“ä½ b=aå¤åˆ¶æ—¶ï¼Œæ ˆå†…å­˜ä¼šæ–°å¼€è¾Ÿä¸€ä¸ªå†…å­˜ï¼Œä¾‹å¦‚è¿™æ ·ï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180068077.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‰€ä»¥å½“ä½ æ­¤æ—¶ä¿®æ”¹a=2ï¼Œå¯¹bå¹¶ä¸ä¼šé€ æˆå½±å“ï¼Œå› ä¸ºæ­¤æ—¶çš„bå·²è‡ªé£Ÿå…¶åŠ›ï¼Œç¿…è†€ç¡¬äº†ï¼Œä¸å—açš„å½±å“äº†ã€‚å½“ç„¶ï¼Œlet a=1,b=a;è™½ç„¶bä¸å—aå½±å“ï¼Œä½†è¿™ä¹Ÿç®—ä¸ä¸Šæ·±æ‹·è´ï¼Œå› ä¸ºæ·±æ‹·è´æœ¬èº«åªé’ˆå¯¹è¾ƒä¸ºå¤æ‚çš„objectç±»å‹æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼•ç”¨æ•°æ®ç±»å‹--åå­˜åœ¨æ ˆå†…å­˜ä¸­ï¼Œå€¼å­˜åœ¨äºå †å†…å­˜ä¸­ï¼Œä½†æ˜¯æ ˆå†…å­˜ä¼šæä¾›ä¸€ä¸ªå¼•ç”¨çš„åœ°å€æŒ‡å‘å †å†…å­˜ä¸­çš„å€¼ï¼Œæˆ‘ä»¬ä»¥ä¸Šé¢æµ…æ‹·è´çš„ä¾‹å­ç”»ä¸ªå›¾ï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180120847.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å½“b=aè¿›è¡Œæ‹·è´æ—¶ï¼Œå…¶å®å¤åˆ¶çš„æ˜¯açš„å¼•ç”¨åœ°å€ï¼Œè€Œå¹¶éå †é‡Œé¢çš„å€¼ã€‚&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180132383.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è€Œå½“æˆ‘ä»¬a[0]=1æ—¶è¿›è¡Œæ•°ç»„ä¿®æ”¹æ—¶ï¼Œç”±äºaä¸bæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥è‡ªç„¶bä¹Ÿå—äº†å½±å“ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„æµ…æ‹·è´äº†ã€‚&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180430014.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é‚£ï¼Œè¦æ˜¯åœ¨å †å†…å­˜ä¸­ä¹Ÿå¼€è¾Ÿä¸€ä¸ªæ–°çš„å†…å­˜ä¸“é—¨ä¸ºbå­˜æ”¾å€¼ï¼Œå°±åƒåŸºæœ¬ç±»å‹é‚£æ ·ï¼Œå²‚ä¸å°±è¾¾åˆ°æ·±æ‹·è´çš„æ•ˆæœäº†&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180475298.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å®ç°ç®€å•çš„æ·±æ‹·è´&#34;&gt;å®ç°ç®€å•çš„æ·±æ‹·è´&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function deepClone(obj){
    let objClone = Array.isArray(obj)?[]:{};
    if(obj &amp;amp;&amp;amp; typeof obj===&amp;quot;object&amp;quot;){
        for(key in obj){
            if(obj.hasOwnProperty(key)){
                //åˆ¤æ–­ojbå­å…ƒç´ æ˜¯å¦ä¸ºå¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œé€’å½’å¤åˆ¶
                if(obj[key]&amp;amp;&amp;amp;typeof obj[key] ===&amp;quot;object&amp;quot;){
                    objClone[key] = deepClone(obj[key]);
                }else{
                    //å¦‚æœä¸æ˜¯ï¼Œç®€å•å¤åˆ¶
                    objClone[key] = obj[key];
                }
            }
        }
    }
    return objClone;
}    
let a=[1,2,3,4],
    b=deepClone(a);
a[0]=2;
console.log(a,b);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180524777.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è·Ÿä¹‹å‰æƒ³è±¡çš„ä¸€æ ·ï¼Œç°åœ¨bè„±ç¦»äº†açš„æ§åˆ¶ï¼Œä¸å†å—aå½±å“äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¿™é‡Œå†æ¬¡å¼ºè°ƒæ·±æ‹·è´æ˜¯æ‹·è´å¯¹è±¡å„ä¸ªå±‚çº§çš„å±æ€§&#34;&gt;è¿™é‡Œå†æ¬¡å¼ºè°ƒï¼Œæ·±æ‹·è´ï¼Œæ˜¯æ‹·è´å¯¹è±¡å„ä¸ªå±‚çº§çš„å±æ€§ã€‚&lt;/h4&gt;
&lt;p&gt;é‚£æ˜¯ä¸æ˜¯è¯´sliceæ–¹æ³•ä¹Ÿæ˜¯æ·±æ‹·è´äº†ï¼Œæ¯•ç«Ÿbä¹Ÿæ²¡å—açš„å½±å“ï¼Œä¸Šé¢è¯´äº†ï¼Œæ·±æ‹·è´æ˜¯ä¼šæ‹·è´æ‰€æœ‰å±‚çº§çš„å±æ€§ï¼Œè¿˜æ˜¯è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æŠŠaæ”¹æ”¹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;let a=[0,1,[2,3],4],
        b=a.slice();
a[0]=1;
a[2][0]=1;
console.log(a,b);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180593582.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‹·è´çš„ä¸å½»åº•å•Šï¼Œbå¯¹è±¡çš„ä¸€çº§å±æ€§ç¡®å®ä¸å—å½±å“äº†ï¼Œä½†æ˜¯äºŒçº§å±æ€§è¿˜æ˜¯æ²¡èƒ½æ‹·è´æˆåŠŸï¼Œä»ç„¶è„±ç¦»ä¸äº†açš„æ§åˆ¶ï¼Œè¯´æ˜sliceæ ¹æœ¬ä¸æ˜¯çœŸæ­£çš„æ·±æ‹·è´ã€‚&lt;br&gt;
ç¬¬ä¸€å±‚çš„å±æ€§ç¡®å®æ·±æ‹·è´ï¼Œæ‹¥æœ‰äº†ç‹¬ç«‹çš„å†…å­˜ï¼Œä½†æ›´æ·±çš„å±æ€§å´ä»ç„¶å…¬ç”¨äº†åœ°å€ï¼Œæ‰€ä»¥æ‰ä¼šé€ æˆä¸Šé¢çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åŒç†ï¼Œconcatæ–¹æ³•ä¸sliceä¹Ÿå­˜åœ¨è¿™æ ·çš„æƒ…å†µï¼Œä»–ä»¬éƒ½ä¸æ˜¯çœŸæ­£çš„æ·±æ‹·è´ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é™¤äº†é€’å½’æˆ‘ä»¬è¿˜å¯ä»¥å€Ÿç”¨jsonå¯¹è±¡çš„parseå’Œstringify&#34;&gt;é™¤äº†é€’å½’ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€Ÿç”¨JSONå¯¹è±¡çš„parseå’Œstringify&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function deepClone(obj){
    let _obj = JSON.stringify(obj),
        objClone = JSON.parse(_obj);
    return objClone
}    
let a=[0,1,[2,3],4],
    b=deepClone(a);
a[0]=1;
a[2][0]=1;
console.log(a,b);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1645180680861.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¯´äº†è¿™ä¹ˆå¤šï¼Œäº†è§£æ·±æ‹·è´ä¹Ÿä¸ä»…ä»…æ˜¯ä¸ºäº†åº”ä»˜é¢è¯•é¢˜ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä¹Ÿæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¾‹å¦‚åå°è¿”å›äº†ä¸€å †æ•°æ®ï¼Œä½ éœ€è¦å¯¹è¿™å †æ•°æ®åšæ“ä½œï¼Œä½†å¤šäººå¼€å‘æƒ…å†µä¸‹ï¼Œä½ æ˜¯æ²¡åŠæ³•æ˜ç¡®è¿™å †æ•°æ®æ˜¯å¦æœ‰å…¶å®ƒåŠŸèƒ½ä¹Ÿéœ€è¦ä½¿ç”¨ï¼Œç›´æ¥ä¿®æ”¹å¯èƒ½ä¼šé€ æˆéšæ€§é—®é¢˜ï¼Œæ·±æ‹·è´èƒ½å¸®ä½ æ›´å®‰å…¨å®‰å¿ƒçš„å»æ“ä½œæ•°æ®ï¼Œæ ¹æ®å®é™…æƒ…å†µæ¥ä½¿ç”¨æ·±æ‹·è´ï¼Œå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ„æ€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é—®ä¸‹å¤§å®¶objectassignå±äºæµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´&#34;&gt;é—®ä¸‹å¤§å®¶object.assignå±äºæµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´&lt;/h3&gt;
&lt;p&gt;Object.assign() æ–¹æ³•åªèƒ½æ‹·è´æºå¯¹è±¡çš„å¯æšä¸¾çš„è‡ªèº«å±æ€§ï¼ŒåŒæ—¶æ‹·è´æ—¶æ— æ³•æ‹·è´å±æ€§çš„ç‰¹æ€§ä»¬ï¼Œè€Œä¸”è®¿é—®å™¨å±æ€§ä¼šè¢«è½¬æ¢æˆæ•°æ®å±æ€§ï¼Œä¹Ÿæ— æ³•æ‹·è´æºå¯¹è±¡çš„åŸå‹ï¼Œæ‰€ä»¥å±äºæµ…æ‹·è´&lt;/p&gt;
&lt;h3 id=&#34;objectgetownpropertydescriptorsæ–¹æ³•é…åˆ-objectcreate-æ–¹æ³•å¯ä»¥å®ç°æµ…æ‹·è´&#34;&gt;Object.getOwnPropertyDescriptorsæ–¹æ³•é…åˆ Object.create() æ–¹æ³•å¯ä»¥å®ç°æµ…æ‹·è´ã€‚&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;Object.create(
  Object.getPrototypeOf(obj),
  Object.getOwnPropertyDescriptors(obj)
);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ¬æ–‡å‚è€ƒï¼šhttps://www.cnblogs.com/echolun/p/7889848.html&lt;/p&gt;
">å¦‚ä½•ç”¨Object.createæµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/js-huo-qu-wen-jian-da-xiao"" data-c="
          &lt;p&gt;èƒŒæ™¯ï¼šä»Šå¤© æ¯å‘¨ä¾‹è¡ŒæŠ€æœ¯åˆ†äº« çš„æ—¶å€™ï¼Œæœ‰ä½åŒäº‹è¯´ js è·å–ä¸åˆ°æ–‡ä»¶å¤§å°ï¼šæµè§ˆå™¨é»˜è®¤ä¸å…è®¸js æ‰§è¡ŒIOæ“ä½œã€‚ ä¸¾äº†ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æƒ³è·å–ä¸€ä¸ªå›¾ç‰‡åœ°å€çš„æ–‡ä»¶å¤§å°ï¼Œå› ä¸ºä¹‹å‰åšè¿‡å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æ‰€ä»¥æ¯”è¾ƒæ•æ„Ÿï¼Œæ„Ÿè§‰åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œè™½ç„¶ä»–è¯´ç½‘ä¸Šæ‰¾è¿‡å¾ˆå¤šèµ„æ–™ä½†æ˜¯éƒ½ä¸è¡Œï¼Œä½†æ˜¯è¿™ç§ä¸œè¥¿ åªæœ‰è‡ªå·±è¯•è¯•æ‰å®‰å¿ƒå˜›~~&lt;/p&gt;
&lt;h3 id=&#34;å¤±è´¥æ–¹æ¡ˆ-canvastoblob&#34;&gt;å¤±è´¥æ–¹æ¡ˆ canvas.toBlob&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;function loadImg(url){
    return new Promise((res, rej) =&amp;gt; {
        const img = new Image()
        img.crossOrigin = &#39;&#39;   // é˜²æ­¢img ç”»åœ¨canvasä¸Šæ—¶æŠ¥è·¨åŸŸé”™è¯¯
        img.onload = function() {
            res(this)
        }
        img.onerror = function() {
            rej()
        }
        img.src = url
    })
}

async function getImgSize(url) {
    const urlArr = url.split(&#39;.&#39;)
    const mime = &amp;quot;image/&amp;quot; + urlArr[urlArr.length-1]
    const img = await loadImg(url)
    const {width,height} = img
    const canvas = document.createElement(&#39;canvas&#39;)
    const ctx = canvas.getContext(&#39;2d&#39;);
    canvas.width = width;
    canvas.height = height;
    ctx.drawImage(img,0,0,width,height)
    canvas.toBlob(
        blob =&amp;gt; {
            console.log(url,blob,(blob.size / 1000)+&#39;KB&#39;)
        },
        mime
    );
}

getImgSize(&#39;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;çœ‹æ—¥å¿—è¾“å‡º&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1644227403808.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
çœ‹ç€æˆäº†ï¼Œä½†å®é™….... ä¸ æœ¬åœ° å’Œ Network å·® åä¸‡å…«åƒé‡Œ&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1644227440435.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1644227452558.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æˆ‘å°è¯•äº†å‡ ä¸ªå›¾ç‰‡,æ¯ä¸ªå›¾ç‰‡éƒ½æ¯”ä¹‹å‰è¦å¤§ï¼Œè€Œä¸”å¢å¤§ç¨‹åº¦ä¸ä¸€å®š,è¿™å—ä¼°è®¡æ˜¯canvasç”»äº†ä¸€éçš„åŸå› ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤±è´¥æ–¹æ³•-canvastodataurl-dataurltoblob&#34;&gt;å¤±è´¥æ–¹æ³• canvas.toDataURL + dataURLtoBlob&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;function loadImg(url){
    return new Promise((res, rej) =&amp;gt; {
        const img = new Image()
        img.crossOrigin = &#39;&#39;   // é˜²æ­¢img ç”»åœ¨canvasä¸Šæ—¶æŠ¥è·¨åŸŸé”™è¯¯
        img.onload = function() {
            res(this)
        }
        img.onerror = function() {
            rej()
        }
        img.src = url
    })
}

async function getImgSize(url) {
    const urlArr = url.split(&#39;.&#39;)
    const mime = &amp;quot;image/&amp;quot; + urlArr[urlArr.length-1]
    const img = await loadImg(url)
    const {width,height} = img
    const canvas = document.createElement(&#39;canvas&#39;)
    const ctx = canvas.getContext(&#39;2d&#39;);
    canvas.width = width;
    canvas.height = height;
    ctx.drawImage(img,0,0,width,height);
    const blob =  dataURLtoBlob(canvas.toDataURL(mime));
    console.log(url,blob,(blob.size / 1000)+&#39;KB&#39;)
}
function dataURLtoBlob(dataurl) {
    var arr = dataurl.split(&#39;,&#39;);
    var _arr = arr[1].substring(0,arr[1].length-2);
    var mime = arr[0].match(/:(.*?);/)[1],
        bstr =atob(_arr),
        n = bstr.length,
        u8arr = new Uint8Array(n);
    while (n--) {
        u8arr[n] = bstr.charCodeAt(n);
    }
    return new Blob([u8arr], {
        type: mime
    });
}

getImgSize(&#39;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;çœ‹ç»“æœâ¬‡ï¸&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1644227621781.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ã€‚ã€‚ã€‚çœ‹æ¥ä¸èƒ½èµ°canvasè¿™æ¡è·¯äº†&lt;/p&gt;
&lt;h3 id=&#34;æˆåŠŸæ–¹æ¡ˆ-performance&#34;&gt;æˆåŠŸæ–¹æ¡ˆ performance&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1644227695711.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
éš¾é“çœŸçš„æ²¡æœ‰åŠæ³•äº†å˜›ï¼Ÿæˆ‘ç›¯ç€ æµè§ˆå™¨Network é™·å…¥æ²‰æ€, çªç„¶ Network èµ„æºåŠ è½½ çš„sizeåœ¨æˆ‘çœ¼é‡Œ è¶Šæ¥è¶ŠæŠ¢çœ¼ï¼Œè²Œä¼¼æœ‰ä¸ªapiå¯ä»¥è·å–åˆ°èµ„æºåŠ è½½~~~~~ èµ°èµ·&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function getImgSize(url){
    return new Promise((res, rej) =&amp;gt; {
        var performance = window.performance || 
            window.msPerformance || 
            window.webkitPerformance;
        if (performance) {
            const img = new Image()
            img.crossOrigin = &#39;&#39;
            img.onload = function() {
                let [imgEntries] = performance.getEntriesByName(url)
                res(imgEntries)
            }
            img.onerror = function() {
                rej(&#39;å›¾ç‰‡åŠ è½½å¤±è´¥&#39;)
            }
            img.src = url
        }else{
            rej(&#39;æµè§ˆå™¨ä¸æŒæ”¯æŒperformance&#39;)
        }
    })
}
let url = &#39;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&#39;
getImgSize(url).then(v=&amp;gt;{
    console.log(v)
    console.log(v.decodedBodySize)
    console.log((v.decodedBodySize / 1000),&#39;KB&#39;)
    // transferSize  åˆ¤æ–­æ˜¯å¦ç¼“å­˜
})
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™å—ä½¿ç”¨ decodedBodySizeï¼Œå› ä¸º css jsç­‰èµ„æº decodedBodySize ä¸æœ¬åœ°å¤§å°ä¸€è‡´&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1644227863370.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/decodedBodySize&#34;&gt;decodedBodySize-MDNæ–‡æ¡£&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/encodedBodySize&#34;&gt;encodedBodySize-MDN æ–‡æ¡£&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/getEntriesByName&#34;&gt;performance.getEntriesByName-MDNæ–‡æ¡£&lt;/a&gt;&lt;br&gt;
å“ˆå“ˆå“ˆå“ˆï¼Œæˆäº†ï½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å¤šç»„æ•°æ®éªŒè¯&#34;&gt;å¤šç»„æ•°æ®éªŒè¯&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å›¾ç‰‡åœ°å€&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;æœ¬åœ°size&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;canvas.toBlob&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;canvas.toDataURL + dataURLtoBlob&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;performance&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20519&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;36345&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;36343&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20519&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;https://images.daojia.com/dop/custom/dda52b42212b6bdea3e12d03ac97ffbe.png&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;65511&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;164303&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;164302&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;65511&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;https://images.daojia.com/dop/custom/f8f0528c61e243699c309f5f25eab513.png&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;14638&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;36394&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;36391&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;14638&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;æ²¡æœ‰çœ‹é”™-performance-ä¸æœ¬åœ°çš„å®Œå…¨ä¸€æ ·&#34;&gt;æ²¡æœ‰çœ‹é”™ performance ä¸æœ¬åœ°çš„å®Œå…¨ä¸€æ ·&lt;/h4&gt;
&lt;h3 id=&#34;ä¸é™åˆ¶äºå›¾ç‰‡&#34;&gt;ä¸é™åˆ¶äºå›¾ç‰‡&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;function loadJSFile(source) {
    return new Promise((res, rej) =&amp;gt; {
        const node = document.createElement(&#39;script&#39;)
        node.async = false
        node.src = source

        const supportOnload = &#39;onload&#39; in node
        if (supportOnload) {
            node.onload = function(){
                res(this)
            }
            node.onerror = () =&amp;gt; {
                rej(`${source}åŠ è½½å¤±è´¥`)
            }
        } else {
            node.onreadystatechange = function(){
                if (/loaded|complete/i.test(node.readyState)) {
                    res(this)
                }
            }
        }
        document.getElementsByTagName(&#39;head&#39;)[0].appendChild(node)
    })
}
function loadImgFile(url){
    return new Promise((res, rej) =&amp;gt; {
        const img = new Image()
        img.crossOrigin = &#39;&#39;
        img.onload = function() {
            res(this)
        }
        img.onerror = function() {
            rej(&#39;å›¾ç‰‡åŠ è½½å¤±è´¥&#39;)
        }
        img.src = url
    })
}

function loadCSSFile(source) {
    return new Promise((res, rej) =&amp;gt; {
        var head = document.getElementsByTagName(&#39;head&#39;)[0];
        var link = document.createElement(&#39;link&#39;);
        link.type = &#39;text/css&#39;;
        link.rel = &#39;stylesheet&#39;;
        link.href = source;
        const supportOnload = &#39;onload&#39; in link
        if (supportOnload) {
            link.onload = function(){
                res(this)
            }
            link.onerror = () =&amp;gt; {
                rej(`${source}åŠ è½½å¤±è´¥`)
            }
        } else {
            link.onreadystatechange = function(){
                if (/loaded|complete/i.test(link.readyState)) {
                    res(this)
                }
            }
        }
        head.appendChild(link);
    })
}
function getFileSize(url){
    return new Promise((res, rej) =&amp;gt; {
    var performance = window.performance || 
        window.msPerformance || 
        window.webkitPerformance;
    if (performance) {
        let [imgEntries] = performance.getEntriesByName(url)
        if(imgEntries){
            console.log(imgEntries)
            console.log(imgEntries.decodedBodySize)
            console.log((imgEntries.decodedBodySize / 1000),&#39;KB&#39;)
            res(imgEntries)
        }else{
            rej(&#39;èµ„æºåŠ è½½æœ‰é—®é¢˜&#39;)
        }
    }else{
        rej(&#39;æµè§ˆå™¨ä¸æŒæ”¯æŒperformance&#39;)
    }
})
}
(async function (){
    const css = &#39;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css&#39;;
    await loadCSSFile(css)
    await getFileSize(css)

    const js = &#39;https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.min.js&#39;;
    await loadJSFile(js)
    await getFileSize(js)

    const img = &#39;https://images.daojia.com/dop/custom/f8f0528c61e243699c309f5f25eab513.png&#39;;
    await loadImgFile(img)
    await getFileSize(img)
})()
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1644228526757.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;å…¼å®¹æ€§&#34;&gt;å…¼å®¹æ€§&lt;/h3&gt;
&lt;p&gt;æœ€åè®°å¾—ä½¿ç”¨&lt;a href=&#34;https://caniuse.com/?search=encodedBodySize&#34;&gt;caniuse - performance&lt;/a&gt;æŸ¥çœ‹ä¸€ä¸‹å…¼å®¹æ€§&lt;/p&gt;
">jsè·å–æ–‡ä»¶å¤§å° window.performance</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/docker-attach-ming-ling"" data-c="
          &lt;p&gt;docker attach :è¿æ¥åˆ°æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨ã€‚&lt;br&gt;
è¦attachä¸Šå»çš„å®¹å™¨å¿…é¡»æ­£åœ¨è¿è¡Œï¼Œå¯ä»¥åŒæ—¶è¿æ¥ä¸ŠåŒä¸€ä¸ªcontaineræ¥å…±äº«å±å¹•ï¼ˆä¸screenå‘½ä»¤çš„attachç±»ä¼¼ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£ä¸­è¯´attachåå¯ä»¥é€šè¿‡CTRL-Cæ¥detachï¼Œä½†å®é™…ä¸Šç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œå¦‚æœcontainerå½“å‰åœ¨è¿è¡Œbashï¼ŒCTRL-Cè‡ªç„¶æ˜¯å½“å‰è¡Œçš„è¾“å…¥ï¼Œæ²¡æœ‰é€€å‡ºï¼›å¦‚æœcontainerå½“å‰æ­£åœ¨å‰å°è¿è¡Œè¿›ç¨‹ï¼Œå¦‚è¾“å‡ºnginxçš„access.logæ—¥å¿—ï¼ŒCTRL-Cä¸ä»…ä¼šå¯¼è‡´é€€å‡ºå®¹å™¨ï¼Œè€Œä¸”è¿˜stopäº†ğŸ˜¨&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;ã€‚è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œdetachçš„æ„æ€æŒ‰ç†åº”è¯¥æ˜¯è„±ç¦»å®¹å™¨ç»ˆç«¯ï¼Œä½†å®¹å™¨ä¾ç„¶è¿è¡Œã€‚å¥½åœ¨attachæ˜¯å¯ä»¥å¸¦ä¸Š--sig-proxy=falseæ¥ç¡®ä¿CTRL-Dæˆ–CTRL-Cä¸ä¼šå…³é—­å®¹å™¨ã€‚&lt;br&gt;
runoob@runoob:~$ docker attach --sig-proxy=false mynginx&lt;/p&gt;
">Docker attach å‘½ä»¤</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/sequelize"" data-c="
          &lt;p&gt;å®˜ç½‘ä»‹ç»ï¼šä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚&lt;br&gt;
&lt;a href=&#34;https://nacos.io/zh-cn/docs/what-is-nacos.html&#34;&gt;Nacosä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¦‚è§ˆ&lt;br&gt;
æ¬¢è¿æ¥åˆ° Nacos çš„ä¸–ç•Œï¼&lt;br&gt;
Nacos è‡´åŠ›äºå¸®åŠ©æ‚¨å‘ç°ã€é…ç½®å’Œç®¡ç†å¾®æœåŠ¡ã€‚Nacos æä¾›äº†ä¸€ç»„ç®€å•æ˜“ç”¨çš„ç‰¹æ€§é›†ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå®ç°åŠ¨æ€æœåŠ¡å‘ç°ã€æœåŠ¡é…ç½®ã€æœåŠ¡å…ƒæ•°æ®åŠæµé‡ç®¡ç†ã€‚&lt;br&gt;
Nacos å¸®åŠ©æ‚¨æ›´æ•æ·å’Œå®¹æ˜“åœ°æ„å»ºã€äº¤ä»˜å’Œç®¡ç†å¾®æœåŠ¡å¹³å°ã€‚ Nacos æ˜¯æ„å»ºä»¥â€œæœåŠ¡â€ä¸ºä¸­å¿ƒçš„ç°ä»£åº”ç”¨æ¶æ„ (ä¾‹å¦‚å¾®æœåŠ¡èŒƒå¼ã€äº‘åŸç”ŸèŒƒå¼) çš„æœåŠ¡åŸºç¡€è®¾æ–½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªä¸œè¥¿ä¸»è¦ç”¨äºå¾®æœåŠ¡ï¼Œä½†æˆ‘ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œåªç”¨äº†å®ƒçš„é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œè™½ç„¶æœ‰ç‚¹å¤§æå°ç”¨ï¼Œä½†ç¡®å®æ–¹ä¾¿,è€Œä¸”è¿˜å¯ä»¥é€šè¿‡ç½‘é¡µå»ç›´æ¥æŸ¥çœ‹æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾å‰ç«¯è¦æä¸€ä¸ªå¹³å°ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åç«¯æ”¯æŒï¼Œé‚£ä¹ˆæƒé™ç®¡ç†ä»¥åŠä¸€äº›å¿…è¦çš„æ•°æ®è·å–è¯¥æ€ä¹ˆåšå‘¢ï¼Œæˆ‘ä»¬æƒ³åˆ°çš„è‚¯å®šæ˜¯nodeèµ·æœåŠ¡ï¼Œç„¶åå†™æ¥å£ï¼Œç„¶åè¿æ¥æ•°æ®åº“ã€‚ä»è€Œå®ç°æ•°æ®çš„å¢åˆ æ”¹æŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼Œå°±æ˜¯åœ¨æœåŠ¡å™¨çš„dockerä¸­ä¸‹è½½ä¸€ä¸ªnacos,æŠŠæ•°æ®æ”¾åˆ°nacosä¸­ç®¡ç†ï¼Œè¿™æ ·æ•°æ®ä¾ç„¶åœ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œå¹¶ä¸”ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å»å†™æ¥å£ï¼Œnacosæä¾›äº†openApiï¼Œæˆ‘ä»¬ç›´æ¥è°ƒç”¨æ¥å£å°±å¯ä»¥ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ã€‚ä¸‹é¢å¼€å§‹å®‰è£…ï¼š&lt;/p&gt;
&lt;h3 id=&#34;nacos-docker-å¿«é€Ÿå¼€å§‹&#34;&gt;Nacos Docker å¿«é€Ÿå¼€å§‹&lt;/h3&gt;
&lt;p&gt;æ“ä½œæ­¥éª¤&lt;br&gt;
Clone é¡¹ç›®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone https://github.com/nacos-group/nacos-docker.git
cd nacos-docker
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å•æœºæ¨¡å¼ Derby&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f example/standalone-derby.yaml up
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å•æœºæ¨¡å¼ MySQL&lt;/p&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›ä½¿ç”¨MySQL5.7&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f example/standalone-mysql-5.7.yaml up
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›ä½¿ç”¨MySQL8&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f example/standalone-mysql-8.yaml up
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é›†ç¾¤æ¨¡å¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f example/cluster-hostname.yaml up 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœåŠ¡æ³¨å†Œ&lt;/p&gt;
&lt;p&gt;curl -X POST &#39;http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;amp;ip=20.18.7.10&amp;amp;port=8080&#39;&lt;br&gt;
æœåŠ¡å‘ç°&lt;/p&gt;
&lt;p&gt;curl -X GET &#39;http://127.0.0.1:8848/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName&#39;&lt;br&gt;
å‘å¸ƒé…ç½®&lt;/p&gt;
&lt;p&gt;curl -X POST &amp;quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;amp;group=test&amp;amp;content=helloWorld&amp;quot;&lt;br&gt;
è·å–é…ç½®&lt;/p&gt;
&lt;p&gt;curl -X GET &amp;quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;amp;group=test&amp;quot;&lt;br&gt;
Nacos æ§åˆ¶å°&lt;/p&gt;
&lt;p&gt;linkï¼šhttp://127.0.0.1:8848/nacos/ï¼ˆå› ä¸ºæ˜¯åœ¨æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹åº”çš„åŸŸåæˆ–è€…ipæ¥è®¿é—®ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;æ³¨æ„è¿™é‡Œè¦ç”¨openapiæä¾›çš„å­—æ®µä¿¡æ¯å¤šäº†tenantå­—æ®µ-æœ‰å“ªé‡Œä¸æ˜ç™½çš„å¯ä»¥çœ‹ä¸‹å¼€å¤´çš„å®˜æ–¹æ–‡æ¡£å“ˆ&#34;&gt;æ³¨æ„ï¼Œè¿™é‡Œè¦ç”¨openApiæä¾›çš„å­—æ®µä¿¡æ¯ï¼Œå¤šäº†tenantå­—æ®µã€‚æœ‰å“ªé‡Œä¸æ˜ç™½çš„å¯ä»¥çœ‹ä¸‹å¼€å¤´çš„å®˜æ–¹æ–‡æ¡£å“ˆã€‚&lt;/h3&gt;
">å‰ç«¯ä½¿ç”¨Nacos</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/koa-zhong-jian-jian-yu-zhi-xing-shun-xu"" data-c="
          &lt;p&gt;&lt;a href=&#34;https://www.itying.com/koa/article-index-id-90.html&#34;&gt;koa2ä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸€-ä»€ä¹ˆæ˜¯koaçš„ä¸­é—´ä»¶&#34;&gt;ä¸€ã€ä»€ä¹ˆæ˜¯Koaçš„ä¸­é—´ä»¶&lt;/h3&gt;
&lt;p&gt;é€šä¿—çš„è®²ï¼šä¸­é—´ä»¶å°±æ˜¯åŒ¹é…è·¯ç”±ä¹‹å‰æˆ–è€…åŒ¹é…è·¯ç”±å®Œæˆåšçš„ä¸€ç³»åˆ—çš„æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒå«åšä¸­é—´ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨expressä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡ï¼ˆrequest object (req)ï¼‰, å“åº”å¯¹è±¡ï¼ˆresponse object (res)ï¼‰, å’Œ web åº”ç”¨ä¸­å¤„ç†è¯·æ±‚-å“åº”å¾ªç¯æµç¨‹ä¸­çš„ä¸­é—´ä»¶ï¼Œä¸€èˆ¬è¢«å‘½åä¸º next çš„å˜é‡ã€‚åœ¨Koaä¸­ä¸­é—´ä»¶å’Œexpressæœ‰ç‚¹ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸­é—´ä»¶çš„åŠŸèƒ½åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œä»»ä½•ä»£ç ã€‚&lt;br&gt;
ä¿®æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ã€‚&lt;br&gt;
ç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯ã€‚&lt;br&gt;
è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘çš„getã€postå›è°ƒå‡½æ•°ä¸­ï¼Œæ²¡æœ‰nextå‚æ•°ï¼Œé‚£ä¹ˆå°±åŒ¹é…ä¸Šç¬¬ä¸€ä¸ªè·¯ç”±ï¼Œå°±ä¸ä¼šå¾€ä¸‹åŒ¹é…äº†ã€‚å¦‚æœæƒ³å¾€ä¸‹åŒ¹é…çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦å†™next()&lt;/p&gt;
&lt;h3 id=&#34;äºŒ-koaåº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶&#34;&gt;äºŒã€Koaåº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶ï¼š&lt;/h3&gt;
&lt;p&gt;åº”ç”¨çº§ä¸­é—´ä»¶&lt;br&gt;
è·¯ç”±çº§ä¸­é—´ä»¶&lt;br&gt;
é”™è¯¯å¤„ç†ä¸­é—´ä»¶&lt;br&gt;
ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰-ä½¿ç”¨&#34;&gt;ä¸‰ã€ä½¿ç”¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;asyncå’Œawait&lt;br&gt;
åœ¨koaä¸­ä½¿ç”¨å…³é”®è¯ async æ ‡è®°çš„å‡½æ•°æ˜¯å¼‚æ­¥å‡½æ•°ï¼Œ&lt;br&gt;
åœ¨å¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨ await next(); å¤„ç†ä¸‹ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;app.use(async func())&lt;br&gt;
koaçš„ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œå°†ä¸€ç³»åˆ—è¦å¤„ç†çš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªä¸ªå¼‚æ­¥å‡½æ•°ä¸­ï¼Œç„¶åç”¨Koaçš„å®ä¾‹appé€šè¿‡ app.use(async func()) çš„å½¢å¼è°ƒç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€ä¸ªkoaåº”ç”¨ç¨‹åºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// å¯¼å…¥koaï¼Œå’Œkoa 1.xä¸åŒï¼Œåœ¨koa2ä¸­ï¼Œæˆ‘ä»¬å¯¼å…¥çš„æ˜¯ä¸€ä¸ªclassï¼Œå› æ­¤ç”¨å¤§å†™çš„Koaè¡¨ç¤º:
const Koa = require(&#39;koa&#39;);
const app = new Koa(); // åˆ›å»ºä¸€ä¸ªKoaå¯¹è±¡è¡¨ç¤ºweb appæœ¬èº«:

// å¯¹äºä»»ä½•è¯·æ±‚ï¼Œappå°†è°ƒç”¨è¯¥å¼‚æ­¥å‡½æ•°å¤„ç†è¯·æ±‚ï¼š
app.use(async (ctx, next) =&amp;gt; {
    await next();
    ctx.response.type = &#39;text/html&#39;;
    ctx.response.body = &#39;&amp;lt;h1&amp;gt;Hello, koa2!&amp;lt;/h1&amp;gt;&#39;;
});

// åœ¨ç«¯å£3000ç›‘å¬:
app.listen(3000);
console.log(&#39;app started at port 3000...&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° app.use() æ‹¬å·é‡Œé¢çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°ç”¨äº†å¼‚æ­¥ä¿®é¥°ç¬¦ async ï¼Œåœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨ï¼Œåˆé€šè¿‡å…³é”®å­— await next() è°ƒç”¨ä¸‹ä¸€ä¸ªapp.useçš„å¼‚æ­¥å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå‡½æ•°æ˜¯æœ€åä¸€ä¸ªéœ€è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œåˆ™å†…éƒ¨ä¸éœ€è¦å†å†™await nextï¼ˆï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å››-koaä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåº&#34;&gt;å››ã€koaä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåº&lt;/h3&gt;
&lt;p&gt;Expressçš„ä¸­é—´ä»¶æ˜¯é¡ºåºæ‰§è¡Œï¼Œä»ç¬¬ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œåˆ°æœ€åä¸€ä¸ªä¸­é—´ä»¶ï¼Œå‘å‡ºå“åº”ã€‚&lt;br&gt;
Koaæ˜¯ä»ç¬¬ä¸€ä¸ªä¸­é—´ä»¶å¼€å§‹æ‰§è¡Œ,é‡åˆ° await next() å°±è¿›å…¥ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œä¸€ç›´åˆ°æ‰§è¡Œåˆ°æœ€åä¸€ä¸ªä¸­é—´ä»¶ã€‚ç„¶åå†é€†åºæ‰§è¡Œä¸Šä¸€ä¸ªä¸­é—´ä»¶ await next() åé¢çš„ä»£ç ï¼Œä¸€ç›´åˆ°ç¬¬ä¸€ä¸ªä¸­é—´ä»¶ await next() åé¢çš„ä»£ç æ‰§è¡Œå®Œæ¯•æ‰å‘å‡ºå“åº”ã€‚&lt;/p&gt;
&lt;p&gt;koaæŠŠå¾ˆå¤šasyncå‡½æ•°ç»„æˆä¸€ä¸ªå¤„ç†é“¾ï¼Œæ¯ä¸ªasyncå‡½æ•°éƒ½å¯ä»¥åšä¸€äº›è‡ªå·±çš„äº‹æƒ…ï¼Œç„¶åç”¨await next()æ¥è°ƒç”¨ä¸‹ä¸€ä¸ªasyncå‡½æ•°ã€‚æˆ‘ä»¬æŠŠæ¯ä¸ªasyncå‡½æ•°ç§°ä¸ºmiddlewareï¼Œè¿™äº›middlewareå¯ä»¥ç»„åˆèµ·æ¥ï¼Œå®Œæˆå¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;app.use(async (ctx, next) =&amp;gt; {
    console.log(&#39;1&#39;); 
    await next(); // è°ƒç”¨ä¸‹ä¸€ä¸ªmiddleware
    console.log(&#39;5&#39;)
});

app.use(async (ctx, next) =&amp;gt; {
    console.log(&#39;2&#39;);
    await next(); // è°ƒç”¨ä¸‹ä¸€ä¸ªmiddleware
    console.log(&#39;4&#39;);
});

app.use(async (ctx, next) =&amp;gt; {
    console.log(&#39;3&#39;);
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¾“å‡ºç»“æœï¼š 12345&lt;/p&gt;
">KOAä¸­é—´ä»¶ä¸æ‰§è¡Œé¡ºåº</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/koa-jie-kou-can-shu-xiao-yan-yu-fan-hui-zhi-tong-yi-chu-li"" data-c="
          &lt;p&gt;&lt;a href=&#34;https://github.com/node-modules/parameter&#34;&gt;parameteråœ°å€&lt;/a&gt;&lt;br&gt;
// Koaæ¥å£å‚æ•°æ ¡éªŒä¸è¿”å›å€¼ç»Ÿä¸€å¤„ç†  å°†å‚æ•°æ ¡éªŒå˜æˆä¸€ä¸ªè·¯ç”±ä¸­é—´ä»¶ï¼Œæ­£ç¡®çš„è¯ç»§ç»­æ‰§è¡Œï¼Œé”™è¯¯çš„è¯æŠ›å‡ºé”™è¯¯å¼‚å¸¸ã€‚&lt;br&gt;
// åœ¨ç¬¬ä¸€ä¸ªä¸­é—´ä»¶ä¸­è‡ªå®šä¹‰è¿”å›æ ¼å¼è¿™é‡Œå«ctx.DATAï¼ˆctxä¸Šè‡ªå®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åŒ…å«codeé»˜è®¤200,msgé»˜è®¤â€˜æˆåŠŸâ€™,dataé»˜è®¤ç©ºå¯¹è±¡ï¼‰&lt;br&gt;
// è¿™é‡Œå¯¹é”™è¯¯å¼‚å¸¸åšäº†å¤„ç†ï¼ŒæŠ›å‡ºçš„æ˜¯å¸¦codeç ä»¥åŠä¸codeç å¯¹åº”çš„msgå’Œé”™è¯¯åŸå› dataçš„å¯¹è±¡ï¼Œæ­¤æ—¶æˆ‘ä»¬å°†é”™è¯¯ä¿¡æ¯èµ‹å€¼ç»™ctx.DATA.dataã€‚appä¸­å…ˆå†™ä¸€ä¸ªæ•è·é”™è¯¯çš„ä¸­é—´ä»¶ï¼Œè¿™æ ·æŠ›å‡ºçš„é”™è¯¯æˆ‘ä»¬èƒ½å¤Ÿæ•è·åˆ°ï¼Œç„¶åä»è¿™é‡Œæˆ‘ä»¬ç»™bodyèµ‹å€¼ï¼Œè¿™æ ·é”™è¯¯æ—¶è¿”å›çš„å°±æ˜¯codeç å’Œmessageéƒ½æœ‰çš„è¿”å›å€¼&lt;br&gt;
// å½“æˆåŠŸæŸ¥æ‰¾åˆ°æ•°æ®åº“ä¸­çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ•°æ®ç»™ctx.DATA.dataï¼Œé‚£ä¹ˆè¿”å›å€¼å°±æ˜¯codeç ä¸º200ï¼Œmsgä¸ºæˆåŠŸï¼Œdataä¸ºæ­£ç¡®æ•°æ®çš„å¯¹è±¡äº†ã€‚ä¸‡ä¸€å‡ºç°äº†ç™»é™†å¤±è´¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¹å˜ctx.DATA.messageä¸ºç™»é™†å¤±è´¥ï¼Œæ”¹å˜codeç ç­‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/**
 * æ•°æ®æ ¡éªŒ
 * wikiï¼šhttps://github.com/node-modules/parameter/blob/master/example.js
 * @type {Parameter}
 */
// const { HttpError } = require(&#39;../../utils/tool/error&#39;)
const util = require(&#39;util&#39;)
// const ERROR_MSG = require(&#39;./errorMsg&#39;)
const ERROR_MSG = Object.freeze({
  // en
  // 0: &#39;fail&#39;,
  // 1: &#39;validation error&#39;,
  // 200: &#39;ok&#39;,
  // 400: &#39;invalid param&#39;,
  // 401: &#39;unauthorized&#39;,
  // 403: &#39;forbidden&#39;,
  // 404: &#39;not found&#39;,
  // 500: &#39;internal server error&#39;,
  // 503: &#39;service busy&#39;,

  // zh-cn
  0: &#39;å¤±è´¥&#39;,
  1: &#39;éªŒè¯ç é”™è¯¯&#39;,
  200: &#39;æˆåŠŸ&#39;,
  400: &#39;è¯·æ±‚å‡ºé”™&#39;,
  401: &#39;æœªæˆæƒçš„è¯·æ±‚&#39;,
  403: &#39;ç¦æ­¢ï¼šç¦æ­¢æ‰§è¡Œè®¿é—®&#39;,
  404: &#39;æ‰¾ä¸åˆ°ï¼šè¯·æ£€æŸ¥URLä»¥ç¡®ä¿è·¯å¾„æ­£ç¡®&#39;,
  500: &#39;æœåŠ¡å™¨çš„å†…éƒ¨é”™è¯¯&#39;,
  503: &#39;æœåŠ¡ä¸å¯ç”¨&#39;
})

function CustomError(code, msg) {
  Error.call(this, &#39;&#39;)

  this.code = code
  this.msg = msg || ERROR_MSG[code] || &#39;unknown error&#39;

  this.getCodeMsg = function() {
    return {
      code: this.code,
      msg: this.msg
    }
  }
}

util.inherits(CustomError, Error)

function HttpError(code, msg) {
  if ([0, 1, 200, 400, 401, 403, 404, 500, 503].indexOf(code) &amp;lt; 0) {
    throw Error(&#39;not an invalid http code&#39;)
  }

  CustomError.call(this, code, msg)
}

util.inherits(HttpError, CustomError)

const Parameter = require(&#39;parameter&#39;)
const parm = new Parameter()

// è‡ªå®šä¹‰æ ¡éªŒ
parm.addRule(&#39;name&#39;, function(e, v) {
  let sta = /^[a-z]$/.test(v)
  return sta || &#39;åªèƒ½è¾“å…¥ä¸€ä¸ªå­—æ¯&#39;
})

// è·¯ç”±æ ¡éªŒåˆ—è¡¨
const ruleList = {
  // ç™»å½•
  &#39;post/api/login&#39;: {
    mobile: { type: &#39;string&#39;, required: true },
    password: { type: &#39;string&#39;, required: true }
  },
  // è·å–é…ç½®
  &#39;get/api/setting&#39;: {
    id: { type: &#39;string&#39;, required: true }
  },
  // ä¿å­˜é…ç½®
  &#39;post/api/setting&#39;: {
    id: { type: &#39;number&#39;, required: true },
    title: { type: &#39;string&#39;, required: false },
    report_fix_id: { type: &#39;string&#39;, required: false },
    fix_url: { type: &#39;string&#39;, required: false },
    env: { type: &#39;string&#39;, required: false },
    report: { type: &#39;number&#39;, required: false },
    report_interval: { type: &#39;number&#39;, required: false }
  },
  // CICD
  &#39;post/api/deploy&#39;: {
    name: { type: &#39;string&#39;, required: true },
    branch: { type: &#39;string&#39;, required: false },
    env: { type: &#39;string&#39;, required: false }
  },
  // ç”¨æˆ·è¯¦æƒ…
  &#39;get/api/user-details&#39;: {
    user_id: { type: &#39;string&#39;, required: true }
  }
}

/**
 * æ ¡éªŒæ–¹æ³•
 * @param ctx
 * @param next
 * @returns {Promise&amp;lt;void&amp;gt;}
 */
const parameter = async (ctx, next) =&amp;gt; {
  let errors, data
  let method = &#39;get&#39;
  if (ctx.request.method === &#39;GET&#39;) {
    data = ctx.query
  } else {
    method = &#39;post&#39;
    data = ctx.request.body
  }
  console.log(method, data)
  try {
    let name = ctx.req._parsedUrl.pathname
    errors = parm.validate(ruleList[method + name], data)
  } catch (e) {
    throw new HttpError(0, e.toString())
  }
  if (errors &amp;amp;&amp;amp; errors.length) {
    ctx.DATA.data = errors
    throw new HttpError(0, &#39;æ•°æ®æ ¡éªŒæœªé€šè¿‡&#39;)
  }
  await next()
}
module.exports = parameter
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;router.js&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// æ•°æ®æ ¡éªŒ
const router = require(&#39;koa-router&#39;)()
const parameter = require(&#39;../utils/parameter&#39;)
// project
router.get(&#39;/api/user-details&#39;, parameter, userDetail)
router.get(&#39;/api/setting&#39;, parameter, getSetting)
router.post(&#39;/api/setting&#39;, parameter, setSetting)
// common
router.post(&#39;/api/login&#39;, parameter, login)
// devops
router.post(&#39;/api/deploy&#39;, parameter, checkToken, deploy)
// swagger
router.get(&#39;/api/swagger.json&#39;, async function (ctx) {
  ctx.set(&#39;Content-Type&#39;, &#39;application/json&#39;)
  ctx.body = openapiSpecification
})
// index
router.get(&#39;/&#39;, index)

module.exports = router
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;app.js&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const Koa = require(&#39;koa&#39;)
const app = new Koa()
const views = require(&#39;koa-views&#39;)
const json = require(&#39;koa-json&#39;)
const favicon = require(&#39;koa-favicon&#39;)
const koaBody = require(&#39;koa-body&#39;)
const logger = require(&#39;koa-logger&#39;)
const colors = require(&#39;colors&#39;)
const { resolve } = require(&#39;path&#39;)
const { koaSwagger } = require(&#39;koa2-swagger-ui&#39;)
const mysql = require(&#39;mysql2&#39;)

const conf = require(&#39;./config&#39;)
const index = require(&#39;./routes&#39;)

// å…è®¸ä¸Šä¼ æ–‡ä»¶
app.use(
  koaBody({
    multipart: true,
    formidable: {
      maxFileSize: 1000 * 1024 * 1024 // è®¾ç½®ä¸Šä¼ æ–‡ä»¶å¤§å°æœ€å¤§é™åˆ¶
    }
  })
)

// ç½‘ç«™å›¾æ ‡
app.use(favicon(resolve(__dirname, &#39;./public&#39;, &#39;favicon.ico&#39;)))

// è¿”å›ç¾åŒ–json
app.use(json())

// koa-logger
app.use(logger())

// èµ„æºæ–‡ä»¶
app.use(require(&#39;koa-static&#39;)(resolve(__dirname, &#39;./public&#39;)))

// æ¨¡æ¿å¼•æ“
app.use(views(resolve(__dirname, &#39;./views&#39;), { map: { html: &#39;nunjucks&#39; } }))

// sqlç‰¹æ®Šå­—ç¬¦å¤„ç†
const toEscapeString = val =&amp;gt; {
  return mysql.escape(val)
}
const toEscapeObject = dat =&amp;gt; {
  for (let key in dat) {
    typeof dat[key] === &#39;string&#39; &amp;amp;&amp;amp; (dat[key] = toEscapeString(dat[key]))
    typeof dat[key] === &#39;object&#39; &amp;amp;&amp;amp; toEscapeObject(dat[key])
  }
  return dat
}

// åŠ å…¥cookie.getã€setåŠè‡ªå®šä¹‰è¿”å›æ ¼å¼
app.use(async (ctx, next) =&amp;gt; {
  ctx.cookie = {
    set: (k, v, opt) =&amp;gt; {
      opt = Object.assign({}, conf.cookieOptions, opt)
      return ctx.cookies.set(k, v, opt)
    },
    get: (k, opt) =&amp;gt; {
      opt = Object.assign({}, conf.cookieOptions, opt)
      return ctx.cookies.get(k, opt)
    }
  }

  let msg = {
    0: &#39;å¤±è´¥&#39;,
    1: &#39;éªŒè¯ç é”™è¯¯&#39;,
    200: &#39;æˆåŠŸ&#39;,
    400: &#39;è¯·æ±‚å‡ºé”™&#39;,
    401: &#39;æœªæˆæƒçš„è¯·æ±‚&#39;,
    403: &#39;ç¦æ­¢ï¼šç¦æ­¢æ‰§è¡Œè®¿é—®&#39;,
    404: &#39;æ‰¾ä¸åˆ°ï¼šè¯·æ£€æŸ¥URLä»¥ç¡®ä¿è·¯å¾„æ­£ç¡®&#39;,
    500: &#39;æœåŠ¡å™¨çš„å†…éƒ¨é”™è¯¯&#39;,
    503: &#39;æœåŠ¡ä¸å¯ç”¨&#39;
  }
  ctx.json = dat =&amp;gt; {
    !dat.message &amp;amp;&amp;amp; (dat.message = msg[dat.code])
    return dat
  }

  // è‡ªå®šä¹‰è¿”å›æ ¼å¼
  ctx.DATA = {
    data: {},
    message: &#39;&#39;,
    code: 200
  }

  // çŠ¶æ€ç»Ÿä¸€åˆ¤æ–­
  ctx.state = res =&amp;gt; {
    return !(res &amp;amp;&amp;amp; res.length ? res[0] : res)
  }
  await next()
})

// swagger
app.use(
  koaSwagger({
    routePrefix: &#39;/swagger&#39;, // host at /swagger instead of default /docs
    swaggerOptions: {
      url: &#39;/api/swagger.json&#39; // example path to json å…¶å®å°±æ˜¯ä¹‹åswagger-jsdocç”Ÿæˆçš„æ–‡æ¡£åœ°å€
    }
  })
)
// é”™è¯¯æ•è·
app.use((ctx, next) =&amp;gt; {
  return next().catch(err =&amp;gt; {
    console.log(err)
    let msg = err ? err.msg || err.toString() : &#39;unknown error&#39;
    let code = err ? (err.code &amp;gt;= 0 ? err.code : 500) : 500
    ctx.DATA.code = code
    ctx.DATA.message = msg
    ctx.body = ctx.DATA
    ctx.status =
      [200, 400, 401, 403, 404, 500, 503].indexOf(code) &amp;gt;= 0 ? code : 200
  })
})
// routes
app.use(index.routes(), index.allowedMethods())

app.proxy = true

// koa error-handling æœåŠ¡ç«¯ã€httpé”™è¯¯
app.on(&#39;error&#39;, (err, ctx) =&amp;gt; {
  console.error(&#39;server error&#39;, err, ctx)
})

module.exports = app
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;controllerå±‚çš„æ¥å£æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const resData = {
    os_type_data,
    ip_data,
    browser_data,
    channel_group_data,
    client_id_group_data,
    sortArrFormat,
    userActions
  }
  // æ­£å¸¸è¿”å›å†™æ³•ï¼Œä¸€ä¸ªä¸ªçš„å®šä¹‰å¾ˆéº»çƒ¦
  // const successData = {
  //   code: 0,
  //   data: resData,
  //   status: &#39;è¯·æ±‚æˆåŠŸ&#39;
  // }
  // ctx.body = successData
  
  // ç›´æ¥æŠŠç»“æœèµ‹å€¼ï¼Œcodeç å’Œmessageä¸ç”¨ç®¡
  ctx.DATA.data = resData
  ctx.body = ctx.json(ctx.DATA)
&lt;/code&gt;&lt;/pre&gt;
">Koaæ¥å£å‚æ•°æ ¡éªŒä¸è¿”å›å€¼ç»Ÿä¸€å¤„ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/node-jie-kou-sheng-cheng-jie-kou-wen-dang"" data-c="
          &lt;p&gt;å…ˆçœ‹ä¸‹æ•ˆæœ&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1642391805862.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¿™é‡Œæˆ‘ç”¨çš„æ˜¯koa2+swagger&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;// koa2-swagger-ui UIè§†å›¾ç»„ä»¶  swagger-jsdoc è¯†åˆ«å†™çš„ /***/ è½¬ json
npm install koa2-swagger-ui swagger-jsdoc --save
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&#34;https://www.npmjs.com/package/koa2-swagger-ui&#34;&gt;koa2-swagger-ui npmåœ°å€&lt;/a&gt; ï¼ˆåˆ›å»ºæ¥å£æ–‡æ¡£ï¼‰&lt;br&gt;
&lt;a href=&#34;https://www.npmjs.com/package/swagger-jsdoc&#34;&gt;swagger-jsdoc npmåœ°å€&lt;/a&gt; ï¼ˆè¿™ä¸ªåº“è¯»å–å¸¦æœ‰jsdocæ³¨é‡Šçš„æºä»£ç ï¼Œå¹¶ç”ŸæˆOpenAPI (Swagger)è§„èŒƒã€‚ï¼‰&lt;br&gt;
&lt;a href=&#34;https://www.jianshu.com/p/5365ef83252a&#34;&gt;OpenAPI è§„èŒƒæ‘˜è¦&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;p&gt;router.js&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const router = require(&#39;koa-router&#39;)() //å¼•å…¥è·¯ç”±å‡½æ•°
const swaggerJSDoc = require(&#39;swagger-jsdoc&#39;)
const path = require(&#39;path&#39;)
const swaggerDefinition = {
  openapi: &#39;3.0.1&#39;,
    info: {
        title: &#39;blogé¡¹ç›®è®¿é—®åœ°å€&#39;,
        version: &#39;1.0.0&#39;,
        description: &#39;API&#39;,
    },
    basePath: &#39;/&#39;, // Base path (optional)
    tags: [
      {
        name: &#39;manage&#39;,
        description: &#39;ç®¡ç†ç³»ç»Ÿ&#39;
      },
      {
        name: &#39;client&#39;,
        description: &#39;æ—¥å¿—ä¸ŠæŠ¥&#39;
      }
    ],
    schemes: [&#39;http&#39;, &#39;https&#39;],
    securityDefinitions: {
    server_auth: {
      type: &#39;oauth2&#39;,
      description: &#39;ç™»å½•è´¦å·å¯†ç é‰´æƒ&#39;,
      tokenUrl: &#39;&#39;,
      flow: &#39;password&#39;,
      scopes: {
        token: &#39;modify pets in your account&#39;
      }
    },
    token: {
      type: &#39;apiKey&#39;,
      name: &#39;token&#39;,
      in: &#39;header&#39;
    }
  }
};
const options = {
    swaggerDefinition,
    apis: [path.join(__dirname, &#39;./controllers/*.js&#39;)], // åŒ…å«ä¸Šè¿°æ³¨é‡Šçš„æ–‡ä»¶ï¼ˆï¼‰
};
const swaggerSpec = swaggerJSDoc(options)
// é€šè¿‡è·¯ç”±è·å–ç”Ÿæˆçš„æ³¨è§£æ–‡ä»¶
router.get(&#39;/swagger.json&#39;, async function (ctx) {
    ctx.set(&#39;Content-Type&#39;, &#39;application/json&#39;);
    ctx.body = swaggerSpec;
})
module.exports = router
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;app.js å…¥å£æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const swagger = require(&#39;./router&#39;)  // routerä¸­åšäº†swaggeré…ç½®
const { koaSwagger } = require(&#39;koa2-swagger-ui&#39;)

// æ¥å£æ–‡æ¡£é…ç½®
app.use(swagger.routes(), swagger.allowedMethods())
app.use(koaSwagger({
  routePrefix: &#39;/swagger&#39;, // æ¥å£æ–‡æ¡£è®¿é—®åœ°å€
  swaggerOptions: {
    url: &#39;/swagger.json&#39;, // example path to json å…¶å®å°±æ˜¯ä¹‹åswagger-jsdocç”Ÿæˆçš„æ–‡æ¡£åœ°å€
  }
}))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®é¡¹ç›®æ¥å£åœ°å€ + swagger ï¼Œæˆ‘çš„åœ°å€æ˜¯ http://localhost:4002/swagger&lt;/p&gt;
&lt;h3 id=&#34;æ³¨é‡Šç”Ÿæˆæ–‡æ¡£&#34;&gt;æ³¨é‡Šç”Ÿæˆæ–‡æ¡£&lt;/h3&gt;
&lt;p&gt;åœ¨controllerå±‚æ–‡ä»¶æ¯ä¸ªæ¥å£ä¸Šå†™æ³¨é‡Šï¼Œæ³¨é‡Šæ˜¯ä»¥@swaggerå¼€å¤´çš„ï¼Œswagger-jsdoc ä¼šè¯†åˆ«@swaggerï¼Œç„¶åè§£æä¸‹é¢çš„æ³¨é‡Šï¼Œè§£æå®Œç»™koa2-swagger-uiæ˜¾ç¤ºæˆé¡µé¢ï¼Œæ€»çš„æµç¨‹å°±æ˜¯è¿™æ ·ã€‚&lt;br&gt;
getæ–¹å¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// è·å–åšå®¢åˆ—è¡¨
/**
 * @swagger
 * /api/blog/list:
 *   get:
 *     summary: è·å–åšå®¢åˆ—è¡¨
 *     description: è·å–åšå®¢åˆ—è¡¨
 *     tags:
 *       - blogs
 *     parameters:
 *       - name: author
 *         in: query
 *         required: false
 *         description: ä½œè€…
 *         type: string
 *       - name: keyword
 *         in: query
 *         required: false
 *         description: æœç´¢å…³é”®å­—
 *         type: string
 *     responses:
 *       200:
 *         description: æˆåŠŸè·å–
 */
router.get(&#39;/list&#39;, async (ctx, next) =&amp;gt; {
  const query = ctx.query
  let author = query.author || &#39;&#39;
  const keyword = query.keyword || &#39;&#39;

  const listData = await getList(author, keyword)
  ctx.body = new SuccessModel(listData)
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;postæ–¹å¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/**
 * @swagger
 * definitions:
 *  loginparam:
 *    properties:
 *      username:
 *        type: &amp;quot;string&amp;quot;
 *        default: &amp;quot;shangsan&amp;quot;
 *        description: ç”¨æˆ·å
 *      password:
 *        type: &amp;quot;string&amp;quot;
 *        default: &amp;quot;123&amp;quot;
 *        description: å¯†ç 
 */

/**
 * @swagger
 * components:
 *   schemas:
 *     ProjectDetail:
 *       type: object
 *       properties:
 *         id:
 *           type: integer
 *           format: int64
 *         petId:
 *           type: integer
 *           format: int64
 *         quantity:
 *           type: integer
 *           format: int32
 *         shipDate:
 *           type: string
 *           format: date-time
 */

/**
 * @swagger
 * /api/user/login:
 *   post:
 *     summary: ç™»å½•
 *     description: ç™»å½•
 *     tags:
 *       - user
 *     consumes:
 *      - application/json
 *      - application/xml
 *     produces:
 *      - application/json
 *      - application/xml
 *     parameters:
 *       - name: body
 *         in: body
 *         schema:
 *          $ref: &#39;#/definitions/loginparam&#39; ï¼ˆè¯·æ±‚å‚æ•°è¿™é‡Œå•ç‹¬æŠ½å‡ºï¼Œåœ¨ä¸Šé¢å®šä¹‰ï¼‰
 *     responses:
 *       200:
 *         description: å‘å¸ƒæˆåŠŸ
 *          content:
 *           application/json:
 *             schema:
 *               $ref: &#39;#/components/schemas/ProjectDetail&#39;ï¼ˆè¿”å›å‚æ•°ä¹Ÿæ˜¯å•ç‹¬æŠ½å‡ºå®šä¹‰ï¼Œè¿™é‡Œæ˜¯éšä¾¿ä¸¾ä¸ªä¾‹å­ï¼‰
 *       402:
 *          description: ä¿¡æ¯å¡«å†™ä¸å…¨
 *       403:
 *          description: å‚æ•°ç±»å‹é”™è¯¯
 */

router.post(&#39;/login&#39;, async (ctx, next) =&amp;gt; {
    // ä¸šåŠ¡é€»è¾‘
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿”å›ç¤ºä¾‹&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1642412213197.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åŸºæœ¬çš„æ¥å£æ–‡æ¡£å°±ç”Ÿæˆå•¦ï¼Œå¿«è¯•ä¸€ä¸‹å§ï½&lt;/p&gt;
">nodeæ¥å£ç”Ÿæˆæ¥å£æ–‡æ¡£</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/cao-zuo-fu"" data-c="
          &lt;h3 id=&#34;å¯é€‰é“¾æ“ä½œç¬¦&#34;&gt;å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰&lt;/h3&gt;
&lt;p&gt;ä»¥å‰å†™ä»£ç åšåˆ¤æ–­ä¸€èˆ¬è¿™æ ·å†™æˆ–è€…ä¸‰ç›®è¿ç®—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;let nestedProp = obj.first &amp;amp;&amp;amp; obj.first.second;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç°åœ¨åªéœ€è¦è¿™æ ·å†™ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const adventurer = {
  name: &#39;Alice&#39;,
  cat: {
    name: &#39;Dinah&#39;
  }
};

const dogName = adventurer.dog?.name;
console.log(dogName);
// expected output: undefined

console.log(adventurer.someNonExistentMethod?.());
// expected output: undefined
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯é€‰é“¾æ“ä½œç¬¦( ?. )å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚?. æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº . é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸ºç©º(nullish ) (null æˆ–è€… undefined) çš„æƒ…å†µä¸‹ä¸ä¼šå¼•èµ·é”™è¯¯ï¼Œè¯¥è¡¨è¾¾å¼çŸ­è·¯è¿”å›å€¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç©ºå€¼åˆå¹¶æ“ä½œç¬¦&#34;&gt;ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;åªæœ‰å½“å·¦ä¾§ä¸ºnullå’Œundefinedæ—¶ï¼Œæ‰ä¼šè¿”å›å³ä¾§çš„æ•°&lt;br&gt;
ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º null æˆ–è€… undefined æ—¶ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚&lt;br&gt;
ä¸é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ||ï¼‰ä¸åŒï¼Œé€»è¾‘æˆ–æ“ä½œç¬¦ä¼šåœ¨å·¦ä¾§æ“ä½œæ•°ä¸ºå‡å€¼æ—¶è¿”å›å³ä¾§æ“ä½œæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½¿ç”¨ ?? æ¥ä¸ºæŸäº›å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¯èƒ½ä¼šé‡åˆ°æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚æ¯”å¦‚ä¸ºå‡å€¼ï¼ˆä¾‹å¦‚ï¼Œ&#39;&#39; æˆ– 0ï¼‰æ—¶ã€‚è§ä¸‹é¢çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const foo = null ?? &#39;default string&#39;;
console.log(foo);
// expected output: &amp;quot;default string&amp;quot;

const baz = 0 ?? 42;
console.log(baz);
// expected output: 0
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;const nullValue = null;
const emptyText = &amp;quot;&amp;quot;; // ç©ºå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªå‡å€¼ï¼ŒBoolean(&amp;quot;&amp;quot;) === false
const someNumber = 42;

const valA = nullValue ?? &amp;quot;valA çš„é»˜è®¤å€¼&amp;quot;;
const valB = emptyText ?? &amp;quot;valB çš„é»˜è®¤å€¼&amp;quot;;
const valC = someNumber ?? 0;

console.log(valA); // &amp;quot;valA çš„é»˜è®¤å€¼&amp;quot;
console.log(valB); // &amp;quot;&amp;quot;ï¼ˆç©ºå­—ç¬¦ä¸²è™½ç„¶æ˜¯å‡å€¼ï¼Œä½†ä¸æ˜¯ null æˆ–è€… undefinedï¼‰
console.log(valC); // 42
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¸ç»“åˆä½¿ç”¨&#34;&gt;?.ä¸??ç»“åˆä½¿ç”¨&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// ç©ºå€¼åˆå¹¶æ“ä½œç¬¦å¯ä»¥åœ¨ä½¿ç”¨å¯é€‰é“¾æ—¶è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼š

let customer = {
name: &amp;quot;Carl&amp;quot;,
details: { age: 82 }
};

let customerCity = customer?.city ?? &amp;quot;æš—ä¹‹åŸ&amp;quot;;
console.log(customerCity);  // â€œæš—ä¹‹åŸâ€
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å·¥ç¨‹ä¸­æ€æ ·ä½¿ç”¨&#34;&gt;å·¥ç¨‹ä¸­æ€æ ·ä½¿ç”¨&lt;/h4&gt;
&lt;p&gt;babel7ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹2ä¸ªdevDependenciesä¾èµ–ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@babel/plugin-proposal-optional-chaining // å¯é€‰é“¾
@babel/plugin-proposal-nullish-coalescing-operator // åŒé—®å·
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨.babelrcæˆ–è€…babel.config.jsä¸­è¿™åŠ å…¥2ä¸ªæ’ä»¶(pluginså±æ€§æ”¾åœ¨JSONé¡¶å±‚)ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
  &amp;quot;plugins&amp;quot;: [
      &amp;quot;@babel/plugin-proposal-nullish-coalescing-operator&amp;quot;,
      &amp;quot;@babel/plugin-proposal-optional-chaining&amp;quot;
  ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¿ç®—&#34;&gt;!!è¿ç®—&lt;/h3&gt;
&lt;p&gt;ä¸¤ä¸ªå¹å·è¡¨ç¤ºæŠŠç›®æ ‡å€¼è½¬åŒ–ä¸ºå¸ƒå°”å€¼ï¼Œç›¸å½“äºä½¿ç”¨Boolean()æ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;!!&amp;quot;123&amp;quot;  ç›¸å½“äºæ˜¯   Boolean(&amp;quot;123&amp;quot;)    //ç»“æœä¸ºtrue
!!{a:1}  ç›¸å½“äºæ˜¯    Boolean({a:1})    //ç»“æœä¸ºtrue
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ifè¯­å¥ä¸­,è¡¨è¾¾å¼çš„ç»“æœå°†è¢«å¼ºåˆ¶ä¸ºå¸ƒå°”å€¼ï¼Œé€šè¿‡åŒé‡å¦å®šï¼ˆ!!ï¼‰æˆ–å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”å€¼Booleanæ˜¯ä¸å¿…è¦çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;~~è¿ç®—&#34;&gt;~~è¿ç®—&lt;/h3&gt;
&lt;p&gt;~~ ä¼šæŠŠåé¢çš„è¡¨è¾¾å¼å¼ºè¡Œå˜æˆint&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var n = ~~5; // 5
var m = ~~-8; // -8
var j = ~~true; // å°†trueè½¬æ¢ä¸ºintï¼Œä¹Ÿå°±æ˜¯1ï¼Œç„¶åå†è®¡ç®—ã€‚ç»“æœä¸º1
&lt;/code&gt;&lt;/pre&gt;
">jsä¸­çš„ä¸€äº›æ“ä½œç¬¦ ?./??/!!/~~</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/mysql-cha-xun-yu-ju"" data-c="
          &lt;p&gt;&lt;a href=&#34;https://www.mysqlzh.com/doc/124.html&#34;&gt;mysqlä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;1æŸ¥è¯¢è®°å½•&#34;&gt;1.æŸ¥è¯¢è®°å½•&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;select*from è¡¨å [where æ¡ä»¶];

eg:select*from students;//æŸ¥è¯¢ students è¡¨ä¸­æ‰€æœ‰è®°å½•ï¼Œæ‰€æœ‰å­—æ®µçš„å€¼éƒ½æ˜¾ç¤ºå‡ºæ¥

select field1,field2,...fieldn... from è¡¨å [where æ¡ä»¶];

eg:select id,name,age from students;//æŸ¥è¯¢ students è¡¨ä¸­æ‰€æœ‰è®°å½•, åªæ˜¾ç¤ºå‡º idï¼Œnameï¼Œageä¸‰ä¸ªå­—æ®µçš„å€¼
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1.â€œ*â€è¡¨ç¤ºå°†æ‰€æœ‰çš„å­—æ®µéƒ½æ˜¾ç¤ºå‡ºæ¥&lt;/p&gt;
&lt;p&gt;2.ç”¨é€—å·åˆ†å‰²ï¼Œåˆ—å‡ºéœ€è¦æ˜¾ç¤ºçš„å­—æ®µ&lt;/p&gt;
&lt;h3 id=&#34;2æŸ¥è¯¢ä¸é‡å¤çš„è®°å½•&#34;&gt;2.æŸ¥è¯¢ä¸é‡å¤çš„è®°å½•&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;select distinct å­—æ®µ from è¡¨å;

eg: select distinct name from students;//æŸ¥è¯¢åå­—ä¸ç›¸åŒçš„å­¦ç”Ÿ;
ã€€ã€€select distinct name,age from students;//æŸ¥è¯¢åå­—å’Œå¹´é¾„åŒæ—¶ä¸åŒçš„å­¦ç”Ÿ
ã€€ã€€
ã€€ã€€1.distinctå¿…é¡»æ”¾åœ¨æœ€å¼€å¤´
ã€€ã€€2.distinctåªèƒ½ä½¿ç”¨éœ€è¦å»é‡çš„å­—æ®µè¿›è¡Œæ“ä½œã€‚  ----ä¹Ÿå°±æ˜¯è¯´æˆ‘sidtinctäº†name,ageä¸¤ä¸ªå­—æ®µï¼Œæˆ‘åé¢æƒ³æ ¹æ®idè¿›è¡Œæ’åºï¼Œæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸ºåªèƒ½name,ageä¸¤ä¸ªå­—æ®µè¿›è¡Œæ“ä½œ.
ã€€ã€€3.distinctå»é‡å¤šä¸ªå­—æ®µæ—¶ï¼Œå«ä¹‰æ˜¯ï¼šå‡ ä¸ªå­—æ®µ åŒæ—¶é‡å¤ æ—¶æ‰ä¼šè¢« è¿‡æ»¤ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3æ¡ä»¶æŸ¥è¯¢&#34;&gt;3.æ¡ä»¶æŸ¥è¯¢&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;select å­—æ®µ from è¡¨å where æ¡ä»¶;

eg:select * from student where sex=&#39;ç”·&#39; and age&amp;gt;20; //æŸ¥è¯¢æ€§åˆ«æ˜¯ç”·ï¼Œå¹¶ä¸”å¹´é¾„å¤§äº20å²çš„äººã€‚

whereåé¢çš„æ¡ä»¶å¯ä»¥ç”¨&amp;gt;ã€&amp;lt;ã€&amp;gt;=ã€&amp;lt;=ã€!=ç­‰å¤šç§æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå¤šä¸ªæ¡ä»¶ä¹‹é—´å¯ä»¥ç”¨orã€andç­‰é€»è¾‘è¿ç®—ç¬¦
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4æ’åºå’Œé™åˆ¶&#34;&gt;4.æ’åºå’Œé™åˆ¶&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;æ’åº
select * from è¡¨å [where æ¡ä»¶] [ order by  field1 [desc/asc],field2 [desc/asc]... ];

eg:select *from student order by age desc;//æŸ¥è¯¢å­¦ç”Ÿè¡¨å¹¶æŒ‰å¹´é¾„é™åºæ’åˆ—ã€‚

1.desc é™åºæ’åˆ—ï¼Œasc å‡åºæ’åˆ—
2.order by åé¢å¯ä»¥è·Ÿå¤šä¸ªä¸åŒçš„æ’åºå­—æ®µï¼Œæ¯ä¸ªæ’åºå­—æ®µéƒ½å¯ä»¥æœ‰ä¸åŒçš„æ’åºé¡ºåºã€‚
3.å¦‚æœæ’åºå­—æ®µçš„å€¼ä¸€æ ·ï¼Œåˆ™ç›¸åŒçš„å­—æ®µæŒ‰ç…§ç¬¬äºŒä¸ªæ’åºå­—æ®µè¿›è¡Œæ’åºã€‚
4.å¦‚æœåªæœ‰ä¸€ä¸ªæ’åºå­—æ®µï¼Œåˆ™å­—æ®µç›¸åŒçš„è®°å½•å°†ä¼šæ— åºæ’åˆ—ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;é™åˆ¶
select ... [limit èµ·å§‹åç§»é‡,è¡Œæ•°];

eg:select * from student order by mark desc limit 5;//å–å‡ºæˆç»©å‰äº”åçš„å­¦ç”Ÿ(çœç•¥äº†èµ·å§‹åç§»é‡ï¼Œæ­¤æ—¶é»˜è®¤ä¸º0)

1.é»˜è®¤æƒ…å†µä¸‹ï¼Œèµ·å§‹åç§»é‡ä¸º0ï¼Œåªå†™è®°å½•è¡Œæ•°å°±å¯ä»¥ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5èšåˆ&#34;&gt;5.èšåˆ&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;select å­—æ®µ fun_name from è¡¨å [where æ¡ä»¶] [group by field1,field2...] [with rollup] [having æ¡ä»¶];

eg:

1.fun_name è¡¨ç¤ºè¦åšçš„èšåˆæ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´èšåˆå‡½æ•°ï¼Œå¸¸ç”¨çš„æœ‰ : sum(æ±‚å’Œ)ã€count(*)(è®°å½•æ•°)ã€max(æœ€å¤§å€¼)ã€min(æœ€å°å€¼)ã€‚
2.group byå…³é”®å­— è¡¨ç¤ºè¦è¿›è¡Œåˆ†ç±»èšåˆçš„å­—æ®µã€‚æ¯”å¦‚è¦æŒ‰ç…§éƒ¨é—¨åˆ†ç±»ç»Ÿè®¡å‘˜å·¥æ•°é‡ï¼Œéƒ¨é—¨å°±åº”è¯¥å†™åœ¨group by åé¢ã€‚
3.with rollup æ˜¯å¯é€‰è¯­æ³•ï¼Œè¡¨æ˜æ˜¯å¦å¯¹åˆ†ç±»èšåˆåçš„ç»“æœè¿›è¡Œå†æ±‡æ€»
4.having å…³é”®å­—è¡¨ç¤ºå¯¹åˆ†ç±»åçš„ç»“æœå†è¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¬å¸å‘˜å·¥è¡¨Aå¦‚ä¸‹ (ç¼–å·ï¼Œå§“ï¼Œåï¼Œè–ªæ°´) ï¼š&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1642143111386.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡æ€»äººæ•°
select count(1) from A;
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1642143169839.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡å„ä¸ªå§“çš„äººæ•°
select xing,count(1) from A group by xing;
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1642143194061.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code&gt;æ—¢è¦ç»Ÿè®¡å„ä¸ªå§“çš„äººæ•°ï¼Œåˆç»Ÿè®¡æ€»äººæ•°
select xing,count(1) from A group by xing with rollup;
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1642143250933.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡äººæ•°å¤§4çš„å§“
select xing,count(1) from A group by xing having count(1)&amp;gt;4;
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1642143298558.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡è–ªæ°´æ€»é¢ï¼Œæœ€ä½è–ªèµ„ï¼Œæœ€é«˜è–ªèµ„
select count(1),min(salary),max(salary) from A;
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://weidadeda.github.io/post-images/1642143319528.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;6ä¸ºè¡¨å’Œå­—æ®µå–åˆ«å&#34;&gt;6.ä¸ºè¡¨å’Œå­—æ®µå–åˆ«å&lt;/h3&gt;
&lt;p&gt;åœ¨æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¯ä»¥ä¸ºè¡¨å’Œå­—æ®µå–åˆ«åï¼Œè¿™ä¸ªåˆ«åå¯ä»¥ä»£æ›¿æŒ‡å®šçš„è¡¨å’Œå­—æ®µã€‚å¦‚æœè¡¨åå¾ˆé•¿ï¼Œç”¨èµ·æ¥ä¸æ–¹ä¾¿ï¼Œåˆ™å¯ä»¥ç”¨ä¸€ä¸ªåˆ«åæ¥ä»£æ›¿ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š(aså…³é”®å­—å¯çœç•¥)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;select * from è¡¨å [as] åˆ«å  ï¼ˆä¸ºè¡¨å–åˆ«åï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;SELECT å­—æ®µå [AS] åˆ«å[,å­—æ®µå [AS] åˆ«å,â€¦â€¦] FROM è¡¨å; (ä¸ºå­—æ®µå–åˆ«å)
&lt;/code&gt;&lt;/pre&gt;
">mysqlæŸ¥è¯¢è¯­å¥</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/docker-de-an-zhuang-yu-shi-yong"" data-c="
          &lt;p&gt;&lt;a href=&#34;http://www.dockerinfo.net/document&#34;&gt;dockerä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘Dockerçªç„¶ç«å¾—ä¸å¾—äº†ï¼Œåˆ°å¤„éƒ½æ˜¯è°ˆè®ºDockerçš„å£°éŸ³ï¼Œç›¸ä¿¡å¤§å®¶å’Œå°ç¼–ä¸€æ ·çš„å¿ƒæƒ…ï¼Œçœ‹è¿™ä¸ªä¸œè¥¿æœ‰ç‚¹é«˜å¤§ä¸Šï¼Œä½†å°è¯•å»é˜…è¯»Dockeræ–‡ç« æ—¶åˆå‘ç°æ¦‚å¿µå¾ˆæ¨¡ç³Šã€ä¸æ¥åœ°æ°”ã€éš¾ä»¥ç†è§£ã€æ— ä»ä¸‹æ‰‹â€¦äºæ˜¯ä¸‰å¤©æ‰“é±¼ä¸¤å¤©æ™’ç½‘ï¼Œæœ€ç»ˆä¸äº†äº†ä¹‹ï¼Œåæ­£å…¬å¸ä¹Ÿæ²¡è¦æ±‚ç”¨è¿™ç©æ„å„¿ï¼Œä¸è´¹åŠ²äº†â€¦ è¿™ä¸ï¼Œå½“å‰å‡ å¤©é¡¹ç›®è¦æ±‚å¿«é€Ÿä¸Šçº¿å¹¶ä¸”éƒ¨ç½²å¤šå°æœåŠ¡å™¨ç¯å¢ƒæ—¶ï¼Œå°ç¼–ä¸€å°ä¸€å°æœåŠ¡å™¨çš„yum installã€vimã€restartâ€¦æƒ³å±çš„å¿ƒéƒ½æœ‰ï¼Œé‚£æ—¶å°ç¼–å¿ƒé‡Œæƒ³è¦æ˜¯æœ‰ä¸€ä¸ªè¿™ä¹ˆä¸€ä¸ªUç›˜ï¼Œèƒ½æŠŠæ•´ä¸ªç¯å¢ƒä¸€å°ä¸€å°çš„Ctrl+Vè¿‡å»ï¼Œé‚£è¯¥å¤šå¥½å•Šã€‚é‚£æ—¶è„‘å­ä¸€ä¸‹å­é—ªè¿‡ä¸€ä¸ªå¿µå¤´ï¼šDockerä¸å°±æ˜¯æˆ‘æƒ³æ‹¥æœ‰çš„é‚£ä¸ªUç›˜å—ã€‚&lt;/p&gt;
&lt;p&gt;æ€€ç€è¿™æ ·çš„ä¸€ä¸ªå¿µå¤´ï¼Œå°ç¼–èŠ±äº†ä¸€äº›æ—¶é—´å»æŸ¥é˜…Dockerç›¸å…³çš„ä¹¦ç±ã€çœ‹è§†é¢‘ã€é€›è®ºå›ï¼Œåˆšå¼€å§‹å­¦ä¹ æ—¶éå¸¸éš¾å—ï¼Œæä¸æ‡‚ä»€ä¹ˆæ˜¯å®¹å™¨ä»€ä¹ˆæ˜¯é•œåƒä»€ä¹ˆæ˜¯é²¸é±¼èˆ¹â€¦è€Œæ¶‰åŠåˆ°ä¸€äº›åŸç†åº•å±‚çš„çŸ¥è¯†ï¼Œä¹¦ç±é‡Œçš„é‚£äº›æ¦‚å¿µæ¯”ä»£ç éƒ½èƒ½æ‡‚ï¼Œå°ç¼–ç¡¬å•ƒäº†ä¸€æ®µæ—¶é—´å¹¶ä¸”å®æ“äº†å‡ æ¬¡ä¹‹åï¼Œå†å›è¿‡å¤´æ¥ï¼Œæ‰è±ç„¶å¼€æœ—ã€‚å¿µåŠè®¸å¤šæƒ³è¦å­¦Dockerå´è‹¦äºéš¾ä»¥å…¥é—¨çš„å¼€å‘è€…ä»¬ï¼Œæ­£åœ¨å­¦ä¹ å´å¾ˆæŒ£æ‰çš„åˆå­¦è€…ä»¬ï¼Œæ•…è€ŒæŠŠå°ç¼–è¿™æ®µæ—¶é—´çš„å­¦ä¹ æˆæœï¼Œä»¥ä¸€ä¸ªåˆå­¦è€…çš„è§’åº¦ï¼Œéµå¾ªå¾ªåºæ¸è¿›çš„åŸåˆ™ï¼Œç¼–æˆä¸€ä»½é€šä¿—æ˜“æ‡‚çš„æ–‡ç« ï¼Œå¸Œæœ›èƒ½ä»¥æ­¤å¼•å¯¼å…¥é—¨ï¼Œæ—©æ—¥æˆDockerå¤§ç¥ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ç« æçº²ï¼š&lt;/p&gt;
&lt;p&gt;1ã€ä»€ä¹ˆæ˜¯Docker&lt;/p&gt;
&lt;p&gt;2ã€Dockerå¯¹æˆ‘ä»¬æœ‰ä»€ä¹ˆç”¨å¤„&lt;/p&gt;
&lt;p&gt;3ã€Dockerå®‰è£…å’Œä½¿ç”¨&lt;/p&gt;
&lt;p&gt;4ã€å½©è›‹&lt;/p&gt;
&lt;p&gt;1ã€ä»€ä¹ˆæ˜¯Docker&lt;br&gt;
ä»€ä¹ˆæ˜¯dockerï¼Ÿææ€•90%çš„äººè„‘å­ä¸€é—ªè€Œè¿‡çš„éƒ½æ˜¯é‚£å¼ å›¾ï¼šä¸€æ¡é²¸é±¼èƒŒä¸Šæ‰›ç€ä¸€å †ç®±å­ï¼Œå›¾ç‰‡ä¸‹æ–¹æ˜¯å¤§å¤§çš„â€œdockerâ€ã€‚&lt;/p&gt;
&lt;p&gt;dockeræ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ˜¯é²¸é±¼ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯ä¸€å †ç®±å­ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ–è€…è¯´æ˜¯è½½ç€ç®±å­çš„é²¸é±¼ï¼Ÿ&lt;br&gt;
è¿™é‡Œå°ç¼–ä¸åšè§£é‡Šï¼Œå…ˆå¼•ç”¨ä¸€ä¸‹å®˜æ–¹çš„è§£é‡Šï¼š&lt;/p&gt;
&lt;p&gt;Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚&lt;/p&gt;
&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œdockeræ˜¯ä¸€ä¸ªå®¹å™¨å¼•æ“ï¼Œå®¹å™¨ä¸”ä¸è¯´ï¼Œä»€ä¹ˆæ˜¯å¼•æ“ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼š&lt;/p&gt;
&lt;p&gt;æ±½è½¦çš„å¼•æ“æ˜¯å‘åŠ¨æœºï¼Œæœ‰äº†å‘åŠ¨èµ·ï¼Œæ±½è½¦æ‰èƒ½è·‘èµ·æ¥&lt;/p&gt;
&lt;p&gt;æ¸¸æˆéœ€è¦æ¸¸æˆå¼•æ“ï¼ˆå¦‚Unity3D..ï¼‰ï¼ŒåŸºäºå¼•æ“çš„å¼€å‘ï¼Œèƒ½è®©æ¸¸æˆåŠ¨èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚å®˜è¨€ï¼Œdockerä¹Ÿæ˜¯ä¸€ç§å¼•æ“ï¼ŒåŸºäºè¿™ä¸ªå¼•æ“ï¼Œå¼€å‘è€…èƒ½è®©ä»–ä»¬å¼€å‘çš„åº”ç”¨å¤„äºä¸€ä¸ªæœ‰éš”ç¦»æ€§çš„ã€å¯ç§»æ¤æ€§çš„å®¹å™¨ä¸­ï¼Œä»¥ä¾¿äºå‘å¸ƒäºå„ç§æœºå™¨ä¸­è€Œæ— éœ€è€ƒè™‘å…¼å®¹æ€§é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤å°±ä¸éš¾è§£é‡Šï¼Œä¸ºä»€ä¹ˆdockerçš„logoæ˜¯ä¸€æ¡è£…ç€ä¸€å †ç®±å­çš„é²¸é±¼.&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºï¼šdockeræ‰®æ¼”çš„æ˜¯å›¾ä¸­é²¸é±¼çš„è§’è‰²ï¼Œè€Œé²¸é±¼ä¹‹ä¸Šçš„é›†è£…ç®±å°±æ˜¯ä¸€ä¸ªä¸ªå®¹å™¨ï¼Œå®¹å™¨ä¸­æ˜¯æˆ‘ä»¬å¼€å‘çš„åº”ç”¨ç¨‹åºï¼ˆä¸ä»…é™äºwebåº”ç”¨ï¼‰ï¼Œæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ç¯å¢ƒï¼ˆç¯å¢ƒè®¾ç½®ã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿâ€¦ï¼‰ï¼Œäº’ä¸å¹²æ‰°ã€‚è€Œæ¯ä¸ªç®±å­ï¼Œåˆå¯ä»¥æ‰“åŒ…æˆä¸€ä¸ªæ–°çš„é•œåƒï¼Œæ”¾åˆ°å…¶å®ƒæœåŠ¡å™¨çš„dockerç¯å¢ƒä¸­ç›´æ¥è¿è¡Œï¼Œä¸å†éœ€è¦é‡å¤å®‰è£…ç¨‹åºè¿è¡Œç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„è§£é‡Šæ’å…¥äº†ä¸¤ä¸ªç”Ÿç–çš„æ¦‚å¿µï¼š&lt;/p&gt;
&lt;p&gt;1ã€é•œåƒ&lt;/p&gt;
&lt;p&gt;2ã€å®¹å™¨&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆè®²å®¹å™¨&lt;/p&gt;
&lt;p&gt;å®¹å™¨ï¼Œé¡¾åæ€ä¹‰ï¼šå°±æ˜¯è£…ä¸œè¥¿çš„å™¨çš¿ï¼Œåœ¨dockerä¸­ï¼Œå®¹å™¨å°±æ˜¯è£…è½½æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„å™¨çš¿ï¼Œåœ¨dockerçš„logoä¸­ï¼Œå®¹å™¨å°±æ˜¯ä¸€ä¸ªä¸ªç®±å­ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œè¿è¡ŒJavaWebåº”ç”¨ç¨‹åºéœ€è¦æœ‰Tomcatï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦åˆ›å»ºä¸€ä¸ªTomcatçš„å®¹å™¨ï¼Œæ‰èƒ½æŠŠæˆ‘ä»¬çš„ç¨‹åºæ”¾è¿›å»è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œå®¹å™¨å“ªé‡Œæ¥çš„å‘¢&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼Œç»™ç”µè„‘å®‰è£…Windowsç³»ç»Ÿéœ€è¦æœ‰Windowsé•œåƒï¼Œå› æ­¤ç»™dockerå®‰è£…å®¹å™¨ä¹Ÿæ˜¯éœ€è¦é•œåƒçš„ï¼Œæ‰€ä»¥ï¼Œé€šä¿—ä¸€ç‚¹ï¼Œé•œåƒå°±ç±»ä¼¼äºæˆ‘ä»¬æ—¥å¸¸ä¸­çš„å®‰è£…è½¯ä»¶ï¼Œç”šè‡³è¯´æ˜¯æ“ä½œç³»ç»Ÿé•œåƒæ›´ä¸ºå½¢è±¡ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å®¹å™¨å’Œé•œåƒæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šè¯´æ˜¯ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼Œæ²¡é”™ï¼Œä½†æ˜¯è¿™æ ·çš„æ¯”å–»æ²¡ä»€ä¹ˆå®é™…åµç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“:è¦è¿è¡Œä¸€ä¸ªwebç¨‹åºï¼Œéœ€è¦æœ‰ä¸ªTomcatç¯å¢ƒï¼Œéœ€è¦Tomcatç¯å¢ƒï¼Œé‚£å°±ä¸‹è½½ä¸€ä¸ªTomcatè§£å‹å‡ºæ¥ï¼Œç„¶åæŠŠwebç¨‹åºæ”¾å…¥Tomcatçš„webappsä¸­å¯åŠ¨å³å¯ï¼Œ&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåœ¨dockerä¸­è¦è¿è¡Œä¸€ä¸ªwebç¨‹åºï¼Œå°±éœ€è¦æœ‰Tomcatå®¹å™¨ï¼Œéœ€è¦Tomcatå®¹å™¨ï¼Œå°±å¾—å»ä¸‹è½½Tomcaté•œåƒï¼ˆä¹Ÿå¯ä»¥è‡ªå·±æ„å»ºï¼‰ï¼ŒæŠŠé•œåƒpullä¸‹æ¥ä¹‹åï¼Œè¿è¡Œèµ·æ¥ï¼Œå°±æ˜¯ä¸€ä¸ªTomcatå®¹å™¨ï¼Œæ­¤æ—¶æŠŠwebç¨‹åºè‡³äºTomcatæŒ‚è½½çš„æ•°æ®ç›®å½•webappsä¸­æ—¢å¯ä»¥è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥dockerä¸­ï¼Œå®¹å™¨å’Œé•œåƒçš„å…³ç³»æ›´åƒæ˜¯ä¸€ç§åŠ¨é™çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­˜äºä»“åº“ä¸­çš„é•œåƒæ˜¯ä¸€ä¸ªæ­»çš„è½¯ä»¶ï¼Œè€Œè¿è¡Œèµ·æ¥çš„å®¹å™¨åˆ™åƒæ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼ˆè¿›ç¨‹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;2ã€Dockeræœ‰ä»€ä¹ˆç”¨&lt;br&gt;
å¯¹dockeræœ‰äº†æ¸…æ™°çš„äº†è§£ä¹‹åï¼Œæˆ‘ä»¬å¿ƒé‡Œå¯èƒ½åœ¨æƒ³ï¼š è¿™ç©å„¿å¯¹æˆ‘æœ‰ä»€ä¹ˆç”¨ï¼Ÿ æˆ‘åœ¨å“ªé‡Œèƒ½ç”¨å¾—ä¸Šï¼Ÿ æ€ä¹ˆç”¨æ‰å¯¹ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå¼•ç”¨å‡ ä¸ªæ¡ˆä¾‹æ¥è®©å¤§å®¶ä½“ä¼šä½“ä¼šã€‚&lt;/p&gt;
&lt;p&gt;1ã€æ¡ˆä¾‹ä¸€ å‰å‡ å¤©ï¼Œå…¬å¸ä¸€æ‰¹æœåŠ¡å™¨å°±è¦åˆ°æœŸäº†ï¼Œç”±äºæœåŠ¡å™¨æ˜¯15å¹´è´­ä¹°çš„ï¼Œç¡¬ä»¶çš„æ€§èƒ½è¿œæ¯”ç°åœ¨æ–°å‡ºçš„äº‘ä¸»æœºä½ï¼Œå› æ­¤å†³å®šæŠŠæ‰€æœ‰æœåŠ¡å™¨éƒ½æ¢æˆæ–°ä¸€ä»£æœåŠ¡å™¨ï¼Œä½†æ˜¯å°ç¼–æ•´å‡†å¤‡åŠ¨æ‰‹è¿ç§»æœåŠ¡å™¨æ—¶ï¼Œå†…å¿ƒä¸€é˜µé˜µå´©æºƒæ„Ÿæ¶Œä¸Šå¿ƒå¤´ï¼Œä»”ç»†ä¸€ç®—ï¼Œæ¯å°æœåŠ¡å™¨éƒ½è¦åšåŒæ ·çš„äº‹æƒ…ï¼š&lt;/p&gt;
&lt;p&gt;1ã€å®‰è£…jdkã€Tomcatã€nginx 2ã€é…ç½®jdkç¯å¢ƒå˜é‡å’Œç³»ç»Ÿå˜é‡ 3ã€é…ç½®Tomcat 4ã€é…ç½®nginx 5ã€å®‰è£…é¡¹ç›®æ‰€éœ€çš„è§†é¢‘è§£ç ç»„ä»¶ 6ã€å¯¼å…¥é¡¹ç›®æ‰€éœ€çš„ä¸€äº›ç‰¹æ®Šå­—ä½“&lt;/p&gt;
&lt;p&gt;åæ¥å†³å®šç”¨dockeréƒ¨ç½²çš„åŠæ³•ï¼Œåœ¨æ¯å°æœåŠ¡å™¨éƒ½æŠŠdockerå®‰è£…ä¹‹åï¼Œåªéœ€è¦åœ¨å…¶ä¸­ä¸€å°æœåŠ¡å™¨ä¸­æŠŠTomcaté•œåƒä»é•œåƒä»“åº“æ‹‰å–ä¸‹æ¥ï¼ŒæŠŠè¿™äº›é…ç½®éƒ½è®¾ç½®å¥½ï¼Œåšæˆä¸€ä¸ªè‡ªå·±çš„é•œåƒä¸Šä¼ åˆ°é•œåƒä»“åº“ä¸­ï¼Œä¹‹ååœ¨å…¶ä»–å‡ å°æœåŠ¡å™¨éƒ½ä¸‹è½½è‡ªå·±åšçš„é•œåƒï¼Œè¿è¡Œäºdockerä¸­ï¼ŒæŠŠä»£ç ä¸Šä¼ ï¼Œå°±ä¸‡äº‹å¤§å‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;2ã€æ¡ˆä¾‹äºŒ&lt;/p&gt;
&lt;p&gt;å‰ä¸ä¹…çš„åœ£è¯æ´»åŠ¨ä¸­ï¼Œå…¬å¸ä¸´æ—¶çš„æ´»åŠ¨æ–¹æ¡ˆåœ¨ç¨‹åºå‘˜çš„åŠ ç­åŠ ç‚¹ä¸­ç»ˆäºä¸Šçº¿ï¼Œä½†æ˜¯ä¸€ä¸Šçº¿ä¹‹åå‘ç°æ¨å¹¿æµ·æŠ¥ä¸­çš„ä¸­æ–‡åå­—ä¹±ç ï¼Œé¢†å¯¼é—®è´£æµ‹è¯•äººå‘˜æ€ä¹ˆæ²¡åšå¥½æµ‹è¯•ï¼Œæµ‹è¯•å¾ˆå§”å±ˆçš„è¯´æˆ‘å·²ç»æµ‹è¯•æ— æ•°éå¹¶ä¸”æµ‹è¯•æŠ¥å‘Šéƒ½æäº¤äº†ï¼Œè§£å†³äº†æ‰€æœ‰é—®é¢˜æ‰ä¸Šçº¿çš„ï¼›æ²¡åŠæ³•åªèƒ½è®©æœåŠ¡å™¨åŒäº‹æŸ¥çœ‹æ­£å¼æœåŠ¡å™¨ä¸­çš„tomcaté…ç½®ï¼Œå‘ç°åŸæ¥ tomcatç”¨äº†é»˜è®¤ç¼–ç æ–¹å¼ï¼šiso8859-1ï¼Œè€Œæµ‹è¯•ç¯å¢ƒä¸­æ˜¯UTF-8ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œé¡¹ç›®ç»„å†³å®šæŠŠå¼€å‘ç¯å¢ƒè¿ç§»åˆ°dockerä¸­ï¼Œåœ¨æµ‹è¯•ç¯å¢ƒä¸­æµ‹è¯•æ— è¯¯åï¼ŒæŠŠé•œåƒæ‰“åŒ…å‘å¸ƒåˆ°æ­£å¼ç¯å¢ƒä¸­ï¼Œè§£å†³äº†ç¯å¢ƒä¸åŒå¯¼è‡´çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;3ã€dockerçš„å®‰è£…&lt;br&gt;
æ„ŸçŸ¥åˆ°dockerå¯¹æˆ‘ä»¬å¼€å‘è€…çš„å¥½å¤„ä¹‹åï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿè·ƒè·ƒæ¬²è¯•äº†å§ï¼Œä¸‹é¢ å°±Linux centOSï¼ˆç‰ˆæœ¬å¤§äºç­‰äº7.0ï¼‰ç³»ç»Ÿè¿›è¡Œæ¼”ç¤ºdockerçš„å®‰è£…æ­¥éª¤ï¼š&lt;/p&gt;
&lt;p&gt;1ã€åˆ é™¤å¯èƒ½å­˜åœ¨çš„æ—§ç‰ˆæœ¬&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1 sudo yum remove docker
2 docker-client
3 docker-client-latest
4 docker-common
5 docker-latest
6 docker-latest-logrotate
7 docker-logrotate
8 docker-selinux
9 docker-engine-selinux
10 docker-engine
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;2ã€å®‰è£…ä¸€äº›å¿…å¤‡å·¥å…·ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum install -y yum-utils device-mapper-persistent-data lvm2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3ã€æ·»åŠ Dockeræºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum-config-manager
--add-repo
https://download.docker.com/linux/centos/docker-ce.repo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4ã€æ›´æ–°yumç¼“å­˜&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum makecache fast
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5ã€å®‰è£…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum install docker-ce
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;6ã€åˆ›å»ºdockerç”¨æˆ·&lt;/p&gt;
&lt;p&gt;æ¸©é¦¨æç¤ºï¼šä»¥ä¸‹æ“ä½œä¸æ˜¯å¿…å¤‡ï¼Œä½†æ˜¯ä¸ºäº†å…»æˆä¸€ä¸ªLinuxç”¨æˆ·çš„ä½¿ç”¨çš„è‰¯å¥½ä¹ æƒ¯ï¼Œå°ç¼–ä¸å»ºè®®ç›´æ¥ä½¿ç”¨rootæ“ä½œï¼Œå› æ­¤åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç”¨æ¥æ“ä½œdockerã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;useradd docker_manager
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;docker_manageræ˜¯ç”¨æˆ·åï¼Œå¯ä»¥æ ¹æ®å–œå¥½èµ·åï¼Œåˆ›å»ºå®Œç”¨æˆ·ä¹‹åï¼Œè®¾ç½®å¯†ç &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;passwd docker_manager
docker_manager_wsdt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¼šæç¤ºè¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç ,æŒ‰ç…§æç¤ºæ“ä½œå³å¯&lt;/p&gt;
&lt;p&gt;7ã€é…ç½®dockerç”¨æˆ·çš„æƒé™&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;visudo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;visudoæ˜¯é…ç½®ç”¨æˆ·æƒé™çš„æ–‡ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥visudoå›è½¦ä¹‹åï¼Œä¼šè¿›å…¥æ–‡ä»¶æ“ä½œï¼Œæ‰¾åˆ°â€œ# %wheel ALL=(ALL) NOPASSWD: ALLâ€è¿™ä¸€è¡Œï¼ŒæŠŠå‰é¢çš„â€œ#â€å»æ‰ï¼Œä¿å­˜æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;8ã€æˆæƒ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;usermod -aG wheel,docker docker_manager
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;9ã€å¯åŠ¨ Docker CE&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; sudo systemctl enable docker
 sudo systemctl start docker
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥â€œdocker infoâ€ä¹‹åï¼Œèƒ½å¤Ÿå±•ç¤ºdockerç›¸å…³ä¿¡æ¯ï¼Œå°±è¡¨ç¤ºdockerå®‰è£…æˆåŠŸã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker info
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;10ã€é•œåƒåŠ é€Ÿï¼š&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘daemon.jsonæ–‡ä»¶ï¼ˆé¦–æ¬¡å®‰è£…daemon.jsonæ˜¯ä¸ªæ–°æ–‡ä»¶ï¼Œä¸è¦æƒŠè®¶ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vim /etc/docker/daemon.json
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    {
        &amp;quot;registry-mirrors&amp;quot;: [
            &amp;quot;https://registry.docker-cn.com&amp;quot;
        ]
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¿å­˜ï¼Œsudo systemctl restart dockeré‡å¯å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;4ã€æ€»ç»“&lt;br&gt;
ä¸Šé¢é’ˆå¯¹dockerä½¿ç”¨äº†ä¸€ç§æ¯”è¾ƒé€šä¿—è¯™è°çš„è¯­è¨€æ¥è®²è¿°ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ–¹ä¾¿è¯»è€…èƒ½å®¹æ˜“çš„è§£è¯»å’Œç†è§£ï¼Œç†è§£å¹¶ä¸”æˆåŠŸå®‰è£…dockerä¹‹åï¼Œä½ ä»¬å°±ä¼šæƒ³æ–¹è®¾æ³•çš„è¦æŠŠè‡ªå·±çš„webé¡¹ç›®éƒ¨ç½²åˆ°dockeräº†ï¼Œè¿™æˆ‘æ²¡è¯´é”™å§ï¼Œå¤§å®¶å¯ä»¥ç½‘ä¸ŠæŸ¥æ‰¾ä¸€äº›èµ„æ–™å»å­¦ä¹ è¿™ä¸€å—ã€‚&lt;/p&gt;
&lt;p&gt;å­¦ä¹ è½¬è½½ï¼šhttps://www.cnblogs.com/myprogramer/p/10288634.html&lt;/p&gt;
">dockerçš„å®‰è£…ä¸ä½¿ç”¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/nodejs-chang-yong-gong-ju-utilinherits"" data-c="
          &lt;p&gt;util æ˜¯ä¸€ä¸ªNode.js æ ¸å¿ƒæ¨¡å—ï¼Œæä¾›å¸¸ç”¨å‡½æ•°çš„é›†åˆï¼Œç”¨äºå¼¥è¡¥æ ¸å¿ƒJavaScript çš„åŠŸèƒ½ è¿‡äºç²¾ç®€çš„ä¸è¶³ã€‚&lt;/p&gt;
&lt;p&gt;util.inherits&lt;br&gt;
util.inherits(constructor, superConstructor)æ˜¯ä¸€ä¸ªå®ç°å¯¹è±¡é—´åŸå‹ç»§æ‰¿ çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;JavaScript çš„é¢å‘å¯¹è±¡ç‰¹æ€§æ˜¯åŸºäºåŸå‹çš„ï¼Œä¸å¸¸è§çš„åŸºäºç±»çš„ä¸åŒã€‚JavaScript æ²¡æœ‰ æä¾›å¯¹è±¡ç»§æ‰¿çš„è¯­è¨€çº§åˆ«ç‰¹æ€§ï¼Œè€Œæ˜¯é€šè¿‡åŸå‹å¤åˆ¶æ¥å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œæˆ‘ä»¬åªä»‹ç»util.inherits çš„ç”¨æ³•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var util = require(&#39;util&#39;); 
function Base() { 
    this.name = &#39;base&#39;; 
    this.base = 1991; 
    this.sayHello = function() { 
    console.log(&#39;Hello &#39; + this.name); 
    }; 
} 
Base.prototype.showName = function() { 
    console.log(this.name);
}; 
function Sub() { 
    this.name = &#39;sub&#39;; 
} 
util.inherits(Sub, Base); 
var objBase = new Base(); 
objBase.showName(); 
objBase.sayHello(); 
console.log(objBase); 
var objSub = new Sub(); 
objSub.showName(); 
//objSub.sayHello(); 
console.log(objSub);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŸºç¡€å¯¹è±¡Base å’Œä¸€ä¸ªç»§æ‰¿è‡ªBase çš„Subï¼ŒBase æœ‰ä¸‰ä¸ªåœ¨æ„é€ å‡½æ•° å†…å®šä¹‰çš„å±æ€§å’Œä¸€ä¸ªåŸå‹ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œé€šè¿‡util.inherits å®ç°ç»§æ‰¿ã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;base 
Hello base 
{ name: &#39;base&#39;, base: 1991, sayHello: [Function] } 
sub 
{ name: &#39;sub&#39; }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ³¨æ„ï¼šSub ä»…ä»…ç»§æ‰¿äº†Base åœ¨åŸå‹ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œè€Œæ„é€ å‡½æ•°å†…éƒ¨åˆ›é€ çš„ base å± æ€§å’Œ sayHello å‡½æ•°éƒ½æ²¡æœ‰è¢« Sub ç»§æ‰¿ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œåœ¨åŸå‹ä¸­å®šä¹‰çš„å±æ€§ä¸ä¼šè¢«console.log ä½œ ä¸ºå¯¹è±¡çš„å±æ€§è¾“å‡ºã€‚å¦‚æœæˆ‘ä»¬å»æ‰ objSub.sayHello(); è¿™è¡Œçš„æ³¨é‡Šï¼Œå°†ä¼šçœ‹åˆ°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;node.js:201 
throw e; // process.nextTick error, or &#39;error&#39; event on first tick 
^ 
TypeError: Object #&amp;lt;Sub&amp;gt; has no method &#39;sayHello&#39; 
at Object.&amp;lt;anonymous&amp;gt; (/home/byvoid/utilinherits.js:29:8) 
at Module._compile (module.js:441:26) 
at Object..js (module.js:459:10) 
at Module.load (module.js:348:31) 
at Function._load (module.js:308:12) 
at Array.0 (module.js:479:10) 
at EventEmitter._tickCallback (node.js:192:40)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è½¬è½½è‡ªhttps://www.cnblogs.com/yuwenjing0727/p/8135608.html&lt;/p&gt;
">Node.js å¸¸ç”¨å·¥å…· ï¼ˆutil.inheritsï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/nuxt-fu-wu-duan-xuan-ran-he-yu-xuan-ran-de-qu-bie"" data-c="
          &lt;p&gt;nuxtåˆ†spaå’Œéspaï¼Œé¢„æ¸²æŸ“ç›´æ¥nuxt generateæ‰“å¥½çš„é™æ€é¡µé¢æ”¾åœ¨æœåŠ¡å™¨å°±èƒ½è®¿é—®(ä¹Ÿæ˜¯æœåŠ¡ç«¯æ¸²æŸ“)ï¼Œ æœåŠ¡ç«¯æ¸²æŸ“éœ€è¦å…ˆbuildå®Œï¼ŒæŠŠæ‰“å‡ºæ¥çš„é¡¹ç›®æ”¾åˆ°æœåŠ¡å™¨ï¼Œç„¶åå…è®¸startï¼Œè¿˜è¦é…ç½®nginxè½¬å‘&lt;br&gt;
ä½¿ç”¨nuxtçš„æœåŠ¡ç«¯æ¸²æŸ“æ’ä»¶åœ¨nodeä¸­å¯ä»¥ç›´æ¥è¿”å›&lt;br&gt;
é¢„æ¸²æŸ“ä¸åƒæœåŠ¡å™¨æ¸²æŸ“é‚£æ ·å³æ—¶ç¼–è¯‘ HTMLï¼Œå®ƒåªåœ¨æ„å»ºæ—¶ä¸ºäº†ç‰¹å®šçš„è·¯ç”±ç”Ÿæˆç‰¹å®šçš„å‡ ä¸ªé™æ€é¡µé¢ï¼Œç­‰äºæˆ‘ä»¬å¯ä»¥é€šè¿‡ Webpack æ’ä»¶å°†ä¸€äº›ç‰¹å®šé¡µé¢ç»„ä»¶ build æ—¶å°±ç¼–è¯‘ä¸º html æ–‡ä»¶ï¼Œç›´æ¥ä»¥é™æ€èµ„æºçš„å½¢å¼è¾“å‡ºç»™æœç´¢å¼•æ“ã€‚é¢„æ¸²æŸ“ä¸æ‰§è¡Œjsçš„ï¼Œåªé€‚åº”äºçº¯é™æ€é¡µé¢&lt;br&gt;
å…ˆè¯´ç»“è®ºï¼Œéƒ½å¿…ç„¶ä¼šä¼˜åŒ–SEOï¼ŒåŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€seoçš„æœ¬è´¨æ˜¯çˆ¬è™«åŠ¨æ€æŠ“å–æ ¹htmlé‡Œé¢çš„å…³é”®æ ‡ç­¾å…³é”®å­—ï¼›&lt;br&gt;
2ã€ç°ä»£ä¸»æµå‰ç«¯å¼€å‘æ¡†æ¶åŸºæœ¬éƒ½æ˜¯htmlæ‹‰å›æ¥ä¹‹åï¼Œå¼‚æ­¥æ‰§è¡ŒjsåŠ¨æ€æŒ‚è½½domï¼Œæ ¹htmlåœ¨æ¸²æŸ“ä¹‹å‰é‡Œé¢æä¾›ç»™çˆ¬è™«çš„ä¿¡æ¯æå°‘ï¼›&lt;/p&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œå¦‚æœä¸åšæœåŠ¡å™¨æ¸²æŸ“æˆ–é¢„æ¸²æŸ“ï¼Œseoåªèƒ½æŠ“åˆ°æ‰‹åŠ¨é…ç½®çš„é¡¶çº§æ ‡ç­¾çš„å…³é”®å­—ï¼Œæ•ˆç‡ä¸æ•ˆæœéå¸¸å·®&lt;br&gt;
ä¸è®ºæ˜¯æœåŠ¡å™¨æ¸²æŸ“è¿˜æ˜¯é¢„æ¸²æŸ“ï¼Œå®ƒä»¬éƒ½èƒ½â€œåŠ é€Ÿæµè§ˆå™¨æ˜¾ç¤ºé¡µé¢çš„é€Ÿåº¦â€å’Œseoä¼˜åŒ–ã€‚é¦–å…ˆå®¢æˆ·ç«¯ç¨‹åºåªæœ‰jsã€‚ç°ä»£ç½‘é¡µå‡ºç°ä»¥åè¿™äº›jsç¨‹åº¦è¶Šæ¥è¶Šå¤æ‚ï¼Œäºæ˜¯å¿…é¡»æœ‰ä¸€äº›ç±»ä¼¼reactã€angularè¿™æ ·çš„ä¸œè¥¿ã€‚ä½†è¿™äº›ä¸œè¥¿å…¨éƒ½æœ‰ä¸€ä¸ªé—®é¢˜ï¼šç¬¬ä¸€æ¬¡æ¸²æŸ“ç»“æŸå‰ï¼Œé¡µé¢æ˜¯ç™½çš„ã€‚äºæ˜¯æœ‰äº†æœåŠ¡ç«¯æ¸²æŸ“ï¼šå¦‚æœæœåŠ¡å™¨æ°å¥½æ˜¯nodejsï¼Œé‚£ä¹ˆå¯ä»¥è®©æœåŠ¡å™¨æå‰è¿è¡Œâ€œç¬¬ä¸€æ¬¡æ¸²æŸ“â€ã€‚æµè§ˆå™¨åªéœ€è¦æ˜¾ç¤ºå°±å¥½äº†ï¼Œå¦‚æœéœ€è¦ï¼Œå†è¿›è¡Œä»¥åçš„æ¸²æŸ“ã€‚&lt;/p&gt;
">nuxt æœåŠ¡ç«¯æ¸²æŸ“å’Œé¢„æ¸²æŸ“çš„åŒºåˆ«</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/sequelize-node-lian-jie-shu-ju-ku-de-orm"" data-c="
          &lt;p&gt;&lt;a href=&#34;https://www.sequelize.com.cn/&#34;&gt;Sequelize ä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;br&gt;
å¯ä»¥å…ˆçœ‹æ–‡æ¡£ï¼Œæ–‡æ¡£å¾ˆå…¨ï¼Œå®ƒçš„è¯­å¥å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šå¤„ç†ï¼Œè€Œä¸”å¾ˆç²¾ç®€ï¼Œè®©æˆ‘ä»¬ä¸ç”¨æ­»è®°ç¡¬èƒŒsqlè¯­å¥ï¼Œä¹Ÿä¸ç”¨å»åº“é‡Œå»ºè¡¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿æ¥æ•°æ®åº“&#34;&gt;è¿æ¥æ•°æ®åº“&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;è¿æ¥åˆ°æ•°æ®åº“
è¦è¿æ¥åˆ°æ•°æ®åº“,å¿…é¡»åˆ›å»ºä¸€ä¸ª Sequelize å®ä¾‹. è¿™å¯ä»¥é€šè¿‡å°†è¿æ¥å‚æ•°åˆ†åˆ«ä¼ é€’åˆ° Sequelize æ„é€ å‡½æ•°æˆ–é€šè¿‡ä¼ é€’ä¸€ä¸ªè¿æ¥ URI æ¥å®Œæˆï¼š

const { Sequelize } = require(&#39;sequelize&#39;);

// æ–¹æ³• 1: ä¼ é€’ä¸€ä¸ªè¿æ¥ URI
const sequelize = new Sequelize(&#39;sqlite::memory:&#39;) // Sqlite ç¤ºä¾‹
const sequelize = new Sequelize(&#39;postgres://user:pass@example.com:5432/dbname&#39;) // Postgres ç¤ºä¾‹

// æ–¹æ³• 2: åˆ†åˆ«ä¼ é€’å‚æ•° (sqlite)
const sequelize = new Sequelize({
  dialect: &#39;sqlite&#39;,
  storage: &#39;path/to/database.sqlite&#39;
});

// æ–¹æ³• 3: åˆ†åˆ«ä¼ é€’å‚æ•° (å…¶å®ƒæ•°æ®åº“)
const sequelize = new Sequelize(&#39;database&#39;, &#39;username&#39;, &#39;password&#39;, {
  host: &#39;localhost&#39;,
  dialect: /* é€‰æ‹© &#39;mysql&#39; | &#39;mariadb&#39; | &#39;postgres&#39; | &#39;mssql&#39; å…¶ä¸€ */
});
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®šä¹‰æ¨¡å‹-å®šä¹‰è¡¨ç»“æ„&#34;&gt;å®šä¹‰æ¨¡å‹ ï¼ˆå®šä¹‰è¡¨ç»“æ„ï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module.exports = function(sequelize, DataTypes) {
  return sequelize.define(
    &#39;project&#39;,
    {
      id: {
        type: DataTypes.INTEGER(11),
        allowNull: false,
        primaryKey: true,
        autoIncrement: true
      },
      name: { type: DataTypes.STRING(255), allowNull: true },
      title: { type: DataTypes.STRING(255), allowNull: true },
      report_fix_id: { type: DataTypes.STRING(1000), allowNull: true },
      fix_url: { type: DataTypes.STRING(2000), allowNull: true },
      ignore_key: {
        type: DataTypes.STRING(2000),
        allowNull: true,
        comment: &#39;ç®€åŒ–æ‰“å°å¯¹è±¡ä¸­æ¯”è¾ƒå¤§çš„å¯¹è±¡&#39;
      },
      env: {
        type: DataTypes.STRING(255),
        allowNull: true,
        comment: &#39;å“ªäº›ç¯å¢ƒèƒ½ä¸ŠæŠ¥æ—¥å¿—&#39;
      },
      report_interval: {
        type: DataTypes.INTEGER(11),
        allowNull: true,
        comment: &#39;ä¸ŠæŠ¥æ—¶é—´é—´éš”&#39;
      },
      ctime: {
        type: DataTypes.INTEGER(10),
        allowNull: true,
        get() {
          return moment
            .unix(this.getDataValue(&#39;ctime&#39;))
            .format(&#39;YYYY/MM/DD HH:mm:ss&#39;)
        }
      },
      del: { type: DataTypes.INTEGER(1), allowNull: true, defaultValue: &#39;0&#39; }
    },
    {
      tableName: &#39;project&#39;
    }
  )
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ¨¡å‹åŒæ­¥-çœŸæ­£ä»æ•°æ®åº“åˆ›å»º&#34;&gt;æ¨¡å‹åŒæ­¥ ï¼ˆçœŸæ­£ä»æ•°æ®åº“åˆ›å»ºï¼‰&lt;/h3&gt;
&lt;p&gt;å®šä¹‰æ¨¡å‹æ—¶,ä½ è¦å‘Šè¯‰ Sequelize æœ‰å…³æ•°æ®åº“ä¸­è¡¨çš„ä¸€äº›ä¿¡æ¯. ä½†æ˜¯,å¦‚æœè¯¥è¡¨å®é™…ä¸Šä¸å­˜åœ¨äºæ•°æ®åº“ä¸­æ€ä¹ˆåŠï¼Ÿ å¦‚æœå­˜åœ¨,ä½†å…·æœ‰ä¸åŒçš„åˆ—,è¾ƒå°‘çš„åˆ—æˆ–ä»»ä½•å…¶ä»–å·®å¼‚,è¯¥æ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯æ¨¡å‹åŒæ­¥çš„æ¥æº.å¯ä»¥é€šè¿‡è°ƒç”¨ä¸€ä¸ªå¼‚æ­¥å‡½æ•°(è¿”å›ä¸€ä¸ªPromise)model.sync(options). é€šè¿‡æ­¤è°ƒç”¨,Sequelize å°†è‡ªåŠ¨å¯¹æ•°æ®åº“æ‰§è¡Œ SQL æŸ¥è¯¢. è¯·æ³¨æ„,è¿™ä»…æ›´æ”¹æ•°æ®åº“ä¸­çš„è¡¨,è€Œä¸æ›´æ”¹ JavaScript ç«¯çš„æ¨¡å‹.&lt;/p&gt;
&lt;p&gt;User.sync() - å¦‚æœè¡¨ä¸å­˜åœ¨,åˆ™åˆ›å»ºè¯¥è¡¨(å¦‚æœå·²ç»å­˜åœ¨,åˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ)&lt;/p&gt;
&lt;h4 id=&#34;usersync-force-true-å°†åˆ›å»ºè¡¨å¦‚æœè¡¨å·²ç»å­˜åœ¨åˆ™å°†å…¶é¦–å…ˆåˆ é™¤-è¿™ä¸ªä¸è¦ç”¨ä¹Ÿæœ€å¥½åˆ«è¯•&#34;&gt;User.sync({ force: true }) - å°†åˆ›å»ºè¡¨,å¦‚æœè¡¨å·²ç»å­˜åœ¨,åˆ™å°†å…¶é¦–å…ˆåˆ é™¤ ï¼ˆè¿™ä¸ªä¸è¦ç”¨ï¼Œä¹Ÿæœ€å¥½åˆ«è¯•ï¼‰&lt;/h4&gt;
&lt;p&gt;User.sync({ alter: true }) - è¿™å°†æ£€æŸ¥æ•°æ®åº“ä¸­è¡¨çš„å½“å‰çŠ¶æ€(å®ƒå…·æœ‰å“ªäº›åˆ—,å®ƒä»¬çš„æ•°æ®ç±»å‹ç­‰),ç„¶ååœ¨è¡¨ä¸­è¿›è¡Œå¿…è¦çš„æ›´æ”¹ä»¥ä½¿å…¶ä¸æ¨¡å‹åŒ¹é….&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sequelize
  .authenticate()
  .then(() =&amp;gt; {
    console.log(&#39;æ•°æ®åº“è¿æ¥æˆåŠŸ&#39;.green)
    // sequelize.sync({ alter: true })
  })
  .catch(err =&amp;gt; {
    console.log(&#39;æ•°æ®åº“è¿æ¥å¤±è´¥&#39;.red)
  })
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ›å»ºå®ä¾‹ä¿®æ”¹å†…å®¹insert&#34;&gt;åˆ›å»ºå®ä¾‹ï¼ˆä¿®æ”¹å†…å®¹INSERTï¼‰&lt;/h3&gt;
&lt;p&gt;å°½ç®¡æ¨¡å‹æ˜¯ä¸€ä¸ªç±»,ä½†æ˜¯ä½ ä¸åº”ç›´æ¥ä½¿ç”¨ new è¿ç®—ç¬¦æ¥åˆ›å»ºå®ä¾‹. ç›¸å,åº”è¯¥ä½¿ç”¨ build æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const jane = User.build({ name: &amp;quot;Jane&amp;quot; });
console.log(jane instanceof User); // true
console.log(jane.name); // &amp;quot;Jane&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½†æ˜¯,ä»¥ä¸Šä»£ç æ ¹æœ¬æ— æ³•ä¸æ•°æ®åº“é€šä¿¡(è¯·æ³¨æ„,å®ƒç”šè‡³ä¸æ˜¯å¼‚æ­¥çš„)ï¼ è¿™æ˜¯å› ä¸º build æ–¹æ³•ä»…åˆ›å»ºä¸€ä¸ªå¯¹è±¡,è¯¥å¯¹è±¡ è¡¨ç¤º å¯ä»¥ æ˜ å°„åˆ°æ•°æ®åº“çš„æ•°æ®. ä¸ºäº†å°†è¿™ä¸ªå®ä¾‹çœŸæ­£ä¿å­˜(å³æŒä¹…ä¿å­˜)åœ¨æ•°æ®åº“ä¸­,åº”ä½¿ç”¨ save æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;await jane.save();
console.log(&#39;Jane å·²ä¿å­˜åˆ°æ•°æ®åº“!&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¯·æ³¨æ„,ä»ä¸Šé¢ä»£ç æ®µä¸­çš„ await ç”¨æ³•æ¥çœ‹,save æ˜¯ä¸€ç§å¼‚æ­¥æ–¹æ³•. å®é™…ä¸Š,å‡ ä¹æ¯ä¸ª Sequelize æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„. build æ˜¯æå°‘æ•°ä¾‹å¤–ä¹‹ä¸€.&lt;/p&gt;
&lt;p&gt;éå¸¸æœ‰ç”¨çš„æ·å¾„: create æ–¹æ³•&lt;br&gt;
Sequelizeæä¾›äº† create æ–¹æ³•,è¯¥æ–¹æ³•å°†ä¸Šè¿°çš„ build æ–¹æ³•å’Œ save æ–¹æ³•åˆå¹¶ä¸ºä¸€ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const jane = await User.create({ name: &amp;quot;Jane&amp;quot; });
// Jane ç°åœ¨å­˜åœ¨äºæ•°æ®åº“ä¸­ï¼
console.log(jane instanceof User); // true
console.log(jane.name); // &amp;quot;Jane&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç®€å•-select-æŸ¥è¯¢&#34;&gt;ç®€å• SELECT æŸ¥è¯¢&lt;/h3&gt;
&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ findAll æ–¹æ³•ä»æ•°æ®åº“ä¸­è¯»å–æ•´ä¸ªè¡¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
const users = await User.findAll();
console.log(users.every(user =&amp;gt; user instanceof User)); // true
console.log(&amp;quot;All users:&amp;quot;, JSON.stringify(users, null, 2));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç›¸å½“äºsqlè¯­å¥&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SELECT * FROM ...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å—¯ï¼Œå†™ä¸€äº›å»ºè¡¨ä¸æŸ¥è¯¢çš„æµç¨‹ï¼Œç…§ç€å®˜ç½‘æŠ„ä¹Ÿæ²¡ä»€ä¹ˆæ„æ€ã€‚ä½¿ç”¨è¿™ä¸ªæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„æ“ä½œæ•°æ®åº“ï¼Œä½¿æˆ‘ä»¬å†™nodeæ¥å£çš„æ—¶å€™æ•ˆç‡ç¿»å€ï½&lt;/p&gt;
">Sequelize nodeè¿æ¥æ•°æ®åº“çš„ORM</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/shell-dollar-huo-qu-han-shu-fan-hui-zhi-huo-zhe-shang-yi-ge-ming-ling-de-tui-chu-zhuang-tai"" data-c="
          &lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;?&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ˜¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸Š&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸€&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸ª&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ç¨‹&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åº&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ‰§&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¡Œ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ˜¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å¦&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æˆ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åŠŸ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ ‡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å¿—&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ï¼Œ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å¦‚&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æœ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ‰§&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¡Œ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æˆ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åŠŸ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åˆ™&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;? æ˜¯ä¸Šä¸€ä¸ªç¨‹åºæ‰§è¡Œæ˜¯å¦æˆåŠŸçš„æ ‡å¿—ï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ˜¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸Š&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸€&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸ª&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ç¨‹&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åº&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ‰§&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¡Œ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ˜¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å¦&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æˆ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åŠŸ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ ‡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å¿—&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å¦‚&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æœ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ‰§&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¡Œ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æˆ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åŠŸ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åˆ™&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;? ä¸º0ï¼Œå¦åˆ™ ä¸ä¸º0ã€‚&lt;br&gt;
æ¯”å¦‚åˆ¤æ–­ä¸€ä¸ªnodeæœåŠ¡æ˜¯è¯¥å¯åŠ¨è¿˜æ˜¯è¯¥é‡å¯ï¼Œåˆ™å¯ä»¥æ‰§è¡Œpm2 info ***&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1644843836198.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">shell $? è·å–å‡½æ•°è¿”å›å€¼æˆ–è€…ä¸Šä¸€ä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/docker-zhong-shi-yong-redis"" data-c="
          &lt;p&gt;é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨Redisï¼Œä¸ºäº†ä¸ç”¨æ¯æ¬¡æ‰“å¼€Redisç›®å½•å»å¯åŠ¨Redisæƒ³åˆ°äº†Dockerå¯ä»¥ä½œä¸ºRedisçš„å®¹å™¨ ç›´æ¥ä¸‹è½½ä½¿ç”¨å°±è¡Œ æŠŠDockerä½¿ç”¨Redisçš„è¿‡ç¨‹åˆ†äº«ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;æ‹‰å–redis    ï¼ˆå¦‚æœæƒ³ç›´æ¥è¿è¡Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œç¬¬äºŒæ­¥çœç•¥ç¬¬ä¸€æ­¥ï¼‰
   docker pull redis

   æ‹‰å–å®Œæˆåå¯ä½¿ç”¨ docker images æŸ¥çœ‹é•œåƒåˆ—è¡¨æ£€æŸ¥
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;åå°è¿è¡Œredis server
   
   docker run --name redis-test -p 6379:6379 -d redis
   æˆ–è€… docker run --name redis-test -p 6379:6379  --rm -d redis

   -dè¡¨ç¤ºåå°è¿è¡Œ 
   -pè¡¨ç¤ºæœ¬æœºç«¯å£æ˜ å°„åˆ°è¿è¡Œçš„å®¹ç§¯ç«¯å£  ç¬¬ä¸€ä¸ªæ˜¯æœ¬æœºç«¯å£ ç¬¬äºŒä¸ªæ˜¯å®¹å™¨ç«¯å£
   --rmè¡¨ç¤ºç”¨å®Œè‡ªåŠ¨åˆ é™¤ å®¹å™¨åœæ­¢è¿è¡Œåè‡ªåŠ¨åˆ é™¤  ä¸€èˆ¬ä¸ç”¨
   --nameè¡¨ç¤ºæŒ‡å®šåç§° ä¹‹åä¼šç”¨åˆ°
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt; å®¢æˆ·ç«¯è¿æ¥redis 
   
   docker run -it --rm  redis redis-cli -h 192.168.1.99
   æˆ–è€… å®Œæ•´ docker run -it --rm redis redis-cli -h 192.168.1.99 -p 6379 -a 123123
   
   -itè¡¨ç¤ºè¿è¡Œåè¿›å…¥å®¹å™¨å†…éƒ¨å‘½ä»¤æ¨¡å¼
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;å¯åŠ¨å·²å…³é—­çš„redisæœåŠ¡
   æ­¥éª¤äºŒæŒ‡å®šäº†redisçš„åç§°ä¸ºredis-test æ‰§è¡Œå‘½ä»¤ redis start redis-test å¯åŠ¨redisæœåŠ¡
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;ä¸å°å¿ƒå…³æ‰äº†æ­£åœ¨è¿æ¥çš„å®¢æˆ·ç«¯ç•Œé¢redis-cli 
  - æŸ¥æ‰¾å½“å‰è¿è¡Œçš„å®¹å™¨ docker ps  
  - ç›´æ¥è¿›å…¥å®¹å™¨ä¸­ docker attach å®¹å™¨æ ‡è¯†
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;åˆ é™¤å®¹å™¨
   - docker rm [containerName||ID] æˆ–è€…å¼ºåˆ¶åˆ é™¤åŠ -få‚æ•°
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¨èä¸€ä¸ªå¥½ç”¨çš„rediså¯è§†åŒ–è½¯ä»¶ï¼Œå…è´¹çš„ï¼Œâ€œAnother Redis Desktop Managerâ€ åœ°å€ï¼šhttps://github.com/qishibo/AnotherRedisDesktopManager/&lt;/p&gt;
&lt;!-- more --&gt;
">dockerä¸­ä½¿ç”¨redis</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/wo-shi-ce-shi"" data-c="
          &lt;p&gt;ä½œç”¨ï¼šæ—¶é—´æˆ³è½¬åŒ–ä¸ªæ ¼å¼&lt;/p&gt;
&lt;p&gt;åŸå› ï¼šæ•°æ®åº“ä¸­ä¸ºäº†å¿«é€ŸæŸ¥è¯¢ï¼Œä¸€èˆ¬ä¿æŒæ—¥æœŸæ˜¯int(1415873634479),ä½†æ˜¯è¿™æ ·æŸ¥è¯¢çš„æ—¶å€™å¾ˆéš¾çŸ¥é“ç¡®åˆ‡çš„æ—¥æœŸ&lt;/p&gt;
&lt;p&gt;æ ¼å¼ï¼šselect from_unixtime(1459338786);2016-03-30 19:53:06&lt;/p&gt;
&lt;p&gt;select from_unixtime(1459338786, &#39;%Y-%m-%d %H:%i:%s&#39;);2016-03-30 19:53:06&lt;/p&gt;
&lt;p&gt;SELECT id ,FROM_UNIXTIME(&#39;last_update_time&#39;) FROM current_inventory WHERE seat_code = &#39;hk2-i0302c03&#39; //å­—æ®µè¦åŠ å¼•å·&lt;/p&gt;
&lt;p&gt;å¤‡æ³¨ï¼šé»˜è®¤è½¬åŒ–æ ¼å¼æ˜¯%Y-%m-%d %H:%i:%s&lt;/p&gt;
&lt;p&gt;æ ¼å¼è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;%M æœˆåå­—(Januaryï½December)&lt;br&gt;
%W æ˜ŸæœŸåå­—(Sundayï½Saturday)&lt;br&gt;
%D æœ‰è‹±è¯­å‰ç¼€çš„æœˆä»½çš„æ—¥æœŸ(1st, 2nd, 3rd, ç­‰ç­‰ã€‚ï¼‰&lt;br&gt;
%Y å¹´, æ•°å­—, 4 ä½&lt;br&gt;
%y å¹´, æ•°å­—, 2 ä½&lt;br&gt;
%a ç¼©å†™çš„æ˜ŸæœŸåå­—(Sunï½Sat)&lt;br&gt;
%d æœˆä»½ä¸­çš„å¤©æ•°, æ•°å­—(00ï½31)&lt;br&gt;
%e æœˆä»½ä¸­çš„å¤©æ•°, æ•°å­—(0ï½31)&lt;br&gt;
%m æœˆ, æ•°å­—(01ï½12)&lt;br&gt;
%c æœˆ, æ•°å­—(1ï½12)&lt;br&gt;
%b ç¼©å†™çš„æœˆä»½åå­—(Janï½Dec)&lt;br&gt;
%j ä¸€å¹´ä¸­çš„å¤©æ•°(001ï½366)&lt;br&gt;
%H å°æ—¶(00ï½23)&lt;br&gt;
%k å°æ—¶(0ï½23)&lt;br&gt;
%h å°æ—¶(01ï½12)&lt;br&gt;
%I å°æ—¶(01ï½12)&lt;br&gt;
%l å°æ—¶(1ï½12)&lt;br&gt;
%i åˆ†é’Ÿ, æ•°å­—(00ï½59)&lt;br&gt;
%r æ—¶é—´,12 å°æ—¶(hh:mm:ss [AP]M)&lt;br&gt;
%T æ—¶é—´,24 å°æ—¶(hh:mm:ss)&lt;br&gt;
%S ç§’(00ï½59)&lt;br&gt;
%s ç§’(00ï½59)&lt;br&gt;
%p AMæˆ–PM&lt;br&gt;
%w ä¸€ä¸ªæ˜ŸæœŸä¸­çš„å¤©æ•°(0=Sunday ï½6=Saturday ï¼‰&lt;br&gt;
%U æ˜ŸæœŸ(0ï½52), è¿™é‡Œæ˜ŸæœŸå¤©æ˜¯æ˜ŸæœŸçš„ç¬¬ä¸€å¤©&lt;br&gt;
%u æ˜ŸæœŸ(0ï½52), è¿™é‡Œæ˜ŸæœŸä¸€æ˜¯æ˜ŸæœŸçš„ç¬¬ä¸€å¤©&lt;br&gt;
%% ä¸€ä¸ªæ–‡å­—%&lt;/p&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/yangliu4683/article/details/78340939&lt;/p&gt;
">mysql æ—¶é—´æˆ³æ ¼å¼åŒ–å‡½æ•°from_unixtime</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/nginx-dai-cookie-yun-xu-kua-yu-pei-zhi"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-nginx&#34;&gt;server {
  listen 9003;
  server_name *****.com;
  index index.html index.htm;
  location / {
    proxy_pass http://127.0.0.1:4001;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-for $remote_addr;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_set_header X-Forwarded-Port $server_port;
    proxy_connect_timeout 300;

    # æŒ‡å®šå…è®¸è·¨åŸŸçš„æ–¹æ³•ï¼Œ*ä»£è¡¨æ‰€æœ‰
    add_header Access-Control-Allow-Methods *;

    # é¢„æ£€å‘½ä»¤çš„ç¼“å­˜ï¼Œå¦‚æœä¸ç¼“å­˜æ¯æ¬¡ä¼šå‘é€ä¸¤æ¬¡è¯·æ±‚
    add_header Access-Control-Max-Age 3600;

    # å¸¦cookieè¯·æ±‚éœ€è¦åŠ ä¸Šè¿™ä¸ªå­—æ®µï¼Œå¹¶è®¾ç½®ä¸ºtrue
    add_header Access-Control-Allow-Credentials true;

    # è¡¨ç¤ºå…è®¸è¿™ä¸ªåŸŸè·¨åŸŸè°ƒç”¨ï¼ˆå®¢æˆ·ç«¯å‘é€è¯·æ±‚çš„åŸŸåå’Œç«¯å£ï¼‰
    # $http_originåŠ¨æ€è·å–è¯·æ±‚å®¢æˆ·ç«¯è¯·æ±‚çš„åŸŸ   ä¸ç”¨*çš„åŸå› æ˜¯å¸¦cookieçš„è¯·æ±‚ä¸æ”¯æŒ*å·
    add_header Access-Control-Allow-Origin $http_origin;

    # è¡¨ç¤ºè¯·æ±‚å¤´çš„å­—æ®µ åŠ¨æ€è·å–
    add_header Access-Control-Allow-Headers $http_access_control_request_headers;

    # OPTIONSé¢„æ£€å‘½ä»¤ï¼Œé¢„æ£€å‘½ä»¤é€šè¿‡æ—¶æ‰å‘é€è¯·æ±‚
    # æ£€æŸ¥è¯·æ±‚çš„ç±»å‹æ˜¯ä¸æ˜¯é¢„æ£€å‘½ä»¤
    if ($request_method = OPTIONS){
      return 200;
    }

  }
&lt;/code&gt;&lt;/pre&gt;
">nginxå¸¦cookieå…è®¸è·¨åŸŸé…ç½®</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/hello-gridea"" data-c="
          &lt;p&gt;å¼ºåˆ¶commitè§„èŒƒå¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨packageé¡¹ç›®ä¸­çš„gitHooksé€‰é¡¹ä¸‹çš„&amp;quot;commit-msg&amp;quot;è®¾ç½®è‡ªå·±çš„commitè§„åˆ™è„šæœ¬ã€‚æ¯”å¦‚æˆ‘è¦å¼ºåˆ¶commitå†…å®¹ä¸ºfeat:åŠ ç©ºæ ¼xxxæˆ–è€…fix:åŠ ç©ºæ ¼xxxï¼Œå¦‚æœä¸ç¬¦åˆç»™å‡ºç›¸åº”æç¤ºï¼Œåˆ™æˆ‘åº”è¯¥è¿™ä¹ˆå†™ï¼š&lt;br&gt;
&lt;img src=&#34;https://note.youdao.com/yws/public/resource/d60e09a825bba46e1719f2dc06a2f7e3/xmlnote/302F691AA217499EA4DC783EA5E361B8/3538&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
verify-commit-msg.jsä¸­ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const chalk = require(&amp;quot;chalk&amp;quot;);
const msgPath = process.env.GIT_PARAMS;
const msg = require(&amp;quot;fs&amp;quot;)
  .readFileSync(msgPath, &amp;quot;utf-8&amp;quot;)
  .trim();

const commitRE = /^(revert: )?(feat|fix|polish|docs|style|refactor|perf|test|workflow|ci|chore|types|build|Merge)(\(.+\))?: .{1,50}|Merge /;

if (!commitRE.test(msg)) {
  console.error(
    `  ${chalk.bgRed.white(&amp;quot; ERROR &amp;quot;)} ${chalk.red(
      `invalid commit message format.`
    )}\n\n` +
      chalk.red(
        `  Proper commit message format is required for automated changelog generation. Examples:\n\n`
      ) +
      `    ${chalk.green(`feat: add &#39;comments&#39; option`)}\n` +
      `    ${chalk.green(`fix: handle events on blur (close #28)`)}\n\n` +
      chalk.red(
        `  You can also use ${chalk.cyan(
          `yarn commit`
        )} to interactively generate a commit message.\n`
      )
  );
  process.exit(1);
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦ä¸€ç§æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;a href=&#34;https://www.npmjs.com/package/git-cz/v/4.2.0&#34;&gt;git-cz&lt;/a&gt; é€šè¿‡äº¤äº’çš„æ–¹å¼ç”Ÿæˆæ›´ä¸“ä¸šçš„commitï¼Œæ•ˆæœå¦‚ä¸‹&lt;br&gt;
&lt;img src=&#34;https://weidadeda.github.io/post-images/1642390440510.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">å¦‚ä½•è‡ªå®šä¹‰commitè§„èŒƒ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/js-dui-xiang-ji-cheng"" data-c="
          &lt;p&gt;ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰æŸäº›å±æ€§å’Œæ–¹æ³•ï¼Œå¦ä¸€ä¸ªå¯¹è±¡æœ‰ï¼Œæ‹¿è¿‡æ¥ä½¿ç”¨ï¼Œå°±æ˜¯ç»§æ‰¿&lt;/p&gt;
&lt;h3 id=&#34;ç»§æ‰¿çš„å®ç°æ–¹å¼&#34;&gt;ç»§æ‰¿çš„å®ç°æ–¹å¼&lt;/h3&gt;
&lt;h4 id=&#34;æ··å…¥å¼ç»§æ‰¿&#34;&gt;æ··å…¥å¼ç»§æ‰¿&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var obj = {};
var obj1 = {
    money : 10000000,
    car : 100,
    brand: &amp;quot;å¸ƒåŠ è¿ªå¨èˆª&amp;quot;,
    huaqian: function(){
        console.log(&amp;quot;ä¸å·®é’±ï¼Œéšä¾¿èŠ±&amp;quot;);
    }
};
console.log(obj);
for(var k in obj1){
    //money
    //car
    //brand
    //huaqian
    obj[k] = obj1[k];
}

console.log(obj);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;åŸå‹ç»§æ‰¿çš„æ–¹å¼&#34;&gt;åŸå‹ç»§æ‰¿çš„æ–¹å¼&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ä¿®æ”¹åŸå‹å®ç°çš„ç»§æ‰¿ å°±æ˜¯åŸå‹ç»§æ‰¿&lt;/li&gt;
&lt;li&gt;é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ç»§æ‰¿è‡ªæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;//Person.prototype
var human = {
    gender:&amp;quot;female&amp;quot;,
    height: 170,
    weight: 50
}
function Person(){
}
Person.prototype.name = &amp;quot;ç‹è‰è‰&amp;quot;;

for(var k in human){
    Person.prototype[k] = human[k];
}
var p = new Person();
console.log(p.name,p.gender,p.height,p.weight);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹åŸå‹å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;Person.prototype.maimeng = function (){
    console.log(&amp;quot;æ„Ÿè§‰è‡ªå·±èŒèŒå“’&amp;quot;);
}

p.maimeng();
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;æ›¿æ¢åŸå‹å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;Person.prototype = human;
var p = new Person();
console.log(p.gender);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç»å…¸ç»§æ‰¿&#34;&gt;ç»å…¸ç»§æ‰¿&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œå°±èƒ½å®ç°ç»§æ‰¿&lt;/li&gt;
&lt;li&gt;var obj1 = Object.create(obj)&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå‡ºæ¥ä¸€ä¸ªæ–°çš„ç»§æ‰¿è‡ªå‚æ•° obj çš„å¯¹è±¡ obj1&lt;/li&gt;
&lt;li&gt;å…¶å®å†…éƒ¨ä½¿ç”¨çš„å°±æ˜¯åŸå‹ç»§æ‰¿&lt;/li&gt;
&lt;li&gt;ES5æ‰æ”¯æŒçš„è¿™ä¸ªæ–¹æ³• éœ€è¦è€ƒè™‘å…¼å®¹æ€§é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var human = {
    name: &amp;quot;ç‹è‰è‰&amp;quot;,
    gender: &amp;quot;female&amp;quot;,
    dance :function(){
        console.log(&amp;quot;äºŒäººè½¬ï¼Œè½¬è½¬è½¬&amp;quot;)
    }
}
var obj = Object.create(human);

console.log(obj);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å¤„ç†ç»å…¸ç»§æ‰¿çš„å…¼å®¹æ€§é—®é¢˜&#34;&gt;å¤„ç†ç»å…¸ç»§æ‰¿çš„å…¼å®¹æ€§é—®é¢˜&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;if(Object.create){
    var obj = Object.create({name:&amp;quot;æç‹—äºŒ&amp;quot;,age:18});
}else{
    Object.create = function(obj){
		//åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¦å®ç°çš„åŠŸèƒ½
		//å°±æ˜¯ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°†objè®¾ç½®ä¸ºè¯¥å¯¹è±¡çš„åŸå‹

		//è¦è®¾ç½®åŸå‹ï¼Œåªèƒ½é€šè¿‡ä¸¤ç§æ–¹å¼ï¼Œ
		// ä¸€ç§æ˜¯ å¯¹è±¡.__proto__  å¦å¤–ä¸€ç§æ˜¯ æ„é€ å‡½æ•°.prototype
		//ç”±äº__proto__è¿™ä¸ªå±æ€§æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨
		//å°±åªèƒ½ä½¿ç”¨ æ„é€ å‡½æ•°.prototype å»æ›¿æ¢åŸå‹å¯¹è±¡äº†

        function F(){}
        F.prototype = obj;
        var result = new F();
        return result;
    }
}

//ä¸æ¨èç›´æ¥ä¿®æ”¹å†…ç½®å¯¹è±¡ï¼Œå› ä¸ºåœ¨å¤šäººå¼€å‘çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿå†²çª

Object.creat = function () {
    console.log(&amp;quot;æˆ‘æ˜¯æäºŒç‹—ï¼Œæˆ‘çš„createæ–¹æ³•å°±æ˜¯ç”¨æ¥è¾“å‡ºè¿™å¥è¯çš„ï¼Œå“ˆå“ˆå“ˆ&amp;quot;);
}

function hanyingxinCreate(obj){
    if(Object.create){
        return Object.creat(obj);
    }else{
        function F(){}
        F.prototype = obj;
        var result = new F();
        return result;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å†…å®¹è½¬è½½è‡ªï¼šhttps://blog.ihoey.com/posts/javascript/2016-06-15-javascript-inherit.html&lt;/p&gt;
">jså¯¹è±¡ç»§æ‰¿</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/guanxi"" data-c="
          &lt;h3 id=&#34;prototypeæ˜¾ç¤ºåŸå‹æ˜¯ç±»çš„åŸå‹æŒ‡å‘è¯¥æ–¹æ³•çš„åŸå‹å¯¹è±¡-protoéšå¼åŸå‹æ˜¯å¯¹è±¡çš„åŸå‹æŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡&#34;&gt;prototypeï¼ˆæ˜¾ç¤ºåŸå‹ï¼‰æ˜¯â€œç±»â€çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥æ–¹æ³•çš„åŸå‹å¯¹è±¡ã€‚&lt;strong&gt;proto&lt;/strong&gt;ï¼ˆéšå¼åŸå‹ï¼‰æ˜¯å¯¹è±¡çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚&lt;/h3&gt;
&lt;p&gt;JSå½“ç„¶æ²¡æœ‰â€œç±»â€ï¼Œåªæœ‰constructorã€‚&lt;br&gt;
constructorå°±æ˜¯å½“ä½ new fn()æ—¶çš„é‚£ä¸ªâ€œfnâ€ã€‚&lt;br&gt;
fnçš„æ—¶å€™ï¼Œäº§ç”Ÿçš„å®ä¾‹çš„__proto__æŒ‡å‘fn.prototypeï¼Œä¸¤è€…æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function Foo(){}
var foo = new Foo()
Foo.prototype.__proto__ === Object.prototype //true
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;prototypeï¼šæ¯ä¸€ä¸ªå‡½æ•°åœ¨åˆ›å»ºä¹‹åéƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªåä¸ºprototypeçš„å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;proto&lt;/strong&gt;ï¼šJavaScriptä¸­ä»»æ„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®å±æ€§[[prototype]]ï¼Œåœ¨ES5ä¹‹å‰æ²¡æœ‰æ ‡å‡†çš„æ–¹æ³•è®¿é—®è¿™ä¸ªå†…ç½®å±æ€§ï¼Œä½†æ˜¯å¤§å¤šæ•°æµè§ˆå™¨éƒ½æ”¯æŒé€šè¿‡__proto__æ¥è®¿é—®ã€‚ES5ä¸­æœ‰äº†å¯¹äºè¿™ä¸ªå†…ç½®å±æ€§æ ‡å‡†çš„Getæ–¹æ³•Object.getPrototypeOf().&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Note: Object.prototype è¿™ä¸ªå¯¹è±¡æ˜¯ä¸ªä¾‹å¤–ï¼Œå®ƒçš„__proto__å€¼ä¸ºnull&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;éšå¼åŸå‹æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°constructorçš„prototype&#34;&gt;éšå¼åŸå‹æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°(constructor)çš„prototype&lt;/h4&gt;
&lt;p&gt;__proto__çš„æŒ‡å‘åˆ°åº•å¦‚ä½•åˆ¤æ–­å‘¢ï¼Ÿæ ¹æ®ECMAå®šä¹‰ &#39;to the value of its constructorâ€™s &amp;quot;prototype&amp;quot; &#39; ----æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°ï¼‰çš„æ˜¾å¼åŸå‹ã€‚æ‰€ä»¥å…³é”®çš„ç‚¹åœ¨äºæ‰¾åˆ°åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œæ¥ä¸‹æ¥å°±æ¥çœ‹ä¸€ä¸‹JSä¸­å¯¹è±¡è¢«åˆ›å»ºçš„æ–¹å¼ï¼Œä¸€çœ¼çœ‹è¿‡å»ä¼¼ä¹æœ‰ä¸‰ç§æ–¹å¼ï¼šï¼ˆ1ï¼‰å¯¹è±¡å­—é¢é‡çš„æ–¹å¼ ï¼ˆ2ï¼‰new çš„æ–¹å¼ ï¼ˆ3ï¼‰ES5ä¸­çš„Object.create() ä½†æ˜¯æˆ‘è®¤ä¸ºæœ¬è´¨ä¸Šåªæœ‰ä¸€ç§æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡newæ¥åˆ›å»ºã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œé¦–å…ˆå­—é¢é‡çš„æ–¹å¼æ˜¯ä¸€ç§ä¸ºäº†å¼€å‘äººå‘˜æ›´æ–¹ä¾¿åˆ›å»ºå¯¹è±¡çš„ä¸€ä¸ªè¯­æ³•ç³–ï¼Œæœ¬è´¨å°±æ˜¯ var o = new Object(); o.xx = xx;o.yy=yy; å†æ¥çœ‹çœ‹Object.create(),è¿™æ˜¯ES5ä¸­æ–°å¢çš„æ–¹æ³•ï¼Œåœ¨è¿™ä¹‹å‰è¿™è¢«ç§°ä¸ºåŸå‹å¼ç»§æ‰¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çœ‹å‡ ä¸ªä¾‹å­ç»ƒä¹ ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;å†…å»ºå¯¹è±¡(built-in object)ï¼šæ¯”å¦‚Array()ï¼ŒArray.prototype.__proto__æŒ‡å‘ä»€ä¹ˆï¼ŸArray.prototypeä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å°±æ˜¯ç”± Object() è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„ï¼Œå› æ­¤Array.prototype.&lt;strong&gt;proto&lt;/strong&gt; === Object.prototype //trueï¼Œæˆ–è€…ä¹Ÿå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæ‰€æœ‰çš„å†…å»ºå¯¹è±¡éƒ½æ˜¯ç”±Object()åˆ›å»ºè€Œæ¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªå®šä¹‰å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function Foo(){}
var foo = new Foo()
Foo.prototype.__proto__ === Object.prototype //true ç†ç”±åŒä¸Š
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;//è¿™æ—¶æˆ‘ä»¬æƒ³è®©Fooç»§æ‰¿Bar
function Bar(){}
Foo.prototype = new Bar()
 Foo.prototype.__proto__ === Bar.prototype //true
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;//æˆ‘ä»¬ä¸æƒ³è®©Fooç»§æ‰¿è°ï¼Œä½†æ˜¯æˆ‘ä»¬è¦è‡ªå·±é‡æ–°å®šä¹‰Foo.prototype
Foo.prototype = {
  a:10,
  b:-10
}
//è¿™ç§æ–¹å¼å°±æ˜¯ç”¨äº†å¯¹è±¡å­—é¢é‡çš„æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ ¹æ®å‰æ–‡æ‰€è¿° 
Foo.prototype.__proto__ === Object.prototype
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šæƒ…å†µéƒ½ç­‰äºå®Œå…¨é‡å†™äº†Foo.prototypeï¼Œæ‰€ä»¥Foo.prototype.constructorä¹Ÿè·Ÿç€æ”¹å˜äº†ï¼Œäºæ˜¯ä¹constructorè¿™ä¸ªå±æ€§å’ŒåŸæ¥çš„æ„é€ å‡½æ•°Fooï¼ˆï¼‰ä¹Ÿå°±åˆ‡æ–­äº†è”ç³»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ­¤å¤–&#34;&gt;æ­¤å¤–ï¼š&lt;/h4&gt;
&lt;p&gt;æ„é€ å‡½æ•°Foo()é™¤äº†æ˜¯æ–¹æ³•ï¼Œä¹Ÿæ˜¯å¯¹è±¡å•Šï¼Œå®ƒä¹Ÿæœ‰__proto__å±æ€§ï¼ŒæŒ‡å‘è°å‘¢ï¼ŸæŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡å‘—ã€‚å‡½æ•°çš„æ„é€ å‡½æ•°ä¸å°±æ˜¯Functionå˜›ï¼Œå› æ­¤è¿™é‡Œçš„__proto__æŒ‡å‘äº†Function.prototypeã€‚å…¶å®é™¤äº†Foo()ï¼ŒFunction(), Object()ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚åŸå‹å¯¹è±¡ä¹Ÿæ˜¯å¯¹è±¡å•Šï¼Œå®ƒçš„__proto__å±æ€§ï¼ŒåˆæŒ‡å‘è°å‘¢ï¼ŸåŒç†ï¼ŒæŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡å‘—ã€‚è¿™é‡Œæ˜¯Object.prototype.æœ€åï¼ŒObject.prototypeçš„__proto__å±æ€§æŒ‡å‘nullã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ„é€ å‡½æ•°çš„éšå¼åŸå‹&#34;&gt;æ„é€ å‡½æ•°çš„éšå¼åŸå‹&lt;/h4&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯æ„é€ å‡½æ•°é‚£ä¹ˆå®ƒå°±æ˜¯Functionï¼ˆï¼‰çš„å®ä¾‹ï¼Œå› æ­¤ä¹Ÿå°±æŒ‡å‘Function.prototype,æ¯”å¦‚ Object.&lt;strong&gt;proto&lt;/strong&gt; === Function.prototype&lt;/p&gt;
&lt;h3 id=&#34;instanceof&#34;&gt;instanceof&lt;/h3&gt;
&lt;p&gt;instanceof æ“ä½œç¬¦çš„å†…éƒ¨å®ç°æœºåˆ¶å’Œéšå¼åŸå‹ã€æ˜¾å¼åŸå‹æœ‰ç›´æ¥çš„å…³ç³»ã€‚instanceofçš„å·¦å€¼ä¸€èˆ¬æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³å€¼ä¸€èˆ¬æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­å·¦å€¼æ˜¯å¦æ˜¯å³å€¼çš„å®ä¾‹ã€‚å®ƒçš„å†…éƒ¨å®ç°åŸç†æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;//è®¾ L instanceof R 
//é€šè¿‡åˆ¤æ–­
 L.__proto__.__proto__ ..... === R.prototype ï¼Ÿ
//æœ€ç»ˆè¿”å›true or false
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯æ²¿ç€Lçš„__proto__ä¸€ç›´å¯»æ‰¾åˆ°åŸå‹é“¾æœ«ç«¯ï¼Œç›´åˆ°ç­‰äºR.prototypeä¸ºæ­¢ã€‚çŸ¥é“äº†è¿™ä¸ªä¹Ÿå°±çŸ¥é“ä¸ºä»€ä¹ˆä»¥ä¸‹è¿™äº›å¥‡æ€ªçš„è¡¨è¾¾å¼ä¸ºä»€ä¹ˆä¼šå¾—åˆ°ç›¸åº”çš„å€¼äº†&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Function instanceof Object // true 
 Object instanceof Function // true 
 Function instanceof Function //true
 Object instanceof Object // true
 Number instanceof Number //false
&lt;/code&gt;&lt;/pre&gt;
">__proto__å’Œprototypeçš„åŒºåˆ«å’Œå…³ç³»ï¼Ÿ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://weidadeda.github.io/post/about"" data-c="
          &lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ å˜¿å˜¿ï¼ğŸ¤&lt;/p&gt;
&lt;h2 id=&#34;å…³äºæœ¬ç«™&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;å…³äºè¿™ä¸ªç«™å‘¢,å°±æ˜¯è®°å½•ä¸‹å¹³æ—¶è®°ä¸å¤ªä½çš„è¿˜æœ‰ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£å–œæ¬¢çš„ä¸€äº›ä¸œè¥¿
é¡ºä¾¿ä¹Ÿåˆ†äº«ç»™å¤§å®¶å§!
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å…³äºæˆ‘&#34;&gt;ğŸ‘¨â€ğŸ’» å…³äºæˆ‘&lt;/h2&gt;
&lt;p&gt;ä¸€åå‰ç«¯å¼€å‘ï¼Œ95åï¼Œç°å±…åŒ—äº¬ï¼Œå…»äº†ä¸¤åªçŒ«ï¼Œå–œæ¬¢å¥èº«ğŸ’ªå–œæ¬¢ç ”ç©¶å†å²ğŸ“’&lt;/p&gt;
&lt;h2 id=&#34;è”ç³»æˆ‘å‘€&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é‚®ç®±ï¼š18310536322@163.com&lt;/li&gt;
&lt;li&gt;å¾®ä¿¡ï¼š18310536322&lt;/li&gt;
&lt;/ul&gt;
">å…³äº</a>
      </div>
      
    </div>
  </div>
</div>
<script>
  // var escape = "[{&#34;content&#34;:&#34;&lt;h3 id=\&#34;ä¸€-èƒŒæ™¯\&#34;&gt;ä¸€ã€èƒŒæ™¯&lt;/h3&gt;\n&lt;p&gt;æˆ‘ä»¬çš„ç›´æ’­æŠ€æœ¯æ˜¯ä½¿ç”¨çš„zegoçš„sdkï¼Œå…¶å®æˆ‘ä»¬å’Œzegoå¯¹äºå°ç¨‹åºç›´æ’­åœºæ™¯æ˜¯å…±åŒæˆé•¿çš„ï¼Œæˆ‘ä»¬å¸®ä»–ä»¬è§£å†³äº†å¾ˆå¤šé—®é¢˜ï¼Œå‘ç°äº†å¾ˆå¤šé—®é¢˜ï¼Œæå‡ºäº†å¾ˆå¤šé—®é¢˜ï¼ŒåŒæ ·ä»–ä»¬ä¹Ÿå¸®æˆ‘ä»¬è§£å†³äº†å¾ˆå¤šé—®é¢˜ä¸æä¾›äº†å¾ˆå¤šæ–¹æ¡ˆï¼Œå› ä¸ºå°ç¨‹åºæ¨æ‹‰å¤šè·¯æµæ¯”è¾ƒå¤æ‚ï¼ŒåŠ ä¸Šæ²¡æœ‰å¤ªå¤šå¯å‚è€ƒçš„æ–‡ç« ï¼Œæ‰€ä»¥æ•´ç†å‡ºæ¥åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;äºŒ-é¡¹ç›®ä»‹ç»\&#34;&gt;äºŒã€é¡¹ç›®ä»‹ç»&lt;/h3&gt;\n&lt;p&gt;æˆ‘ä»¬çš„é¡¹ç›®æ˜¯åŸºäºreact-hooks + redux+ ts + Taro + Taro-UIæ­å»ºçš„ï¼Œæ˜¯ä¸€æ¬¾è§†é¢‘ç›¸äº²ç±»çš„å¾®ä¿¡å°ç¨‹åºã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;ä¸‰-æŠ€æœ¯æ¶æ„\&#34;&gt;ä¸‰ã€æŠ€æœ¯æ¶æ„&lt;/h3&gt;\n&lt;h4 id=\&#34;æŠ€æœ¯åŸºç¡€\&#34;&gt;æŠ€æœ¯åŸºç¡€&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;webpackçš„é…ç½®ï¼ˆæ˜ å®¢è„šæ‰‹æ¶è‡ªå¸¦ï¼‰&lt;/li&gt;\n&lt;li&gt;æ ·å¼ä½¿ç”¨scss&lt;/li&gt;\n&lt;li&gt;Typescriptçš„é…ç½®&lt;/li&gt;\n&lt;li&gt;é¡¹ç›®çš„è·¯ç”±çš„è®¾è®¡å’Œé…ç½®&lt;/li&gt;\n&lt;li&gt;é¡¹ç›®ç›®å½•ç»“æ„çš„è®¾è®¡å’Œé…ç½®&lt;/li&gt;\n&lt;li&gt;é¡¹ç›®é€šç”¨çš„ç»„ä»¶å°è£…&lt;/li&gt;\n&lt;li&gt;é¡¹ç›®çš„åˆ†åŒ…å¤„ç†&lt;/li&gt;\n&lt;li&gt;é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒåšçš„åŒ…ä½“ç§¯åˆ†æ&lt;/li&gt;\n&lt;li&gt;eslintåŠ prettieræ­é…ä½¿ç”¨ï¼Œè§£å†³æ¯ä¸ªäººç¼–ç æ–¹å¼ä¸åŒå¯¼è‡´çš„å†²çªï¼Œå¹¶ä¸”è®¾ç½®ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685423899209.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;å¼€å‘æµç¨‹\&#34;&gt;å¼€å‘æµç¨‹&lt;/h4&gt;\n&lt;h5 id=\&#34;é€šè¿‡dotenvè‡ªå®šä¹‰ik_envé€šè¿‡envæ–‡ä»¶å®šä¹‰æ¥åŒºåˆ†è¯¥ä½¿ç”¨ä¸åŒç¯å¢ƒçš„å„ç§å˜é‡å¦‚ä¸‹\&#34;&gt;é€šè¿‡dotEnvè‡ªå®šä¹‰IK_ENVï¼Œé€šè¿‡.envæ–‡ä»¶å®šä¹‰ï¼Œæ¥åŒºåˆ†è¯¥ä½¿ç”¨ä¸åŒç¯å¢ƒçš„å„ç§å˜é‡ï¼Œå¦‚ä¸‹ï¼š&lt;/h5&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685425793342.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685425801928.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685425938717.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685426039298.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h5 id=\&#34;git-commitæ ¡éªŒè§„èŒƒä»£ç æäº¤\&#34;&gt;git commitæ ¡éªŒï¼Œè§„èŒƒä»£ç æäº¤&lt;/h5&gt;\n&lt;pre&gt;&lt;code&gt;&amp;quot;gitHooks&amp;quot;: {\n  &amp;quot;pre-commit&amp;quot;: &amp;quot;lint-staged&amp;quot;,\n  &amp;quot;commit-msg&amp;quot;: &amp;quot;node .bin/verify-commit-msg.js&amp;quot;\n},\n&amp;quot;lint-staged&amp;quot;: {\n  &amp;quot;*.{ts, tsx}&amp;quot;: [\n    &amp;quot;prettier --config --write&amp;quot;\n  ]\n},\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const chalk = require(&#39;chalk&#39;)\nconst msgPath = process.env.GIT_PARAMS\nconst msg = require(&#39;fs&#39;).readFileSync(msgPath, &#39;utf-8&#39;).trim()\n\nconst commitRE =\n  /^(revert: )?(feat|fix|polish|docs|style|refactor|perf|test|workflow|ci|chore|types|build|tool|comment|rewrite|Merge|Revert)(\\(.+\\))?: .{1,50}|Merge|Revert /\n\nif (!commitRE.test(msg)) {\n  console.error(\n    `  ${chalk.bgRed.white(&#39; ERROR &#39;)} ${chalk.red(`invalid commit message format.`)}\\n\\n` +\n      chalk.red(`  Proper commit message format is required for automated changelog generation. Examples:\\n\\n`) +\n      `    ${chalk.green(`feat: add &#39;comments&#39; option`)}\\n` +\n      `    ${chalk.green(`fix: handle events on blur (close #28)`)}\\n\\n` +\n      chalk.red(`  You can also use ${chalk.cyan(`npm run commit`)} to interactively generate a commit message.\\n`)\n  )\n  process.exit(1)\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¦‚æœä¸æŒ‰ç…§è§„åˆ™æäº¤åˆ™ä¼šæäº¤å¤±è´¥å¹¶æç¤ºè¯¥å¦‚ä½•æäº¤&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685426148683.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nä¹Ÿå¯ä»¥è¿è¡Œnpm run commit&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;&amp;quot;commit&amp;quot;: &amp;quot;git-cz&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685426213792.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685426219051.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h5 id=\&#34;tså†™æ³•å®šä¹‰ä¸€ä¸ªç½‘ç»œè¯·æ±‚èƒ½ç»™ä¸¥æ ¼è¦æ±‚è¯·æ±‚å‚æ•°ä¸è¿”å›å€¼é˜²æ­¢å¼€å‘äººå‘˜ä»£ç é”™è¯¯\&#34;&gt;tså†™æ³•å®šä¹‰ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œèƒ½ç»™ä¸¥æ ¼è¦æ±‚è¯·æ±‚å‚æ•°ä¸è¿”å›å€¼ï¼Œé˜²æ­¢å¼€å‘äººå‘˜ä»£ç é”™è¯¯&lt;/h5&gt;\n&lt;details&gt;\n&lt;summary&gt;api.ts&lt;/summary&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-ts\&#34;&gt;import { serviceFetch } from &#39;config/api-roots&#39;\nexport interface resData&amp;lt;T = any&amp;gt; {\n  data: T\n  error_msg: string\n  dm_error: number\n}\n/**\n * è·å–å…³æ³¨çŠ¶æ€æ¥å£è¿”å›å€¼\n */\ninterface getFollowStatusApiRes {\n  /**\n   * å…³æ³¨çŠ¶æ€,0ä¸ºæœªå…³æ³¨,1å·²å…³æ³¨\n   */\n  follow_status: number\n  /**\n   * å…³æ³¨å…¬ä¼—å·çŠ¶æ€ï¼Œ0ä¸ºæœªå…³æ³¨ï¼Œ1ä¸ºå·²å…³æ³¨\n   */\n  subscribe_status: number\n  /**\n   * æ˜¯å¦å±•ç¤ºå…³æ³¨æŒ‰é’®,1å±•ç¤º,0ä¸å±•ç¤º\n   */\n  is_show_follow: number\n  /**\n   * å¤´åƒæ¡†\n   */\n  resource_frame_img: string\n}\n/**\n * è·å–å…³æ³¨çŠ¶æ€æ¥å£\n */\nexport const getFollowStatusApi: (params: { target_uid?: number }) =&amp;gt; resData&amp;lt;getFollowStatusApiRes&amp;gt; = serviceFetch({\n  url: &#39;/api/relation/follow/get_follow_status&#39;,\n  method: &#39;POST&#39;,\n  errorTips: true\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/details&gt;\n&lt;p&gt;å¦‚æœå†™é”™äº†ï¼Œåˆ™ä¼šæç¤ºï¼Œå–è¿”å›å­—æ®µä¹Ÿèƒ½ç²¾å‡†æç¤º&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685426335606.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685426342517.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685426348461.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h5 id=\&#34;æ„å»ºä¸Šçº¿æ—¶çš„å¤„ç†\&#34;&gt;æ„å»ºä¸Šçº¿æ—¶çš„å¤„ç†&lt;/h5&gt;\n&lt;p&gt;ä¼ ç»Ÿçš„ä¸Šçº¿äººå·¥æˆæœ¬å¤ªé«˜ï¼Œå› ä¸ºéœ€è¦äººä¸ºå¤„ç†çš„äº‹æƒ…å¤ªå¤šï¼Œå¯¹æ­¤æˆ‘ä»¬å†™äº†ä¸€ä¸ªè„šæœ¬æ¥å°†è¿™ä¸€ç³»åˆ—æµç¨‹ä¸²èµ·æ¥ã€‚&lt;br&gt;\n1ã€è‡ªåŠ¨å‡çº§é¡¹ç›®ç‰ˆæœ¬å·&lt;br&gt;\n2ã€è‡ªåŠ¨ç”Ÿæˆchanglog&lt;br&gt;\n3ã€è‡ªåŠ¨å°†æ‰“åŒ…å‡ºæ¥çš„åŒ…ä¸Šä¼ è‡³å¾®ä¿¡å°ç¨‹åºåå°&lt;br&gt;\n4ã€è‡ªåŠ¨å‘é€åˆå¹¶è¯·æ±‚&lt;br&gt;\n5ã€è‡ªåŠ¨å‘é€é’‰é’‰é€šçŸ¥ï¼ˆæ„å»ºäººï¼Œæ„å»ºç¯å¢ƒï¼Œæ„å»ºåˆ†æ”¯ï¼Œæ„å»ºç‰ˆæœ¬ï¼‰&lt;br&gt;\n6ã€å› ä¸ºå¾®ä¿¡å®¡æ ¸æœ‰é™åˆ¶ï¼Œæœ‰äº›åŠŸèƒ½åœ¨æäº¤å®¡æ ¸æ—¶ä¸èƒ½å±•ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥éœ€è¦è®©äº§å“/è¿è¥äººå‘˜æ›´æ”¹ä¸æ£€æŸ¥å®¡æ ¸ç‰ˆæœ¬å·ï¼Œé€šè¿‡é’‰é’‰@åŠŸèƒ½å®ç°&lt;/p&gt;\n&lt;details&gt;\n&lt;summary&gt;buildè„šæœ¬&lt;/summary&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const ora = require(&#39;ora&#39;)\nconst { exec, execSync } = require(&#39;child_process&#39;)\nconst inquirer = require(&#39;inquirer&#39;)\nlet colors = require(&#39;colors&#39;)\nconst ChatBot = require(&#39;dingtalk-robot-sender&#39;)\nconst spinner = ora(&#39;æ­£åœ¨æ„å»º...&#39;)\nconst ci = require(&#39;miniprogram-ci&#39;)\nconst robot = new ChatBot({\n  webhook:\n    &#39;https://oapi.dingtalk.com/robot/send?access_token=xxx&#39;\n})\nspinner.color = &#39;yellow&#39;\ncolors.setTheme({\n  silly: &#39;rainbow&#39;,\n  input: &#39;grey&#39;,\n  verbose: &#39;cyan&#39;,\n  prompt: &#39;grey&#39;,\n  info: &#39;green&#39;,\n  data: &#39;grey&#39;,\n  help: &#39;cyan&#39;,\n  warn: &#39;yellow&#39;,\n  debug: &#39;blue&#39;,\n  error: &#39;red&#39;\n})\nconst verMap = {\n  &#39;è¡¥ä¸ç‰ˆæœ¬é€’å¢0.0.1&#39;: &#39;patch&#39;,\n  &#39;å°ç‰ˆæœ¬é€’å¢0.1.0&#39;: &#39;minor&#39;,\n  &#39;å¤§ç‰ˆæœ¬é€’å¢1.0.0&#39;: &#39;major&#39;\n}\nlet selectVersion = &#39;&#39;\nconst openUrl = &#39;https://code.inke.cn/xxx&#39;\n/**\n * è·å–æäº¤äºº\n */\nconst lastCommitAuthor = execSync(`git config user.name`).toString().trim()\n/**\n * è·å–å½“å‰åˆ†æ”¯\n */\nconst currentBranch = execSync(`git symbolic-ref --short -q HEAD`).toString().trim()\n/**\n * git diff\n */\nfunction gitDiff(option, tips) {\n  const diff = execSync(`git diff ${option}`).toString().trim() // è·å–æ–°å¢æ–‡ä»¶\n  const arrDiff = diff.split(&#39;\\n&#39;).filter(Boolean)\n  if (arrDiff.length) {\n    console.log(\n      `ğŸ“› å½“å‰åˆ†æ”¯ ${currentBranch} æœ‰${tips}ï¼Œè¯·æäº¤åå†æ‰§è¡Œè¯¥å‘½ä»¤`.error,\n      `ğŸ“¦ ${tips}æ–‡ä»¶å¦‚ä¸‹: ${arrDiff}`.error\n    )\n    process.exit(0)\n  }\n}\n/**\n * æ£€æŸ¥å½“å‰åˆ†æ”¯æ˜¯å¦è¿˜æœ‰æœªæäº¤ä»£ç \n */\nfunction checkUnCommitedCode() {\n  gitDiff(&#39;--name-only&#39;, &#39;æœªæäº¤çš„ä»£ç &#39;) // diff æ˜¯å¦æœ‰æ–°å¢æ–‡ä»¶\n  gitDiff(&#39;--name-only --cached&#39;, &#39;æœªæäº¤çš„ä»£ç &#39;) // diff å·²æ·»åŠ åˆ°ç¼“å­˜åŒºçš„æ–‡ä»¶\n}\nasync function buildEnv() {\n  checkUnCommitedCode()\n  const { buildEnv } = await inquirer.prompt([\n    {\n      type: &#39;list&#39;,\n      name: &#39;buildEnv&#39;,\n      message: &#39;è¯·é€‰æ‹©æ„å»ºç¯å¢ƒ&#39;,\n      choices: [&#39;test&#39;, &#39;beta&#39;, &#39;online&#39;]\n    }\n  ])\n  if (buildEnv === &#39;online&#39;) {\n    try {\n      execSync(`bash .bin/check.sh`)\n    } catch (e) {\n      console.log(`æœ‰æœªåˆå¹¶çš„è¯·æ±‚ï¼Œè¯·å…ˆå®Œæˆåˆå¹¶è¯·æ±‚`.red, e.status)\n      robot.text(&#39;å­˜åœ¨æœªåˆå¹¶çš„è¯·æ±‚ï¼Œæ‰“åŒ…å¤±è´¥ï¼Œè¯·å…ˆåˆå¹¶&#39;, {\n        atMobiles: [&#39;18310536322&#39;],\n        isAtAll: false\n      })\n      process.exit(1)\n    }\n    const { version } = await inquirer.prompt({\n      type: &#39;list&#39;,\n      name: &#39;version&#39;,\n      default: &#39;è¡¥ä¸ç‰ˆæœ¬é€’å¢0.0.1&#39;,\n      message: &#39;é€‰æ‹©æ„å»ºç‰ˆæœ¬ç±»å‹&#39;,\n      choices: [&#39;none&#39;, &#39;è¡¥ä¸ç‰ˆæœ¬é€’å¢0.0.1&#39;, &#39;å°ç‰ˆæœ¬é€’å¢0.1.0&#39;, &#39;å¤§ç‰ˆæœ¬é€’å¢1.0.0&#39;]\n    })\n    selectVersion = version\n    if (version !== &#39;none&#39;) {\n      try {\n        execSync(`npm version ${verMap[version]} --no-git-tag`)\n        console.log(`æ›´æ–°ç‰ˆæœ¬å·å®Œæˆ`.info)\n        execSync(&#39;npm run changelog&#39;)\n        console.log(`ç”Ÿæˆchangelogå®Œæˆ`.info)\n      } catch (error) {\n        console.log(`æ›´æ–°ç‰ˆæœ¬å·å¤±è´¥${error}`.error)\n      }\n    }\n  }\n  spinner.start()\n  exec(`npm run build:weapp:${buildEnv}`, (e, sdtout, sdterr) =&amp;gt; {\n    const { version: currentVersion } = require(&#39;../package.json&#39;)\n    let noMergeDingContent = `\n              æ‰“åŒ…å®Œæˆâœ…\n              æ„å»ºäºº: ${lastCommitAuthor}\n              æ„å»ºç‰ˆæœ¬: ${currentVersion}\n              æ„å»ºç¯å¢ƒ: ${buildEnv}\n              æ„å»ºåˆ†æ”¯: ${currentBranch}\n              è¯¥ç‰ˆæœ¬å·²è‡ªåŠ¨ä¸Šä¼ ï¼Œè¯·åœ¨å°ç¨‹åºåå°é€‰ä¸ºä½“éªŒç‰ˆ\n            `\n    let hasMergeDingContent = `\n              æ‰“åŒ…å®Œæˆâœ…\n              æ„å»ºäºº: ${lastCommitAuthor}\n              æ„å»ºç‰ˆæœ¬: ${currentVersion}\n              æ„å»ºç¯å¢ƒ: ${buildEnv}\n              æ„å»ºåˆ†æ”¯: ${currentBranch}\n              åˆå¹¶åœ°å€: ${openUrl}\n              åˆå¹¶è¯·æ±‚å·²åˆ›å»ºï¼Œè¾›è‹¦å¤§ä½¬åˆå¹¶ï½\n            `\n    spinner.stop()\n    if (e) {\n      console.log(`æ„å»ºå¤±è´¥ï¼š${e}`.error)\n    } else {\n      console.log(sdtout)\n      console.log(sdterr)\n      let content = noMergeDingContent\n      let at = {}\n      if (buildEnv === &#39;online&#39;) {\n        try {\n          if (selectVersion !== &#39;none&#39;) {\n            content = hasMergeDingContent\n            at = {\n              atMobiles: [&#39;18310536322&#39;],\n              isAtAll: false\n            }\n          } else {\n            content = noMergeDingContent\n          }\n          if (selectVersion !== &#39;none&#39;) {\n            try {\n              execSync(`bash .bin/mr.sh`)\n              console.log(`åˆ›å»ºåˆå¹¶è¯·æ±‚å®Œæˆ`.info)\n            } catch (e) {\n              console.log(`åˆ›å»ºåˆå¹¶è¯·æ±‚å¤±è´¥`.red, e.status)\n            }\n          }\n        } catch (error) {\n          if (selectVersion !== &#39;none&#39;) {\n            console.log(`åˆ›å»ºåˆå¹¶è¯·æ±‚å¤±è´¥${error}`.error)\n          }\n        }\n      }\n      robot.text(content, at).then(async res =&amp;gt; {\n        if (!res.data.errcode) {\n          console.log(`é’‰é’‰é€šçŸ¥å®Œæˆ`.info)\n          const project = new ci.Project({\n            appid: &#39;xxxx&#39;,\n            type: &#39;miniProgram&#39;,\n            projectPath: &#39;build/weapp&#39;,\n            privateKeyPath: &#39;.bin/private.xxxx.key&#39;,\n            ignores: [&#39;node_modules/**/*&#39;]\n          })\n          const uploadResult = await ci.upload({\n            project,\n            version: currentVersion,\n            desc: `æ„å»ºäººï¼š${lastCommitAuthor}`,\n            setting: {\n              es6: false,\n              minifyJS: true,\n              minifyWXML: true\n            },\n            onProgressUpdate: console.log\n          })\n          console.log(&#39;è‡ªåŠ¨ä¸Šä¼ å·²å®Œæˆ&#39;.green)\n        } else {\n          console.log(`é’‰é’‰é€šçŸ¥å¤±è´¥${res.data.errmsg}`.error)\n        }\n      })\n    }\n  })\n}\nbuildEnv()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/details&gt;\n&lt;details&gt;\n&lt;summary&gt;mr.sh&lt;/summary&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-sh\&#34;&gt;#!/usr/bin\n\n# æäº¤MR\n\nPROJECT_ID=xxx\nPRIVATE_TOKEN=&amp;quot;xxx&amp;quot;\n# CURRENT_BRANCH=`git symbolic-ref --short -q HEAD`\nCURRENT_BRANCH=`git rev-parse HEAD`\n\necho ${CURRENT_BRANCH}\nTIME=$(date &amp;quot;+%Y%m%d%H%M%S&amp;quot;)\nNEW_BRANCH=&amp;quot;TaroBuild-${TIME}&amp;quot;\nGITLAB_HOST=&amp;quot;https://code.inke.cn&amp;quot;\n\n# åˆ›å»ºåˆ†æ”¯\ncurl --request POST --header &amp;quot;PRIVATE-TOKEN: ${PRIVATE_TOKEN}&amp;quot; &amp;quot;${GITLAB_HOST}/api/v4/projects/${PROJECT_ID}/repository/branches?branch=${NEW_BRANCH}&amp;amp;ref=${CURRENT_BRANCH}&amp;quot;\necho &amp;quot;\\næäº¤MR: æ·»åŠ ã€Œ${NEW_BRANCH}ã€åˆ†æ”¯å®Œæˆï¼&amp;quot;\n\n# MR data\nDATA=&amp;quot;{\\&amp;quot;id\\&amp;quot;:\\&amp;quot;${PROJECT_ID}\\&amp;quot;,\\&amp;quot;source_branch\\&amp;quot;:\\&amp;quot;${NEW_BRANCH}\\&amp;quot;,\\&amp;quot;target_branch\\&amp;quot;:\\&amp;quot;master\\&amp;quot;,\\&amp;quot;private_token\\&amp;quot;:\\&amp;quot;${PRIVATE_TOKEN}\\&amp;quot;,\\&amp;quot;title\\&amp;quot;:\\&amp;quot;Script Build Auto Submit Merge Resquest\\&amp;quot;,\\&amp;quot;description\\&amp;quot;:\\&amp;quot;æ„å»ºè‡ªåŠ¨æäº¤merge request\\&amp;quot;}&amp;quot;\n# åˆ›å»ºMR\ncurl -X POST -d &amp;quot;${DATA}&amp;quot; -H &amp;quot;Content-Type: application/json, PRIVATE-TOKEN: ${PRIVATE_TOKEN}&amp;quot; &amp;quot;${GITLAB_HOST}/api/v4/projects/${PROJECT_ID}/merge_requests&amp;quot;\necho &amp;quot;\\næäº¤MR: æäº¤MRå®Œæˆï¼&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/details&gt;\n&lt;details&gt;\n&lt;summary&gt;check.sh&lt;/summary&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-sh\&#34;&gt;#!/usr/bin\n\nPRIVATE_TOKEN=&amp;quot;xxx&amp;quot;\nGITLAB_HOST=&amp;quot;https://code.gitlab.cn&amp;quot;\nPROJECT_ID=xxx\n\nMR_LIST=`curl -X GET --header &amp;quot;PRIVATE-TOKEN: ${PRIVATE_TOKEN}&amp;quot; &amp;quot;${GITLAB_HOST}/api/v4/projects/${PROJECT_ID}/merge_requests?state=opened&amp;quot;`\nif [ ${MR_LIST} != &#39;[]&#39; ];then\n  echo &#39;å­˜åœ¨æœªåˆå¹¶çš„è¯·æ±‚&#39;\n  exit 1\nelse\n  echo &#39;ç»§ç»­æ‰§è¡Œ&#39;\nfi\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/details&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685428233851.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè‡ªåŠ¨ç”Ÿæˆçš„changelogï¼Œæ¯æœŸåšäº†ä»€ä¹ˆä¸€ç›®äº†ç„¶&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685428511981.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\né€šè¿‡è„šæœ¬è‡ªåŠ¨ä¸Šä¼ çš„æ„å»ºåŒ…&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬å’Œäº§å“åŒå­¦ä¸æµ‹è¯•åŒå­¦è¾¾æˆäº†ä¸€ä¸ªçº¦å®šçš„æ¨¡å¼ï¼Œæ¯æ¬¡ä¸Šçº¿ä¸æµ‹è¯•å¼€å‘åªç®¡è¿è¡Œå‘½ä»¤æ‰“å‡ºæ¥å¹¶è‡ªåŠ¨ä¸Šä¼ è‡³å°ç¨‹åºåå°ï¼Œå…¶ä»–çš„æ¯”å¦‚ä½“éªŒç‰ˆå°ç¨‹åºçš„åˆ‡æ¢ã€å°ç¨‹åºçš„æå®¡ã€å®¡æ ¸é€šè¿‡åå°ç¨‹åºçš„åˆ†æ‰¹å‘å¸ƒä¸å…¨é‡å‘å¸ƒç­‰èƒ½åœ¨åå°æ“ä½œçš„äº‹æƒ…å…¨éƒ½ç”±å¥¹ä»¬æ ¹æ®è‡ªå·±çš„éœ€è¦å»åšã€‚&lt;br&gt;\nè¿™æ ·æˆ‘ä»¬çš„å¼€å‘åŒå­¦åªéœ€è¦è¿è¡Œä¸€æ¡&lt;code&gt;yarn build&lt;/code&gt;å‘½ä»¤ï¼Œå…¶ä»–çš„ä»€ä¹ˆéƒ½ä¸ç”¨ç®¡äº†ï¼Œå¤§å¤§çš„æé«˜äº†æ•ˆç‡ã€‚ä¸ç„¶åˆ†å·¥å°±ä¼šä¸æ˜ç¡®ï¼Œå…¨éƒ½å¾—ç”±å¼€å‘åŒå­¦å»æ§åˆ¶ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436119226.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436124184.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436128819.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå¦‚æœé€‰æ‹©çº¿ä¸Šç¯å¢ƒï¼Œåˆ™ä¼šè¯¢é—®è¦æ„å»ºçš„ç‰ˆæœ¬ï¼Œé»˜è®¤é€’å¢0.0.1&lt;/p&gt;\n&lt;h4 id=\&#34;é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ\&#34;&gt;é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ&lt;/h4&gt;\n&lt;p&gt;å› ä¸ºå¾®ä¿¡å°ç¨‹åºæœ‰ç€ä¸¥æ ¼çš„åŒ…ä½“ç§¯é™åˆ¶ï¼Œæ‰“åŒ…ä¸Šä¼ æ—¶ä¸»åŒ…ä½“ç§¯ä¸èƒ½è¶…è¿‡2Mï¼Œå¼€å‘ç¯å¢ƒé¢„è§ˆå’ŒçœŸæœºè°ƒè¯•æ—¶ä¸»åŒ…ä½“ç§¯ä¸èƒ½è¶…è¿‡4Mï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹åŒ…ä½“ç§¯åšä¸€äº›å¤„ç†ï¼Œå¯¹æ­¤æˆ‘ä»¬åšäº†ä»¥ä¸‹æ“ä½œï¼š&lt;br&gt;\n1ã€åˆ†åŒ…ï¼ˆä¸»åŒ…æ”¾é¦–é¡µçš„ä¸šåŠ¡ï¼Œå…¶ä»–çš„éƒ½æ”¾åˆ°åˆ†åŒ…ä¸­ï¼Œåˆ†åŒ…å¯ä»¥åˆ†å¤šä¸ªï¼ŒæŒ‰ä¸šåŠ¡æ¨¡å—è¿›è¡Œåˆ†åŒ…ï¼Œå¤§å®¶éƒ½çŸ¥é“å°±ä¸å¤šè¯´äº†ï¼‰&lt;br&gt;\n2ã€æ¨¡å—ä¸npmåŒ…çš„æŒ‰éœ€åŠ è½½ï¼Œæ¯”å¦‚taro-uiã€lodashç­‰&lt;br&gt;\n3ã€å¼€å‘ç¯å¢ƒå¼€å¯ä»£ç å‹ç¼©&lt;br&gt;\n4ã€å¦‚æœè¶…è¿‡äº†åŒ…ä½“ç§¯é™åˆ¶ï¼Œåˆ™å¼€å¯åŒ…ä½“ç§¯åˆ†ææ’ä»¶ï¼Œçœ‹çœ‹å“ªäº›åœ°æ–¹è¿˜éœ€è¦ä¼˜åŒ–ï¼Œå¦‚ä¸‹å›¾&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436207249.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;å››-ä¸šåŠ¡æ¶æ„\&#34;&gt;å››ã€ä¸šåŠ¡æ¶æ„&lt;/h3&gt;\n&lt;p&gt;æˆ‘ä»¬ä¸šåŠ¡ä¸­å¯¹äºå…¶ä»–å°ç¨‹åºéœ€è¦è¯´çš„ä¸»è¦è¿˜æ˜¯éŸ³è§†é¢‘ä¸IMï¼Œå…¶ä»–çš„æˆ‘ä¸ªäººè§‰å¾—å€’æ˜¯æ²¡å¿…è¦è¯¦ç»†è¯´ï¼Œä½†æœ‰ä¸€äº›æœ‰ç”¨çš„å’Œä¸€äº›å‘ç‚¹è¿˜æ˜¯å¯ä»¥åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºç›´æ’­\&#34;&gt;å°ç¨‹åºç›´æ’­&lt;/h4&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436315130.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\næˆ¿é—´å†…éŸ³è§†é¢‘ä¸æ¶ˆæ¯æ¶æ„&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436362392.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;#####ï¼ˆ1ï¼‰è¿›æˆ¿æµç¨‹&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436411870.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;è¿›å…¥æˆ¿é—´ä¹‹å‰&lt;br&gt;\nå°è£…æˆå…¬ç”¨æ–¹æ³•ï¼Œé€šè¿‡ç‚¹å‡»é¦–é¡µå¡ç‰‡è°ƒç”¨ï¼Œç‚¹å‡»åˆ«äººåˆ†äº«çš„å°ç¨‹åºå¡ç‰‡è°ƒç”¨ï¼Œç‚¹å‡»åˆ«äººèµ„æ–™é¡µç›´æ’­ä¸­çŠ¶æ€å¤´åƒè°ƒç”¨ï¼Œå¤§å…ä¸­åŒæ„é‚€è¯·æ—¶è°ƒç”¨ï¼Œç‚¹å‡»æˆ¿é—´é£˜å±æ—¶è°ƒç”¨ç­‰ç­‰ã€‚&lt;br&gt;\n1ã€å…ˆè°ƒç”¨æœåŠ¡ç«¯åŠ å…¥æˆ¿é—´æ¥å£&lt;br&gt;\n2ã€åˆ¤æ–­è‡ªå·±æ˜¯å¦åœ¨æ¨æµï¼Œæ¨æµä¸­ä¸å…è®¸è·³è½¬&lt;br&gt;\n3ã€åˆ¤æ–­è¦è¿›å…¥çš„æˆ¿é—´ç±»å‹&lt;br&gt;\n4ã€å®ç°è·³è½¬å¯¹åº”æˆ¿é—´å¹¶ä¸”æŠŠæœåŠ¡ç«¯è¿”å›çš„æˆ¿é—´ä¿¡æ¯ä¸æ˜¯å¦é‚€è¯·ç­‰å‚æ•°å¸¦åˆ°æˆ¿é—´ä¸­&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è¿›å…¥æˆ¿é—´ä¹‹å&lt;br&gt;\nä»¥ä¸‹æµä¿¡æ¯æ˜¯æŒ‡æµidä¸æµçš„é™„åŠ ä¿¡æ¯ã€‚&lt;/p&gt;\n&lt;p&gt;å°†æœåŠ¡ç«¯è¿”å›çš„live_idä½œä¸ºæˆ¿é—´å·ï¼ŒåŠ å…¥zegoæˆ¿é—´ã€åŠ å…¥èäº‘æˆ¿é—´ï¼Œå°†æˆ¿é—´ä¸­ä½¿ç”¨åˆ°çš„ä¿¡æ¯ä¸ç”¨æˆ·è§’è‰²ç­‰å…¨éƒ½æ”¾åœ¨reduxä¸­ï¼Œå¯ä¾›å„ä¸ªç»„ä»¶ä½¿ç”¨ã€‚&lt;/p&gt;\n&lt;p&gt;å¯¹äºæ¨æµç«¯ï¼Œéœ€è¦å°†æ¨æµäººçš„ä¿¡æ¯æ”¾åˆ°æµçš„é¢å¤–ä¿¡æ¯ä¸­ï¼Œä½†zegoåªæ”¯æŒä¼ å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠè¦ä¼ çš„å‚æ•°åšä¸€ä¸‹å­—ç¬¦ä¸²å¤„ç†&lt;/p&gt;\n&lt;p&gt;å°†æµç›¸å…³çš„ä¿¡æ¯å…¨éƒ½ç»„è£…åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚éº¦ä½ä¿¡æ¯ã€æµidã€éº¦å…‹é£é™éŸ³çŠ¶æ€ã€æ˜¯å¦æ˜¯å…è´¹ä¸Šéº¦ã€ç”¨æˆ·æ€§åˆ«ç­‰ï¼Œé€šè¿‡ä¼ å‚æ”¾åˆ°æ¯ä¸ªæˆ‘ä»¬è‡ªå®šä¹‰çš„æµç»„ä»¶ä¸­&lt;/p&gt;\n&lt;p&gt;æ”¶åˆ°æ–­çº¿é‡è¿æ—¶ï¼Œéœ€è¦å…ˆåœæ­¢æ¨æµï¼Œç„¶åé‡æ–°å¼€å§‹æ¨æµï¼Œé‡è¯•ä¸‰æ¬¡ä¸æˆåŠŸï¼Œåˆ™æç¤ºã€‚&lt;/p&gt;\n&lt;p&gt;ç‚¹å‡»é™éŸ³æ—¶ï¼Œéœ€è¦ç»™è¦é™éŸ³çš„äººå‘é€æ¶ˆæ¯ï¼Œç„¶åç›®æ ‡äººæ”¶åˆ°æ¶ˆæ¯æ—¶å»å°†è‡ªå·±çš„éº¦å…‹é£å…³æ‰ï¼Œå¹¶ä¸”æ›´æ–°è‡ªå·±çš„æµä¿¡æ¯&lt;/p&gt;\n&lt;p&gt;ä¸Šéº¦ä¹‹å‰æ ¡éªŒæ˜¯å¦å¼€å¯éŸ³è§†é¢‘æƒé™&lt;/p&gt;\n&lt;p&gt;æ¥æ”¶åˆ°æµå˜åŒ–ä¹‹åå¯¹éº¦ä½ä¸Šçš„æµè¿›è¡Œå¯¹åº”çš„æ–°å¢å’Œåˆ é™¤&lt;/p&gt;\n&lt;p&gt;æ”¶åˆ°zegoæˆ¿é—´æ–­å¼€è¿æ¥çŠ¶æ€æ—¶ï¼Œéœ€è¦å¯¹æ¯”æ–­å¼€çš„æˆ¿é—´ä¸å½“å‰æˆ¿é—´æ˜¯å¦ä¸€è‡´ï¼ˆå‘ç‚¹ï¼‰&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¦‚ä½•å†³å®šæ˜¯æ¨æµè¿˜æ˜¯æ‹‰æµ&lt;br&gt;\næˆ‘ä»¬çš„ä¸šåŠ¡æœ€å¤šèƒ½æœ‰ä¸ƒè·¯æµï¼Œä½ç½®ä¿¡æ¯æ˜¯æ ¹æ®æœåŠ¡ç«¯è¿”å›çš„ï¼Œæ˜¯æ ¹æ®èº«ä»½æ¥åˆ¤æ–­æ˜¯å¦æ¨æµï¼Œæˆ‘ä»¬ç›®å‰æœ‰å››ç§ï¼Œ&lt;br&gt;\n1æˆ¿ä¸»ï¼ˆä¸€ç›´æ¨æµï¼‰ã€2éº¦ä¸Šå˜‰å®¾ï¼ˆæ¨æµï¼Œä¸‹éº¦æ—¶åœæ­¢æ¨æµå¹¶åˆ‡æ¢èº«ä»½ä¸º3ï¼‰ã€3éº¦ä¸‹è§‚ä¼—ï¼ˆæ‹‰æµï¼‰ã€4éšèº«äººç£å¯¼ï¼ˆæ‹‰æµï¼‰&lt;br&gt;\næ¯ä¸€ä¸ªéº¦ä½éƒ½æ˜¯æ”¾çš„æˆ‘ä»¬è‡ªå·±å°è£…çš„ç»„ä»¶ï¼Œç»„ä»¶å†…æ ¹æ®ä¼ å…¥çš„èº«ä»½è‡ªå·±åˆ¤æ–­æ˜¾ç¤ºæ¨æµç»„ä»¶å’Œæ‹‰æµç»„ä»¶&lt;/p&gt;\n&lt;p&gt;æ¨æµç»„ä»¶æ˜¯ç”¨çš„å°ç¨‹åºè‡ªå¸¦çš„&lt;live-pusher/&gt;&lt;a href=\&#34;https://developers.weixin.qq.com/miniprogram/dev/component/live-pusher.html\&#34;&gt;ç»„ä»¶&lt;/a&gt;ï¼Œæ‹‰æµç»„ä»¶æ˜¯ç”¨çš„å°ç¨‹åºè‡ªå¸¦çš„&lt;live-player/&gt;ç»„ä»¶ï¼Œå¼€é€šéœ€è¦ç±»ç›®å®¡æ ¸&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;é€€å‡ºæˆ¿é—´&lt;br&gt;\nå°†æˆ¿é—´ç›¸å…³çš„reduxå…¨éƒ¨é‡æ–°åˆå§‹åŒ–&lt;br&gt;\næ¸…ç©ºæ‰€æœ‰å®šæ—¶å™¨&lt;br&gt;\nè°ƒç”¨æœåŠ¡ç«¯é€€å‡ºæˆ¿é—´æ¥å£&lt;br&gt;\né”€æ¯æ‰€æœ‰ç›‘å¬äº‹ä»¶&lt;br&gt;\né€€å‡ºèäº‘æˆ¿é—´ä¸zegoæˆ¿é—´&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h5 id=\&#34;2å¼‚å¸¸åœºæ™¯å¤„ç†\&#34;&gt;ï¼ˆ2ï¼‰å¼‚å¸¸åœºæ™¯å¤„ç†&lt;/h5&gt;\n&lt;p&gt;å…³äºåˆ‡åå°çš„æƒ…å†µï¼Œæˆ‘ä»¬æ•´ç†äº†å¦‚ä¸‹è¡¨ç°&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685436885815.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;æ¨æµæƒ…å†µä¸‹ï¼Œå½“åˆ‡åå°è¶…è¿‡90sï¼Œzegoçš„æœåŠ¡ç«¯ï¼ˆå¿ƒè·³æ—¶é—´90sï¼‰ä¼šå°†æµåˆ é™¤ï¼Œå›åˆ°å‰å°çš„æ—¶å€™æˆ‘ä»¬éœ€è¦æš‚åœæ¨æµåŒæ—¶è°ƒç”¨å°ç¨‹åºç»„ä»¶çš„åœæ­¢æ¨æµï¼Œç„¶åé‡æ–°zegoæ¨æµåŠ å°ç¨‹åºç»„ä»¶æ¨æµï¼Œæ³¨æ„éœ€è¦zegoå’Œæ¨æµç»„ä»¶åŒæ—¶åœæ­¢ä¸å¼€å§‹ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ¨æµæƒ…å†µä¸‹ï¼Œåˆ‡åå°90så†…å›æ¥ï¼Œåˆ™ä¸éœ€è¦åšå…¶ä»–æ“ä½œï¼Œzegoä¼šè‡ªåŠ¨é‡è¿&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ‹‰æµæƒ…å†µä¸‹ï¼Œå¯¹äºåˆ‡åå°ä¸éœ€è¦åšä»»ä½•å¤„ç†ï¼Œç›¸å¯¹ç¨³å®šï¼Œåªè¦æœ‰æµè¿‡æ¥å°±èƒ½å±•ç¤º&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¦‚æœå› ä¸ºç½‘ç»œé—®é¢˜ï¼Œzegoè¿æ¥ä¸­çŠ¶æ€å’Œå·²è¿æ¥çŠ¶æ€ç›¸å·®90sä»¥ä¸Š5åˆ†é’Ÿä»¥å†…ï¼Œåˆ™éœ€è¦é‡æ–°æ‰§è¡Œä¸Šè¿°å…³æµæ¨æµï¼Œ5åˆ†é’Ÿä¸€ç›´éƒ½æ˜¯è¿æ¥ä¸­çŠ¶æ€ï¼Œzegoä¼šè‡ªåŠ¨èµ°åˆ°æ–­å¼€è¿æ¥å›æ‰ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¦‚æœæˆ¿é—´å¼‚å¸¸æ–­å¼€æˆ–è€…ç½‘ç»œå¼‚å¸¸ç™»å½•è¶…æ—¶ï¼Œåˆ™éœ€è¦é‡æ–°åŠ å…¥zegoæˆ¿é—´ï¼Œç„¶ååˆ¤æ–­è‡ªå·±ä¹‹å‰æ˜¯å¦åœ¨éº¦ï¼Œåœ¨éº¦æ‰§è¡Œç”¨æˆ·é‡æ–°æ¨æµé€»è¾‘ï¼Œé‡æ¨3æ¬¡ä¾ç„¶å¤±è´¥ï¼Œåˆ™é€€å‡ºæˆ¿é—´&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h5 id=\&#34;3æ€§èƒ½ä¼˜åŒ–\&#34;&gt;ï¼ˆ3ï¼‰æ€§èƒ½ä¼˜åŒ–&lt;/h5&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºæµï¼šå› ä¸ºæ˜¯å¤šè·¯æµï¼Œæ‰€ä»¥æ¯”è¾ƒåƒæ€§èƒ½å’Œç½‘ç»œï¼Œå¯ä»¥å°†æ¨æµç»„ä»¶çš„maxBitrateå‚æ•°è®¾ç½®çš„å°ä¸€äº›ï¼Œåˆ†è¾¨ç‡ä¹Ÿå¯ä»¥å°ä¸€äº›ï¼Œæˆ‘ä»¬è¿™è¾¹è®¾ç½®çš„æœ€å¤§ç ç‡ä¸ºä¸ƒäººé—´150ï¼Œä¸‰äººé—´300ï¼Œå®½é«˜æ¯”è®¾ç½®ä¸º3:4ï¼Œè§†é¢‘å®½é«˜ä¸º180*240ã€‚å¯èƒ½å¤§å®¶çœ‹è¿™ä¸ªå‚æ•°è§‰å¾—ä¼šç³Šï¼Œè¯·å¤§å®¶æ”¾å¿ƒï¼Œæˆ‘ä»¬ç»è¿‡å®è·µï¼Œè¿™æ ·ä¸ä¼šçœ‹ç€ç‰¹åˆ«æ¨¡ç³Šã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºç½‘ç»œè¯·æ±‚ï¼šwx.requestå‘èµ·çš„è€—æ—¶è¶…è¿‡ 300ms çš„è¯·æ±‚å¹¶å‘æ•°ä¸è¶…è¿‡ 10 ä¸ªï¼Œè°ƒç”¨æ—¶éœ€è¦èŠ‚æµå¤„ç†&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºèŠ‚ç‚¹æ•°ï¼šé¡µé¢å†…æ˜¾ç¤ºè¶…è¿‡1000ä¸ªèŠ‚ç‚¹ä¼šç™½å±ï¼Œéœ€è¦åˆç†å¤„ç†ï¼Œæ¯”å¦‚å¯¹äºåˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºè¿ç»­é€ç¤¼åœºæ™¯ç­‰ï¼Œèƒ½å¤Ÿè¿ç»­æ”¶åˆ°æ¶ˆæ¯ä¸æ–­æ›´æ–°reduxçš„ï¼Œåˆ™å…ˆå­˜åˆ°é˜Ÿåˆ—ä¸­ï¼Œå°†æ•°æ®æ‰¹é‡ä¼ ç»™redux&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºåŒæ—¶è¦æ›´æ”¹å¤šä¸ªreduxçš„namespaceä¸­å†…å®¹çš„ï¼Œå¯ä»¥ä½¿ç”¨redux-batchè¿›è¡Œæ•´åˆæ›´æ”¹ï¼Œè€Œä¸æ˜¯è°ƒç”¨å¤šæ¡&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ä»£ç ç¼–å†™æ—¶æœ€å¥½ä½¿ç”¨usecallbackä¸usememoï¼Œå¯¹äºæ›´æ–°é¢‘ç¹çš„ï¼Œè¦ä¸¥æ ¼ä½¿ç”¨usecallbackæˆ–è€…shouldComponentUpdateç­‰è¿›è¡Œå¯¹æ¯”ï¼Œé¿å…å¤šæ¬¡æ¸²æŸ“&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºéœ€è¦åŠ è½½çš„ä¸ä¼šå˜åŒ–çš„é™æ€èµ„æºï¼Œæ¯”å¦‚æ¸¸æˆçš„åŠ¨ç”»æ–‡ä»¶ï¼Œå¯ä»¥é¦–æ¬¡ä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åˆ°ç”¨æˆ·æœ¬åœ°ï¼Œåé¢ç›´æ¥ä»æœ¬åœ°è·å–&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¤§æ–‡ä»¶é¢„åŠ è½½ï¼Œä½†è¦æ³¨æ„å–èˆï¼Œå…¨éƒ½æ”¾åœ¨é¦–é¡µä¼šå ç”¨ä¸»åŒ…ä½“ç§¯ã€‚èƒ½ä¸Šcdnçš„å°½é‡ä¸Šcdnï½&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h5 id=\&#34;4é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ\&#34;&gt;ï¼ˆ4ï¼‰é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ&lt;/h5&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;live-pusheræ¨æµç»„ä»¶ä¸­çš„autopushå±æ€§éœ€è¦è®¾ç½®ä¸ºfalseï¼Œå› ä¸ºéƒ½æ˜¯å‘ï¼Œå¼€å‘ä¸­ä¼šé‡åˆ°-1301çš„é”™è¯¯ç ï¼Œæ˜¯å°ç¨‹åºçš„å…¼å®¹æ€§bugã€‚é¡ºä¾¿è¯´ä¸‹-1301çš„è§£å†³æ–¹æ¡ˆ&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;åœ¨æœ‰é—®é¢˜çš„æœºå™¨ä¸Šé¢ï¼Œå°† autopush è®¾ç½®ä¸º falseï¼Œé¿å…è‡ªåŠ¨æ¨æµï¼›&lt;/li&gt;\n&lt;li&gt;åœ¨å¼€å§‹æ¨æµå‰ï¼Œè®¾ç½®æ‘„åƒå¤´å’Œéº¦å…‹é£ä¸ºå…³é—­çŠ¶æ€&lt;/li&gt;\n&lt;li&gt;æ‹¿åˆ°å®é™…å¯æ¨æµçš„ url åï¼Œå…ˆå¼€å¯æ‘„åƒå¤´ã€éº¦å…‹é£ï¼Œå†å¯åŠ¨æ¨æµ&lt;/li&gt;\n&lt;li&gt;åœ¨æ¨æµçš„ç»„ä»¶ bindstatechange ç»‘å®šçš„ onPushStateChange äº‹ä»¶å›è°ƒ code ä¸º -1307 -1301 ç­‰é”™è¯¯æ˜¯ï¼Œåœæ­¢æ¨æµã€ é‡æ–°æ¨æµ&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ä½¿ç”¨zegoæ—¶ï¼Œä»–ä»¬æä¾›ä¸¤ç§æ¥å…¥æ–¹å¼ï¼Œéœ€è¦é€‰æ‹©æ—§ç‰ˆæœ¬ï¼Œå› ä¸ºæ–°ç‰ˆæœ¬ä¸æ”¯æŒTaroã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¦‚ä½•ä½¿ç›´æ’­åˆ‡æ¢äº†é¡µé¢è¿˜èƒ½å¬åˆ°å£°éŸ³ï¼šéœ€è¦å°†LivePlayerç»„ä»¶çš„autoPauseIfNavigateå’ŒautoPauseIfOpenNavigateå±æ€§è®¾ç½®ä¸ºfalse&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;é™éŸ³å¤±æ•ˆé—®é¢˜ï¼šéœ€è¦å°†livePusherå®ä¾‹çš„setMICVolumeæ–¹æ³•çš„volumeå­—æ®µè®¾ç½®ä¸º0ï¼Œlivepushç»„ä»¶çš„å±æ€§çš„enableMicæœ‰æ—¶ä¼šä¸ç”Ÿæ•ˆ&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;åœ¨å°ç¨‹åºç«¯ï¼Œç”¨æˆ·çš„æ‰‹æœºå·¦æ»‘é€€å‡ºæˆ‘ä»¬æ— æ³•æ§åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥åœ¨é¡µé¢ç»„ä»¶é”€æ¯æ—¶è®¤ä¸ºä»–é€€å‡ºäº†æˆ¿é—´&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºç¾é¢œ\&#34;&gt;å°ç¨‹åºç¾é¢œ&lt;/h4&gt;\n&lt;p&gt;ä½¿ç”¨çš„æ˜¯å°ç¨‹åºè‡ªå¸¦çš„æ¨æµç»„ä»¶ç¾é¢œï¼Œåœ¨æˆ¿é—´å¤–é€‰æ‹©å®Œç¾ç™½æ»¤é•œåå¸¦å…¥åˆ°æˆ¿é—´å†…çš„æ¨æµç»„ä»¶ä¸­ã€‚é‡åˆ°é»‘å±çš„æƒ…å†µï¼Œéœ€è¦å…ˆåœæ­¢é¢„è§ˆå†å¯åŠ¨é¢„è§ˆ&lt;/p&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºæ”¯ä»˜\&#34;&gt;å°ç¨‹åºæ”¯ä»˜&lt;/h4&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685437229551.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\næˆ‘ä»¬ä½¿ç”¨çš„v2ç‰ˆæœ¬ï¼ŒsignTypeé€‰æ‹©çš„â€˜MD5â€™ï¼Œå…¶å®è¿™é‡Œè°ƒè¯•è¿˜æ˜¯æ¯”è¾ƒè´¹æ—¶é—´çš„ï¼Œä½†ä¸»è¦è¿˜æ˜¯å’Œåç«¯è”è°ƒæ—¶åç«¯è¿”å›çš„å‚æ•°æœ‰é—®é¢˜ã€‚å°ç¨‹åºçš„æ”¯ä»˜ç›¸æ¯”äºå…¬ä¼—å·çš„æ”¯ä»˜ï¼Œå‰ç«¯è¦ç®€å•çš„å¤šã€‚&lt;br&gt;\nå‰ç«¯éœ€è¦å°†ç”¨æˆ·çš„wx.loginçš„codeç ä¼ ç»™åç«¯ï¼Œåç«¯å¯ä»¥å»æ¢å–openidï¼Œnoncestrã€signã€prepayidç­‰å‚æ•°è¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯å»è°ƒç”¨wx.requestPaymentæ–¹æ³•ï¼Œå°†ä¸Šé¢æœåŠ¡ç«¯è¿”å›çš„å‚æ•°ä¼ ç»™å¾®ä¿¡ï¼Œå°±èƒ½å¤ŸæˆåŠŸè°ƒèµ·å¾®ä¿¡æ”¯ä»˜ï¼ŒæˆåŠŸä¸å¤±è´¥éƒ½æœ‰ç›¸å…³å›æ‰ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºåˆ†äº«\&#34;&gt;å°ç¨‹åºåˆ†äº«&lt;/h4&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1685437278552.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå¯¹äºåˆ†äº«ï¼Œæ¯”è¾ƒå¤æ‚çš„å°±æ˜¯åˆ†äº«è¿›æˆ¿ï¼Œå¦‚æœè¢«åˆ†äº«çš„ç”¨æˆ·æ˜¯ç™»å½•è¿‡çš„ï¼Œåˆ™ä¸éœ€è¦åšå¤ªå¤šå¤„ç†ï¼Œä½†çœŸå®åœºæ™¯å¾€å¾€æ˜¯æœªç™»å½•çš„æƒ…å†µå±…å¤šï¼Œæ‰€ä»¥éœ€è¦å…ˆè·³è½¬ç™»å½•ï¼Œå¼€å§‹æˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯å°†å‚æ•°å¸¦åˆ°ç™»å½•é¡µï¼Œä½†éšç€ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ‘ä»¬æ”¾å¼ƒäº†è¿™ç§æ–¹å¼ï¼Œé‡‡ç”¨å°†å‚æ•°ç›´æ¥æ”¾åˆ°reduxä¸­ã€‚ä½†æ˜¯æ€æƒ³éƒ½ä¸€æ ·ï¼Œå°±æ˜¯è¦æŠŠå‚æ•°è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºåŠ¨ç”»\&#34;&gt;å°ç¨‹åºåŠ¨ç”»&lt;/h4&gt;\n&lt;p&gt;å°ç¨‹åºä¸­æ’­æ”¾åŠ¨ç”»æ˜¯ä½¿ç”¨canvasè¿›è¡Œæ’­æ”¾ï¼Œä½¿ç”¨spineæ ¼å¼å’Œsvgaæ ¼å¼ä¸¤ç§åŠ¨ç”»ï¼Œæ¨èspineæ ¼å¼ï¼Œä½†ä»ç„¶éœ€è¦å¯¹æ—§çš„svgaæ ¼å¼çš„ç¤¼ç‰©åŠ¨ç”»åšå…¼å®¹&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºsvgaæ ¼å¼çš„ç¤¼ç‰©ï¼Œä½¿ç”¨svgaplayer-weappè¿™ä¸ªåº“ï¼Œå¦‚æœé‡åˆ°åŠ¨ç”»æ’­æ”¾æ…¢çš„é—®é¢˜ï¼Œåˆ™éœ€è¦å°†æ–‡ä»¶æå‰åŠ è½½ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹äºspineæ ¼å¼çš„ç¤¼ç‰©ï¼Œå› ä¸ºç¤¾åŒºä¸Šå¯¹äºspineæ ¼å¼åŠ¨ç”»è§£å†³æ–¹æ¡ˆå¾ˆå°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå·±å°è£…äº†æ”¯æŒspineåŠ¨ç”»çš„åº“ã€‚&lt;br&gt;\nåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åŠ¨ç”»æ— æ³•æ’­æ”¾æ—¶ï¼Œå°ç¨‹åºcanvas 2d çš„ç”»å¸ƒæœ‰ 4096 å¤§å°é™åˆ¶ã€‚æ’­æ”¾ä¸€äº›ç¤¼ç‰©çš„spineåŠ¨ç”»æ—¶ï¼Œç¤¼ç‰©è¿‡å¤§ï¼Œéœ€è¦å°†ç¤¼ç‰©å°ºå¯¸é™¤2ï¼Œç„¶åèµ‹å€¼ç»™canvasã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ’­æ”¾åŠ¨ç”»éŸ³æ•ˆçš„å‘ï¼šå¯¹äºå°ç¨‹åºiosçš„é™éŸ³æ¨¡å¼createInnerAudioContextå£°éŸ³ä¸æ’­æ”¾é—®é¢˜ï¼Œéœ€è¦å…¨å±€æŠŠwx.setInnerAudioOptionçš„obeyMuteSwitchè®¾ç½®ä¸ºfalse,è¿™æ ·å³ä½¿æ˜¯åœ¨é™éŸ³æ¨¡å¼ä¸‹ï¼Œä¹Ÿèƒ½æ’­æ”¾å£°éŸ³ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºå‡çº§\&#34;&gt;å°ç¨‹åºå‡çº§&lt;/h4&gt;\n&lt;p&gt;æˆ‘ä»¬ç›®å‰å…¨éƒ½æ˜¯é‡‡ç”¨çš„å¼ºåˆ¶å‡çº§ï¼Œåªæœ‰ç¡®å®šæŒ‰é’®ï¼Œç‚¹å‡»ç¡®å®šå°±ä¼šç«‹åˆ»è¿›è¡Œé‡å¯å¹¶å‡çº§ã€‚ä»£ç å¦‚ä¸‹&lt;/p&gt;\n&lt;details&gt;\n&lt;summary&gt;æ›´æ–°å°ç¨‹åºä»£ç &lt;/summary&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;/*\n * @Date: 2022-05-30 15:27:36\n * @LastEditors: ç‹å¤§ä¼Ÿ\n * @LastEditTime: 2022-06-15 22:00:21\n */\nimport Taro from &#39;@tarojs/taro&#39;\nexport const updateWeapp = (isForce?: boolean): void =&amp;gt; {\n  function tipModal(updateManager) {\n    Taro.showModal({\n      title: &#39;æ›´æ–°æç¤º&#39;,\n      content: &#39;æ–°ç‰ˆæœ¬å·²ç»å‡†å¤‡å¥½ï¼Œæ˜¯å¦é©¬ä¸Šé‡å¯å°ç¨‹åºï¼Ÿ&#39;,\n      showCancel: false,\n      success: function (res) {\n        if (res.confirm) {\n          // æ–°çš„ç‰ˆæœ¬å·²ç»ä¸‹è½½å¥½ï¼Œè°ƒç”¨ applyUpdate åº”ç”¨æ–°ç‰ˆæœ¬å¹¶é‡å¯\n          updateManager.applyUpdate()\n        } else {\n          if (isForce) {\n            // æ–°ç‰ˆæœ¬çš„å°ç¨‹åºéœ€è¦ç­‰ä¸‹ä¸€æ¬¡å†·å¯åŠ¨æ‰ä¼šä½¿ç”¨ï¼Œæ‰€ä»¥è®©ç”¨æˆ·å¼ºåˆ¶æ›´æ–°\n            tipModal(updateManager)\n          }\n        }\n      }\n    })\n  }\n  if (process.env.TARO_ENV === &#39;weapp&#39;) {\n    const updateManager = Taro.getUpdateManager()\n    updateManager.onCheckForUpdate(function (res) {\n      // è¯·æ±‚å®Œæ–°ç‰ˆæœ¬ä¿¡æ¯çš„å›è°ƒ\n      console.log(&#39;æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬: &#39;, res)\n      if (res.hasUpdate) {\n        updateManager.onUpdateReady(function () {\n          console.log(&#39;å‡†å¤‡å¥½æ›´æ–°&#39;)\n          tipModal(updateManager)\n        })\n\n        updateManager.onUpdateFailed(function () {\n          // æ–°çš„ç‰ˆæœ¬ä¸‹è½½å¤±è´¥\n          console.log(&#39;æ–°çš„ç‰ˆæœ¬ä¸‹è½½å¤±è´¥,èµ°è‡ªåŠ¨å¼‚æ­¥æ›´æ–°&#39;)\n        })\n      }\n    })\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/details&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºwebview\&#34;&gt;å°ç¨‹åºwebview&lt;/h4&gt;\n&lt;p&gt;é…ç½®ä¸å…¬ä¼—å·ã€‚å°ç¨‹åºä¸­åŠ è½½webviewï¼Œåªèƒ½å…¨å‡­åŠ è½½ï¼Œè€Œä¸”ç½‘é¡µçš„åŸŸåéœ€è¦åœ¨å°ç¨‹åºåå°é…ç½®æˆä¸šåŠ¡åŸŸåï¼Œæœ‰ä¸€ç§æƒ…å†µæ˜¯ä¸éœ€è¦çš„ï¼Œå°±æ˜¯åŠ è½½ä¸æ­¤å°ç¨‹åºç›¸å…³è”çš„å…¬ä¼—å·é¡µé¢æ—¶ï¼Œè¿™éœ€è¦å»å…¬ä¼—å·çš„åå°å»é…ç½®å…³è”å°ç¨‹åºã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;å°ç¨‹åºå›¾ç‰‡\&#34;&gt;å°ç¨‹åºå›¾ç‰‡&lt;/h4&gt;\n&lt;p&gt;ä½ç«¯æœºå‹ä¸æ”¯æŒwebpï¼Œéœ€è¦å¯¹å›¾ç‰‡åšå¤„ç†ï¼Œæ£€æµ‹åˆ°ä¸æ”¯æŒwebpæ ¼å¼åˆ™å±•ç¤ºjpgæ ¼å¼å›¾ç‰‡ï¼Œä¸ç„¶æ— æ³•åŠ è½½ï¼Œæ£€æµ‹æ˜¯å¦æ”¯æŒwebpæ ¼å¼ä»£ç å¦‚ä¸‹&lt;/p&gt;\n&lt;details&gt;\n&lt;summary&gt;webpå›¾ç‰‡æ”¯æŒæ£€æµ‹&lt;/summary&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;/**\n * webpå›¾ç‰‡æ”¯æŒæ£€æµ‹\n * @returns support æ˜¯å¦æ”¯æŒwebpå›¾ç‰‡\n */\nfunction detectWebp() {\n  if (_webpSupport === undefined) {\n    let support = false\n\n    try {\n      let _wx$getSystemInfoSync = wx.getSystemInfoSync(),\n        platform = _wx$getSystemInfoSync.platform,\n        system = _wx$getSystemInfoSync.system\n      // æ£€æµ‹IOSç³»ç»Ÿwebpæ”¯æŒ\n      let versionResult = /[0-9.]*$/.exec(system)\n      let systemVersion = versionResult ? versionResult[0] : &#39;&#39;\n      let iosSystemSupport = platform === &#39;ios&#39; &amp;amp;&amp;amp; !!systemVersion &amp;amp;&amp;amp; compareVersion(systemVersion, &#39;14.0&#39;) &amp;gt;= 0\n\n      support = platform === &#39;devtools&#39; || platform === &#39;android&#39; || iosSystemSupport\n\n      _webpSupport = support\n    } catch (e) {\n      console.log(e)\n      _webpSupport = false\n    }\n  }\n  return _webpSupport\n}\nfunction compareVersion(v1, v2) {\n  v1 = v1.split(&#39;.&#39;)\n  v2 = v2.split(&#39;.&#39;)\n  const len = Math.max(v1.length, v2.length)\n  while (v1.length &amp;lt; len) {\n    v1.push(&#39;0&#39;)\n  }\n  while (v2.length &amp;lt; len) {\n    v2.push(&#39;0&#39;)\n  }\n  for (let i = 0; i &amp;lt; len; i++) {\n    const num1 = parseInt(v1[i])\n    const num2 = parseInt(v2[i])\n    if (num1 &amp;gt; num2) {\n      return 1\n    } else if (num1 &amp;lt; num2) {\n      return -1\n    }\n  }\n  return 0\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/details&gt;\n&#34;,&#34;fileName&#34;:&#34;wo-men-shi-ru-he-cong-ling-dao-yi-da-jian-zhi-bo-xiao-cheng-xu-de&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;æˆ‘ä»¬æ˜¯å¦‚ä½•ä»é›¶åˆ°ä¸€æ­å»ºç›´æ’­å°ç¨‹åºçš„&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2022-12-16 13:14:05&#34;,&#34;dateFormat&#34;:&#34;2022-12-16&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/wo-men-shi-ru-he-cong-ling-dao-yi-da-jian-zhi-bo-xiao-cheng-xu-de&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;21 min read&#34;,&#34;time&#34;:1249000,&#34;words&#34;:5192,&#34;minutes&#34;:21},&#34;description&#34;:&#34;ä¸€ã€èƒŒæ™¯\næˆ‘ä»¬çš„ç›´æ’­æŠ€æœ¯æ˜¯ä½¿ç”¨çš„zegoçš„sdkï¼Œå…¶å®æˆ‘ä»¬å’Œzegoå¯¹äºå°ç¨‹åºç›´æ’­åœºæ™¯æ˜¯å…±åŒæˆé•¿çš„ï¼Œæˆ‘ä»¬å¸®ä»–ä»¬è§£å†³äº†å¾ˆå¤šé—®é¢˜ï¼Œå‘ç°äº†å¾ˆå¤šé—®é¢˜ï¼Œæå‡ºäº†å¾ˆå¤šé—®é¢˜ï¼ŒåŒæ ·ä»–ä»¬ä¹Ÿå¸®æˆ‘ä»¬è§£å†³äº†å¾ˆå¤šé—®é¢˜ä¸æä¾›äº†å¾ˆå¤šæ–¹æ¡ˆï¼Œå› ä¸ºå°ç¨‹åºæ¨æ‹‰å¤šè·¯æµæ¯”è¾ƒå¤æ‚ï¼ŒåŠ ä¸Š...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80-%E8%83%8C%E6%99%AF\&#34;&gt;ä¸€ã€èƒŒæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C-%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D\&#34;&gt;äºŒã€é¡¹ç›®ä»‹ç»&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%89-%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84\&#34;&gt;ä¸‰ã€æŠ€æœ¯æ¶æ„&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80\&#34;&gt;æŠ€æœ¯åŸºç¡€&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B\&#34;&gt;å¼€å‘æµç¨‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%80%9A%E8%BF%87dotenv%E8%87%AA%E5%AE%9A%E4%B9%89ik_env%E9%80%9A%E8%BF%87env%E6%96%87%E4%BB%B6%E5%AE%9A%E4%B9%89%E6%9D%A5%E5%8C%BA%E5%88%86%E8%AF%A5%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%8E%AF%E5%A2%83%E7%9A%84%E5%90%84%E7%A7%8D%E5%8F%98%E9%87%8F%E5%A6%82%E4%B8%8B\&#34;&gt;é€šè¿‡dotEnvè‡ªå®šä¹‰IK_ENVï¼Œé€šè¿‡.envæ–‡ä»¶å®šä¹‰ï¼Œæ¥åŒºåˆ†è¯¥ä½¿ç”¨ä¸åŒç¯å¢ƒçš„å„ç§å˜é‡ï¼Œå¦‚ä¸‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#git-commit%E6%A0%A1%E9%AA%8C%E8%A7%84%E8%8C%83%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4\&#34;&gt;git commitæ ¡éªŒï¼Œè§„èŒƒä»£ç æäº¤&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#ts%E5%86%99%E6%B3%95%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E8%83%BD%E7%BB%99%E4%B8%A5%E6%A0%BC%E8%A6%81%E6%B1%82%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%B8%8E%E8%BF%94%E5%9B%9E%E5%80%BC%E9%98%B2%E6%AD%A2%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AF\&#34;&gt;tså†™æ³•å®šä¹‰ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œèƒ½ç»™ä¸¥æ ¼è¦æ±‚è¯·æ±‚å‚æ•°ä¸è¿”å›å€¼ï¼Œé˜²æ­¢å¼€å‘äººå‘˜ä»£ç é”™è¯¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9E%84%E5%BB%BA%E4%B8%8A%E7%BA%BF%E6%97%B6%E7%9A%84%E5%A4%84%E7%90%86\&#34;&gt;æ„å»ºä¸Šçº¿æ—¶çš„å¤„ç†&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%97%AE%E9%A2%98%E5%92%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\&#34;&gt;é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9B%9B-%E4%B8%9A%E5%8A%A1%E6%9E%B6%E6%9E%84\&#34;&gt;å››ã€ä¸šåŠ¡æ¶æ„&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B4%E6%92%AD\&#34;&gt;å°ç¨‹åºç›´æ’­&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#2%E5%BC%82%E5%B8%B8%E5%9C%BA%E6%99%AF%E5%A4%84%E7%90%86\&#34;&gt;ï¼ˆ2ï¼‰å¼‚å¸¸åœºæ™¯å¤„ç†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96\&#34;&gt;ï¼ˆ3ï¼‰æ€§èƒ½ä¼˜åŒ–&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\&#34;&gt;ï¼ˆ4ï¼‰é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BE%8E%E9%A2%9C\&#34;&gt;å°ç¨‹åºç¾é¢œ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%94%AF%E4%BB%98\&#34;&gt;å°ç¨‹åºæ”¯ä»˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%88%86%E4%BA%AB\&#34;&gt;å°ç¨‹åºåˆ†äº«&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8A%A8%E7%94%BB\&#34;&gt;å°ç¨‹åºåŠ¨ç”»&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8D%87%E7%BA%A7\&#34;&gt;å°ç¨‹åºå‡çº§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8Fwebview\&#34;&gt;å°ç¨‹åºwebview&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%9B%BE%E7%89%87\&#34;&gt;å°ç¨‹åºå›¾ç‰‡&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;blockquote&gt;\n&lt;p&gt;æš‚æ—¶æ€§æ­»åŒº(TDZ)æ˜¯é’ˆå¯¹&#39;const&#39;,&#39;let&#39;è¿™ä¸¤ä¸ªå…³é”®å­—è€Œäº§ç”Ÿçš„æ¦‚å¿µã€‚&lt;br&gt;\né¦–å…ˆå˜é‡æå‡è¿™ä¸ªjsçš„åŸºæœ¬æ¦‚å¿µæ— æ³•æ’¼åŠ¨ï¼Œ&#39;const&#39;å’Œ&#39;let&#39;ä½œä¸ºå—çº§ä½œç”¨åŸŸä¹Ÿä¸èƒ½é¿å…ã€‚&lt;br&gt;\nå’Œ&#39;var&#39;ä¸åŒï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—å°†ä½œç”¨åŸŸé™åˆ¶åœ¨äº†â€˜å—â€™ä¸­ï¼Œä¸”è§„å®šäº†åœ¨è¯¥å—ä¸­ï¼Œç”±è¿™ä¸¤ä¸ªå…³é”®å­—å®šä¹‰çš„å˜é‡å·²ç»è¢«åˆ†é…å†…å­˜ã€‚&lt;br&gt;\nå³å…¶å®å·²ç»&#39;å­˜åœ¨&#39;äº†ï¼Œä½†ç¨‹åºæœªæ‰§è¡Œåˆ°å£°æ˜å¤„æ—¶ï¼Œè®¿é—®è¯¥å˜é‡éƒ½ä¼šæŠ¥å¼•ç”¨é”™è¯¯ã€‚&lt;br&gt;\nè¿™ä¸ªæ—¶å€™ï¼Œå¯¹äºè¯¥å˜é‡æ¥è¯´å°±æ˜¯&#39;æš‚æ—¶æ€§æ­»åŒº&#39;ï¼Œé€šä¿—æ¥è¯´å°±æ˜¯è¯¥å˜é‡å­˜åœ¨ï¼Œä½†å¹¶æœªå®Œå…¨å­˜åœ¨&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;if (true) {\n  // TDZå¼€å§‹\n  tmp = &#39;abc&#39;; // ReferenceError\n  console.log(tmp); // ReferenceError\n\n\n  let tmp; // TDZç»“æŸ\n  console.log(tmp); // undefined\n\n\n  tmp = 123;\n  console.log(tmp); // 123\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ï¼Œåœ¨letå‘½ä»¤å£°æ˜å˜é‡tmpä¹‹å‰ï¼Œéƒ½å±äºå˜é‡tmpçš„â€œæ­»åŒºâ€&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;var tmp = 123;\nif (true) {\n  tmp = &#39;abc&#39;; // ReferenceError\n  let tmp;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ï¼Œå­˜åœ¨å…¨å±€å˜é‡tmpï¼Œä½†æ˜¯å—çº§ä½œç”¨åŸŸå†…letåˆå£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡tmpï¼Œå¯¼è‡´åè€…ç»‘å®šè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨letå£°æ˜å˜é‡å‰ï¼Œå¯¹tmpèµ‹å€¼ä¼šæŠ¥é”™ã€‚&lt;/p&gt;\n&lt;p&gt;ES6 æ˜ç¡®è§„å®šï¼Œå¦‚æœåŒºå—ä¸­å­˜åœ¨letå’Œconstå‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// ä¸æŠ¥é”™\nvar x = x;\n// æŠ¥é”™\nlet x = x;\n// ReferenceError: x is not defined\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¸Šé¢ä»£ç æŠ¥é”™ï¼Œä¹Ÿæ˜¯å› ä¸ºæš‚æ—¶æ€§æ­»åŒºã€‚ä½¿ç”¨letå£°æ˜å˜é‡æ—¶ï¼Œåªè¦å˜é‡åœ¨è¿˜æ²¡æœ‰å£°æ˜å®Œæˆå‰ä½¿ç”¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚ä¸Šé¢è¿™è¡Œå°±å±äºè¿™ä¸ªæƒ…å†µï¼Œåœ¨å˜é‡xçš„å£°æ˜è¯­å¥è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆå‰ï¼Œå°±å»å–xçš„å€¼ï¼Œå¯¼è‡´æŠ¥é”™â€x æœªå®šä¹‰â€œ&lt;/p&gt;\n&lt;p&gt;æœ¬æ–‡è½¬è½½è‡ªhttps://blog.csdn.net/zzzzz111333/article/details/122562000&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;js-zan-shi-xing-si-qu&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;jsæš‚æ—¶æ€§æ­»åŒº&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2022-04-15 11:10:36&#34;,&#34;dateFormat&#34;:&#34;2022-04-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/js-zan-shi-xing-si-qu&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:105000,&#34;words&#34;:465,&#34;minutes&#34;:2},&#34;description&#34;:&#34;\næš‚æ—¶æ€§æ­»åŒº(TDZ)æ˜¯é’ˆå¯¹&#39;const&#39;,&#39;let&#39;è¿™ä¸¤ä¸ªå…³é”®å­—è€Œäº§ç”Ÿçš„æ¦‚å¿µã€‚\né¦–å…ˆå˜é‡æå‡è¿™ä¸ªjsçš„åŸºæœ¬æ¦‚å¿µæ— æ³•æ’¼åŠ¨ï¼Œ&#39;const&#39;å’Œ&#39;let&#39;ä½œä¸ºå—çº§ä½œç”¨åŸŸä¹Ÿä¸èƒ½é¿å…ã€‚\nå’Œ&#39;var&#39;ä¸åŒï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—å°†ä½œç”¨åŸŸé™åˆ¶åœ¨äº†â€˜å—â€™ä¸­ï¼Œä¸”è§„å®šäº†...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;æœ€è¿‘åœ¨æè§†é¢‘ç›´æ’­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåŠŸèƒ½æ˜¯è§†é¢‘é•œåƒï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§å®ç°æ–¹å¼ã€‚&lt;br&gt;\nä¸€ç§æ˜¯è€å¸ˆç«¯ç‚¹å‡»é•œåƒï¼Œé€šè¿‡cssæŠŠè‡ªå·±çš„videoæ ‡ç­¾é•œåƒï¼Œç„¶åå‘é€ä¿¡ä»¤ç»™å­¦ç”Ÿç«¯ï¼Œå­¦ç”Ÿç«¯æ”¶åˆ°æ¶ˆæ¯ä¹‹åä¹Ÿé€šè¿‡csså»å®ç°é•œåƒï¼›&lt;br&gt;\nç¬¬äºŒç§å°±æ˜¯è€å¸ˆç«¯å¯¹è§†é¢‘æµåšä¸€ä¸ªé•œåƒå¤„ç†ï¼Œå­¦ç”Ÿç«¯æ— éœ€æ“ä½œï¼Œå¾ˆæ˜¾ç„¶ç¬¬äºŒç§æ–¹æ³•æ¯”è¾ƒå¥½ï¼›&lt;/p&gt;\n&lt;p&gt;æ€ä¹ˆå®ç°å¯¹è§†é¢‘æµçš„é•œåƒå‘¢ï¼Œé¦–å…ˆè¦çŸ¥é“çš„å°±æ˜¯è§†é¢‘æ˜¯ç”±ä¸€å¸§å¸§çš„å›¾ç‰‡ç»„åˆè€Œæˆï¼Œæˆ‘ä»¬è¦å¯¹è§†é¢‘æµé•œåƒï¼Œé¦–å…ˆè¦å¯¹å›¾ç‰‡è¿›è¡Œé•œåƒã€‚&lt;/p&gt;\n&lt;p&gt;å¯¹å›¾ç‰‡é•œåƒçš„è¯ï¼Œå°±è¦å¯¹ImageDataåšå¤„ç†&lt;br&gt;\né¦–å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ImageDataï¼š&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ImageData æ¥å£æè¿° canvas å…ƒç´ çš„ä¸€ä¸ªéšå«åƒç´ æ•°æ®çš„åŒºåŸŸã€‚ä½¿ç”¨ ImageData() æ„é€ å‡½æ•°åˆ›å»ºæˆ–è€…ä½¿ç”¨å’Œ canvas åœ¨ä¸€èµ·çš„ CanvasRenderingContext2D å¯¹è±¡çš„åˆ›å»ºæ–¹æ³•ï¼š createImageData() å’Œ getImageData()ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ putImageData() è®¾ç½® canvas çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h4 id=\&#34;æˆ‘ä»¬å…ˆä»¥æ—‹è½¬å›¾ç‰‡ä¸ºä¾‹å­åšä¸ªè¯´æ˜\&#34;&gt;æˆ‘ä»¬å…ˆä»¥æ—‹è½¬å›¾ç‰‡ä¸ºä¾‹å­åšä¸ªè¯´æ˜&lt;/h4&gt;\n&lt;h5 id=\&#34;åŸºæœ¬åŸç†1åƒç´ çŸ©é˜µå˜æ¢\&#34;&gt;åŸºæœ¬åŸç†1â€”â€”åƒç´ çŸ©é˜µå˜æ¢&lt;/h5&gt;\n&lt;p&gt;ImageDataå¯¹è±¡ä¸­å­˜å‚¨ç€canvaså¯¹è±¡çœŸå®çš„åƒç´ æ•°æ®ï¼Œå®ƒåŒ…å«ä»¥ä¸‹å‡ ä¸ªåªè¯»å±æ€§ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;width  å›¾ç‰‡å®½åº¦ï¼Œå•ä½æ˜¯åƒç´ &lt;/li&gt;\n&lt;li&gt;height  å›¾ç‰‡é«˜åº¦ï¼Œå•ä½æ˜¯åƒç´ &lt;/li&gt;\n&lt;li&gt;data  &lt;a href=\&#34;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray\&#34;&gt;Uint8ClampedArray&lt;/a&gt;ç±»å‹çš„ä¸€ç»´æ•°ç»„ï¼ŒåŒ…å«ç€RGBAæ ¼å¼çš„æ•´å‹æ•°æ®ï¼ŒèŒƒå›´åœ¨0è‡³255ä¹‹é—´ï¼ˆåŒ…æ‹¬255ï¼‰ã€‚&lt;br&gt;\ndataå±æ€§è¿”å›ä¸€ä¸ª Uint8ClampedArrayï¼Œå®ƒå¯ä»¥è¢«ä½¿ç”¨ä½œä¸ºæŸ¥çœ‹åˆå§‹åƒç´ æ•°æ®ã€‚æ¯ä¸ªåƒç´ ç”¨4ä¸ª1byteså€¼(æŒ‰ç…§çº¢ï¼Œç»¿ï¼Œè“å’Œé€æ˜å€¼çš„é¡ºåº; è¿™å°±æ˜¯&amp;quot;RGBA&amp;quot;æ ¼å¼) æ¥ä»£è¡¨ã€‚æ¯ä¸ªé¢œè‰²å€¼éƒ¨ä»½ç”¨0è‡³255æ¥ä»£è¡¨ã€‚æ¯ä¸ªéƒ¨ä»½è¢«åˆ†é…åˆ°ä¸€ä¸ªåœ¨æ•°ç»„å†…è¿ç»­çš„ç´¢å¼•ï¼Œå·¦ä¸Šè§’åƒç´ çš„çº¢è‰²éƒ¨ä»½åœ¨æ•°ç»„çš„ç´¢å¼•0ä½ç½®ã€‚åƒç´ ä»å·¦åˆ°å³è¢«å¤„ç†ï¼Œç„¶åå¾€ä¸‹ï¼Œéå†æ•´ä¸ªæ•°ç»„ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;å…·ä½“è¯·çœ‹&lt;a href=\&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas\&#34;&gt;åƒç´ æ“ä½œ&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬é€šè¿‡ImageDataå¯ä»¥å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ ç‚¹åšæ“ä½œã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦å°†å›¾ç‰‡å‘å³æ—‹è½¬90åº¦&lt;/p&gt;\n&lt;p&gt;ä¸€ä¸ª 4 Ã— 3 åƒç´ çš„åŸå§‹å›¾ç‰‡ï¼Œå¯ä»¥çœ‹ä½œå¦‚ä¸‹å½¢å¼çš„åƒç´ çŸ©é˜µ Aï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858122464.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå›¾ç‰‡å‘å³æ—‹è½¬ 90Â°ï¼Œå®è´¨å°±æ˜¯è®¾æ³•å°† A å˜ä¸º Aâ€™ â€”â€”&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858132107.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè¿™å¯ä»¥é€šè¿‡åŸçŸ©é˜µä¸€æ¬¡ è½¬ç½®ã€ä¸å¤šæ¬¡åˆç­‰ åˆ— å˜æ¢ï¼ˆé€†åºæ’åˆ—å„åˆ—ï¼‰å¾—åˆ°ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858162556.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nåŒç†ï¼Œå›¾ç‰‡å‘å·¦æ—‹è½¬ 90Â°ï¼Œå®é™…ä¸Šå°±æ˜¯å¾—åˆ°çŸ©é˜µ Aâ€™&#39; ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858170777.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè¿™å¯ä»¥é€šè¿‡åŸçŸ©é˜µä¸€æ¬¡ è½¬ç½®ã€ä¸å¤šæ¬¡åˆç­‰ è¡Œ å˜æ¢ï¼ˆé€†åºæ’åˆ—å„è¡Œï¼‰å¾—åˆ°â€”â€”&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858177575.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h5 id=\&#34;åŸºæœ¬åŸç†2åƒç´ æ•°ç»„ä¸çŸ©é˜µçš„å¯¹åº”å…³ç³»\&#34;&gt;åŸºæœ¬åŸç†2â€”â€”åƒç´ æ•°ç»„ä¸çŸ©é˜µçš„å¯¹åº”å…³ç³»&lt;/h5&gt;\n&lt;p&gt;ç”±äº ImageData.data å¯¹åº”ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹äº 4 Ã— 3 çš„å›¾ç‰‡è€Œè¨€ï¼ŒImageData.data å°±æ˜¯ä¸€ä¸ªå…·æœ‰ 48 ä¸ªå…ƒç´ çš„æ•°ç»„ Dï¼Œä¸å¦¨æ¯ä¸ªå…ƒç´ çš„å€¼å°±æ˜¯å…¶ä¸‹æ ‡å€¼ï¼Œåˆ™ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;D=[0,1,2,3,4,5,6,7...44,45,46,47]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å…¶ä¸­ï¼š&lt;br&gt;\nå…ƒç»„ (0, 1, 2, 3) è¡¨ç¤ºç¬¬ 1(= 0 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(0, 1, 2, 3/255)ï¼›&lt;br&gt;\nå…ƒç»„ (4, 5, 6, 7) è¡¨ç¤ºç¬¬ 2(= 4 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(4, 5, 6, 7/255)ï¼›&lt;br&gt;\nå…ƒç»„ (8, 9, 10, 11) è¡¨ç¤ºç¬¬ 3(= 8 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(8, 9, 10, 11/255)ï¼›&lt;br&gt;\nâ€¦&lt;/p&gt;\n&lt;p&gt;å…ƒç»„ (i, i+1, i+2, i+3) è¡¨ç¤ºç¬¬ (i / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(i, i+1, i+2, (i+3)/255)ï¼›&lt;br&gt;\nâ€¦&lt;br&gt;\nå…ƒç»„ (44, 45, 46, 47) è¡¨ç¤ºç¬¬ 12(= 44 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(44, 45, 46, 47/255)ã€‚&lt;/p&gt;\n&lt;p&gt;å¯è§ä» 0 å¼€å§‹éå† D æ•°ç»„ï¼Œæ¯æ¬¡é€’å¢ 4 ä¸ªå•ä½ï¼Œå³å¯ä¾æ¬¡å¾—åˆ°å„ä¸ªåƒç´ çš„çº¢è‰²å€¼ Rï¼Œå†ä¾æ¬¡åŠ 1ã€åŠ 2ã€åŠ 3ï¼Œå³å¾—åˆ°å¯¹åº”çš„ç»¿è‰²å€¼ Gã€è“è‰²å€¼ Bã€ç­‰æ•ˆ Î± é€šé“å€¼ Aã€‚&lt;/p&gt;\n&lt;p&gt;åä¹‹ï¼Œå¦‚æœçŸ¥é“å›¾ç‰‡çš„åƒç´ å°ºå¯¸ä¸º 4 Ã— 3ï¼Œåˆ™å¯ä»¥é€šè¿‡ä¸‹å›¾æ‰¾åˆ°æ•°ç»„ D çš„å„ä¸ªå…ƒç´ ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858189293.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;å¯è§å„åƒç´ ç‚¹æ˜¯æŒ‰ç…§ ä»å·¦è‡³å³ã€ä»ä¸Šè‡³ä¸‹ çš„é¡ºåºæ’åˆ—çš„ã€‚è®¾å›¾ç‰‡æ€»å®½åº¦åƒç´ ä¸º Wï¼Œæ€»é«˜åº¦åƒç´ ä¸º Hï¼Œä»»ä¸€åƒç´ ç‚¹ P çš„åæ ‡ä¸º (x, y)ï¼ŒP çš„çº¢è‰²å€¼åœ¨æ•°ç»„ D çš„ä¸‹æ ‡ä¸º R(x, y)ï¼Œåˆ™ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;R(x,y)=(x+W*y)Ã—4\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;éªŒè¯ï¼šï¼ˆx ä¸ y å‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰&lt;/p&gt;\n&lt;p&gt;R(2, 1) = (2 + 1 Ã— 4) Ã— 4 = 24&lt;br&gt;\nR(1, 2) = (1 + 2 Ã— 4) Ã— 4 = 36&lt;br&gt;\nR(3, 1) = (3 + 1 Ã— 4) Ã— 4 = 28&lt;/p&gt;\n&lt;p&gt;æ‹¿åˆ°äº† R(x, y)ï¼Œä¸éš¾æ±‚å‡ºè¯¥åƒç´ çš„çºµå‘ä¸­å¿ƒå¯¹ç§°åƒç´  Rh(x, y)ã€æ¨ªå‘ä¸­å¿ƒå¯¹ç§°åƒç´  Rw(x, y)ã€ä»¥åŠä¸»å¯¹è§’çº¿å¯¹ç§°åƒç´  Rd(x, y)ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;Rh(x,y)=[x+W*(Hâˆ’1âˆ’y)]*4 // åˆç­‰è¡Œå˜æ¢\nRw(x,y)=[(Wâˆ’1âˆ’x)+W*y]*4 // åˆç­‰åˆ—å˜æ¢\nRd(x,y)=(y+H*x)*4\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h5 id=\&#34;å…·ä½“å®ç°\&#34;&gt;å…·ä½“å®ç°&lt;/h5&gt;\n&lt;p&gt;åŸºæœ¬æ€è·¯ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;é€šè¿‡ canvas è·å–ç›®æ ‡å›¾ç‰‡çš„ ImageData å¯¹è±¡ï¼›&lt;/li&gt;\n&lt;li&gt;è½¬ç½®åŸå›¾ç‰‡æ•°ç»„ï¼Œå¾—åˆ°æ•°ç»„ ATï¼›&lt;/li&gt;\n&lt;li&gt;å¯¹ AT æ‰§è¡Œä¸€ç»„åˆç­‰è¡Œå˜æ¢ï¼Œä½¿å„è¡Œé€†åºæ’åˆ—ï¼Œå¾—åˆ°å·¦æ—‹ 90Â° æ•ˆæœï¼›&lt;/li&gt;\n&lt;li&gt;å¯¹ AT æ‰§è¡Œä¸€ç»„åˆç­‰åˆ—å˜æ¢ï¼Œä½¿å„åˆ—é€†åºæ’åˆ—ï¼Œå¾—åˆ°å³æ—‹ 90Â° æ•ˆæœï¼›&lt;/li&gt;\n&lt;li&gt;å°†æ–°çš„åƒç´ æ•°ç»„å†™å›å›¾ç‰‡æºæ ‡ç­¾ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;HTMLï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;\n&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;\n&amp;lt;head&amp;gt;\n    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;\n    &amp;lt;title&amp;gt;Rotate by ImageData&amp;lt;/title&amp;gt;\n    &amp;lt;style&amp;gt;\n        .image{ margin-top: 5px; }\n    &amp;lt;/style&amp;gt;\n&amp;lt;/head&amp;gt;\n&amp;lt;body&amp;gt;\n    &amp;lt;div class=&amp;quot;btns&amp;quot;&amp;gt;\n        &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;å·¦è½¬ 90Â°&amp;quot; id=&amp;quot;turnLeft&amp;quot; /&amp;gt;\n        &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;å³è½¬ 90Â°&amp;quot; id=&amp;quot;turnRight&amp;quot; /&amp;gt;\n    &amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;image&amp;quot;&amp;gt;\n        &amp;lt;img id=&amp;quot;fruit&amp;quot; src=&amp;quot;fruit.jpg&amp;quot; class=&amp;quot;image&amp;quot; alt=&amp;quot;fruit&amp;quot; title=&amp;quot;fruit&amp;quot; /&amp;gt;\n    &amp;lt;/div&amp;gt;\n    &amp;lt;script src=&amp;quot;imageRotate.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;\n&amp;lt;/body&amp;gt;\n\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;imageRotate.jsï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;document.querySelector(&#39;#turnLeft&#39; ).addEventListener(&#39;click&#39;, e =&amp;gt; rotateImage(&#39;l&#39;))\ndocument.querySelector(&#39;#turnRight&#39;).addEventListener(&#39;click&#39;, e =&amp;gt; rotateImage(&#39;r&#39;))\n\nfunction rotateImage(direction = &#39;l&#39;) {\n    // 1. Prepare ImageData\n    let img = document.querySelector(&#39;#fruit&#39;)\n    const { width: W, height: H } = img\n    let cvs = document.createElement(&#39;canvas&#39;)\n    cvs.width = W\n    cvs.height = H\n    let ctx = cvs.getContext(&#39;2d&#39;)\n    ctx.drawImage(img, 0, 0)\n    let imgDt0 = ctx.getImageData(0, 0, W, H)\n    let imgDt1 = new ImageData(H, W)\n    let imgDt2 = new ImageData(H, W)\n    let dt0 = imgDt0.data\n    let dt1 = imgDt1.data\n    let dt2 = imgDt2.data\n\n    // 2. Transpose\n    let r = r1 = 0  // index of red pixel in old and new ImageData, respectively\n    for (let y = 0, lenH = H; y &amp;lt; lenH; y++) {\n        for (let x = 0, lenW = W; x &amp;lt; lenW; x++) {\n            r  = (x + lenW * y) * 4\n            r1 = (y + lenH * x) * 4\n            dt1[r1 + 0] = dt0[r + 0]\n            dt1[r1 + 1] = dt0[r + 1]\n            dt1[r1 + 2] = dt0[r + 2]\n            dt1[r1 + 3] = dt0[r + 3]\n        }\n    }\n    \n    // 3. Reverse width / height\n    for (let y = 0, lenH = W; y &amp;lt; lenH; y++) {\n        for (let x = 0, lenW = H; x &amp;lt; lenW; x++) {\n            r  = (x + lenW * y) * 4\n            r1 = direction === &#39;l&#39;\n                ? (x + lenW * (lenH - 1 - y)) * 4\n                : ((lenW - 1 - x) + lenW * y) * 4\n            dt2[r1 + 0] = dt1[r + 0]\n            dt2[r1 + 1] = dt1[r + 1]\n            dt2[r1 + 2] = dt1[r + 2]\n            dt2[r1 + 3] = dt1[r + 3]\n        }\n    }\n    \n    // 4. Redraw image\n    cvs.width = H\n    cvs.height = W\n    ctx.clearRect(0, 0, W, H)\n    ctx.putImageData(imgDt2, 0, 0, 0, 0, H, W)\n    img.src = cvs.toDataURL(&#39;image/jpeg&#39;, 1)\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;br&gt;\nåŸå§‹å›¾ç‰‡&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858200595.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå·¦è½¬90åº¦&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858207477.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå³è½¬90åº¦&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858214763.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;å¥½äº†ï¼Œç°åœ¨å®ç°äº†å›¾ç‰‡æ—‹è½¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€å¥—ç”¨å…¬å¼å®ç°å›¾ç‰‡é•œåƒå’Œè§†é¢‘é•œåƒ&lt;/p&gt;\n&lt;p&gt;html&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;\n&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;\n&amp;lt;head&amp;gt;\n    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot; /&amp;gt;\n    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0&amp;quot; /&amp;gt;\n    &amp;lt;meta http-equiv=&amp;quot;X-UA-Compatible&amp;quot; content=&amp;quot;ie=edge&amp;quot; /&amp;gt;\n    &amp;lt;title&amp;gt;jsé€šè¿‡æµè§ˆå™¨è°ƒç”¨æ‘„åƒå¤´&amp;lt;/title&amp;gt;\n    &amp;lt;style&amp;gt;\n    #video {\n        /* transform: rotate3d(1, 1, 1, 45deg); */\n    }\n    &amp;lt;/style&amp;gt;\n&amp;lt;/head&amp;gt;\n&amp;lt;body&amp;gt;\n    &amp;lt;div class=&amp;quot;banner&amp;quot;&amp;gt;\n    &amp;lt;video id=&amp;quot;video&amp;quot; width=&amp;quot;500px&amp;quot; height=&amp;quot;500px&amp;quot; autoplay=&amp;quot;autoplay&amp;quot; /&amp;gt;\n    &amp;lt;/div&amp;gt;\n    &amp;lt;canvas width=&amp;quot;500&amp;quot; height=&amp;quot;500&amp;quot; id=&amp;quot;canvas&amp;quot;&amp;gt;&amp;lt;/canvas&amp;gt;\n    &amp;lt;video\n    id=&amp;quot;video2&amp;quot;\n    width=&amp;quot;500px&amp;quot;\n    height=&amp;quot;500px&amp;quot;\n    autoplay=&amp;quot;autoplay&amp;quot;\n    controls=&amp;quot;controls&amp;quot;\n    /&amp;gt;\n&amp;lt;/body&amp;gt;\n&amp;lt;!-- &amp;lt;script src=&amp;quot;./test.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; --&amp;gt;\n&amp;lt;script&amp;gt;\n    function getMedia() {\n    let video = document.getElementById(&amp;quot;video&amp;quot;);\n    let constraints = {\n        video: { width: 500, height: 500 },\n        audio: false,\n    };\n    navigator.getUserMedia =\n        navigator.getUserMedia ||\n        navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia ||\n        navigator.msGetUserMedia;\n    let promise = navigator.mediaDevices.getUserMedia(\n        constraints,\n        function (stream) {\n        video.src = stream;\n        video.play();\n        },\n        function (error) {\n        console.log(error);\n        }\n    );\n    promise.then(function (MediaStream) {\n        video.srcObject = MediaStream;\n        video.play();\n    });\n    }\n\n    getMedia();\n    window.onload = () =&amp;gt; {\n    const data = [];\n    var recorder;\n    // è·å–è§†é¢‘æµä¹‹åï¼Œç”¨canvaså¯¹è§†é¢‘è¿›è¡Œåè½¬ï¼Œç„¶åä½¿ç”¨captureStreamè·å–è§†é¢‘æµï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡å£°ç½‘è‡ªå®šä¹‰æµè·å–è§†é¢‘è½¨é“getVideoTracksã€‚ä»£ç ä¸­ä¸ºäº†æµ‹è¯•canvasè½¬è§†é¢‘å¯ç”¨ï¼Œè°ƒç”¨äº†MediaRecorderå½•åˆ¶\n    function imageDataHRevert(sourceData, newData) {\n        for (var i = 0, h = sourceData.height; i &amp;lt; h; i++) {\n        for (j = 0, w = sourceData.width; j &amp;lt; w; j++) {\n            newData.data[i * w * 4 + j * 4 + 0] =\n            // (y*W+x)*4\n            sourceData.data[i * w * 4 + (w - j) * 4  -4+ 0];\n            // (y*W+(W-x-1))*4\n            newData.data[i * w * 4 + j * 4 + 1] =\n            sourceData.data[i * w * 4 + (w - j) * 4 -4+ 1];\n\n            newData.data[i * w * 4 + j * 4 + 2] =\n            sourceData.data[i * w * 4 + (w - j) * 4 -4+ 2];\n\n            newData.data[i * w * 4 + j * 4 + 3] =\n            sourceData.data[i * w * 4 + (w - j) * 4-4 + 3];\n        }\n        }\n        return newData;\n    }\n    function imageDataVRevert(sourceData, newData) {\n        for (var i = 0, h = sourceData.height; i &amp;lt; h; i++) {\n        for (var j = 0, w = sourceData.width; j &amp;lt; w; j++) {\n            newData.data[i * w * 4 + j * 4 + 0] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 0];\n\n            newData.data[i * w * 4 + j * 4 + 1] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 1];\n\n            newData.data[i * w * 4 + j * 4 + 2] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 2];\n\n            newData.data[i * w * 4 + j * 4 + 3] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 3];\n        }\n        }\n\n        return newData;\n    }\n\n    function render() {\n        var canvas = document.getElementById(&amp;quot;canvas&amp;quot;);\n        var video = document.getElementById(&amp;quot;video&amp;quot;);\n        var ctx1 = canvas.getContext(&amp;quot;2d&amp;quot;);\n        ctx1.drawImage(video, 0, 0, 500, 500);\n        var imgData = ctx1.getImageData(0, 0, 500, 500);\n        var newImgData = ctx1.getImageData(0, 0, 500, 500);\n        const HRevet = imageDataHRevert(newImgData, imgData);\n        console.error(HRevet, &amp;quot;HRevet&amp;quot;);\n        // äº®ä¸€ç‚¹\n        for (var i = 0; i &amp;lt; HRevet.data.length; i += 4) {\n        HRevet.data[i] += 5;\n        HRevet.data[i + 1] += 5;\n        HRevet.data[i + 2] += 5;\n        }\n        ctx1.putImageData(HRevet, 0, 0);\n        requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n    const stream = canvas.captureStream(30);\n    // todo è‡ªå®šä¹‰è§†é¢‘ canvas.captureStream(30).getVideoTracks()[0]\n    console.error(stream, &amp;quot;stream&amp;quot;);\n    // è‡ªå·±æµ‹è¯•å½•åˆ¶è§†é¢‘çš„ï¼Œå¯ä»¥ä¸ç”¨çœ‹\n    recorder = new MediaRecorder(stream, { mimeType: &amp;quot;video/webm&amp;quot; });\n    recorder.ondataavailable = function (event) {\n        if (event.data &amp;amp;&amp;amp; event.data.size) {\n        data.push(event.data);\n        }\n    };\n    recorder.onstop = () =&amp;gt; {\n        const url = URL.createObjectURL(new Blob(data, { type: &amp;quot;video/webm&amp;quot; }));\n        document.getElementById(&amp;quot;video2&amp;quot;).src = url;\n    };\n    recorder.start();\n    setTimeout(() =&amp;gt; {\n        recorder.stop();\n    }, 6000);\n    };\n&amp;lt;/script&amp;gt;\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç»“æœï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647859629847.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h5 id=\&#34;å¤§å®¶çœ‹çš„å¯èƒ½æœ‰ç‚¹æ‡µæ²¡å…³ç³»æ‹¿ä¸ªçº¸ç”»ä¸€ä¸‹ç„¶åå»å¥—ç”¨å…¬å¼å°±å¥½äº†ä¸€æ¬¡ä¸æ‡‚å°±å¤šè¯•å‡ æ¬¡-çœ‹ä¸æ‡‚ä¸€å®šè¦æ‹¿å¼ çº¸ç”»ä¸€ä¸‹\&#34;&gt;å¤§å®¶çœ‹çš„å¯èƒ½æœ‰ç‚¹æ‡µï¼Œæ²¡å…³ç³»ï¼Œæ‹¿ä¸ªçº¸ç”»ä¸€ä¸‹ï¼Œç„¶åå»å¥—ç”¨å…¬å¼å°±å¥½äº†ï¼Œä¸€æ¬¡ä¸æ‡‚å°±å¤šè¯•å‡ æ¬¡ã€‚çœ‹ä¸æ‡‚ä¸€å®šè¦æ‹¿å¼ çº¸ç”»ä¸€ä¸‹ï¼&lt;/h5&gt;\n&lt;p&gt;ç®€å•çš„å¢åŠ ç¾ç™½æ•ˆæœï¼ˆäº®åº¦ï¼‰ï¼Œå¯ç»™æ¯ä¸ªrgbé€šé“åŠ ç‰¹å®šå€¼ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;r1 = (x + W * y) * 4;\nr1 = (x + W * (H - 1 - y)) * 4;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ¨èä¸€ä¸ªç¾é¢œåº“ï¼šopencvjs&lt;br&gt;\næ¨èä¸€ä¸ªäººè„¸è¯†åˆ«åº“ï¼šface-api.js https://www.cnblogs.com/neozhu/p/11771148.html&lt;/p&gt;\n&lt;p&gt;éƒ¨åˆ†å†…å®¹å‚è€ƒè‡ª https://blog.csdn.net/frgod/article/details/106055830&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;li-yong-imagedata-shi-xian-tu-pian-fan-zhuan-he-shi-pin-jing-xiang&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;æœ€è¿‘åœ¨æè§†é¢‘ç›´æ’­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåŠŸèƒ½æ˜¯è§†é¢‘é•œåƒï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§å®ç°æ–¹å¼ã€‚&lt;br&gt;\nä¸€ç§æ˜¯è€å¸ˆç«¯ç‚¹å‡»é•œåƒï¼Œé€šè¿‡cssæŠŠè‡ªå·±çš„videoæ ‡ç­¾é•œåƒï¼Œç„¶åå‘é€ä¿¡ä»¤ç»™å­¦ç”Ÿç«¯ï¼Œå­¦ç”Ÿç«¯æ”¶åˆ°æ¶ˆæ¯ä¹‹åä¹Ÿé€šè¿‡csså»å®ç°é•œåƒï¼›&lt;br&gt;\nç¬¬äºŒç§å°±æ˜¯è€å¸ˆç«¯å¯¹è§†é¢‘æµåšä¸€ä¸ªé•œåƒå¤„ç†ï¼Œå­¦ç”Ÿç«¯æ— éœ€æ“ä½œï¼Œå¾ˆæ˜¾ç„¶ç¬¬äºŒç§æ–¹æ³•æ¯”è¾ƒå¥½ï¼›&lt;/p&gt;\n&lt;p&gt;æ€ä¹ˆå®ç°å¯¹è§†é¢‘æµçš„é•œåƒå‘¢ï¼Œé¦–å…ˆè¦çŸ¥é“çš„å°±æ˜¯è§†é¢‘æ˜¯ç”±ä¸€å¸§å¸§çš„å›¾ç‰‡ç»„åˆè€Œæˆï¼Œæˆ‘ä»¬è¦å¯¹è§†é¢‘æµé•œåƒï¼Œé¦–å…ˆè¦å¯¹å›¾ç‰‡è¿›è¡Œé•œåƒã€‚&lt;/p&gt;\n&lt;p&gt;å¯¹å›¾ç‰‡é•œåƒçš„è¯ï¼Œå°±è¦å¯¹ImageDataåšå¤„ç†&lt;br&gt;\né¦–å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ImageDataï¼š&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ImageData æ¥å£æè¿° canvas å…ƒç´ çš„ä¸€ä¸ªéšå«åƒç´ æ•°æ®çš„åŒºåŸŸã€‚ä½¿ç”¨ ImageData() æ„é€ å‡½æ•°åˆ›å»ºæˆ–è€…ä½¿ç”¨å’Œ canvas åœ¨ä¸€èµ·çš„ CanvasRenderingContext2D å¯¹è±¡çš„åˆ›å»ºæ–¹æ³•ï¼š createImageData() å’Œ getImageData()ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ putImageData() è®¾ç½® canvas çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h4 id=\&#34;æˆ‘ä»¬å…ˆä»¥æ—‹è½¬å›¾ç‰‡ä¸ºä¾‹å­åšä¸ªè¯´æ˜\&#34;&gt;æˆ‘ä»¬å…ˆä»¥æ—‹è½¬å›¾ç‰‡ä¸ºä¾‹å­åšä¸ªè¯´æ˜&lt;/h4&gt;\n&lt;h5 id=\&#34;åŸºæœ¬åŸç†1åƒç´ çŸ©é˜µå˜æ¢\&#34;&gt;åŸºæœ¬åŸç†1â€”â€”åƒç´ çŸ©é˜µå˜æ¢&lt;/h5&gt;\n&lt;p&gt;ImageDataå¯¹è±¡ä¸­å­˜å‚¨ç€canvaså¯¹è±¡çœŸå®çš„åƒç´ æ•°æ®ï¼Œå®ƒåŒ…å«ä»¥ä¸‹å‡ ä¸ªåªè¯»å±æ€§ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;width  å›¾ç‰‡å®½åº¦ï¼Œå•ä½æ˜¯åƒç´ &lt;/li&gt;\n&lt;li&gt;height  å›¾ç‰‡é«˜åº¦ï¼Œå•ä½æ˜¯åƒç´ &lt;/li&gt;\n&lt;li&gt;data  &lt;a href=\&#34;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray\&#34;&gt;Uint8ClampedArray&lt;/a&gt;ç±»å‹çš„ä¸€ç»´æ•°ç»„ï¼ŒåŒ…å«ç€RGBAæ ¼å¼çš„æ•´å‹æ•°æ®ï¼ŒèŒƒå›´åœ¨0è‡³255ä¹‹é—´ï¼ˆåŒ…æ‹¬255ï¼‰ã€‚&lt;br&gt;\ndataå±æ€§è¿”å›ä¸€ä¸ª Uint8ClampedArrayï¼Œå®ƒå¯ä»¥è¢«ä½¿ç”¨ä½œä¸ºæŸ¥çœ‹åˆå§‹åƒç´ æ•°æ®ã€‚æ¯ä¸ªåƒç´ ç”¨4ä¸ª1byteså€¼(æŒ‰ç…§çº¢ï¼Œç»¿ï¼Œè“å’Œé€æ˜å€¼çš„é¡ºåº; è¿™å°±æ˜¯&amp;quot;RGBA&amp;quot;æ ¼å¼) æ¥ä»£è¡¨ã€‚æ¯ä¸ªé¢œè‰²å€¼éƒ¨ä»½ç”¨0è‡³255æ¥ä»£è¡¨ã€‚æ¯ä¸ªéƒ¨ä»½è¢«åˆ†é…åˆ°ä¸€ä¸ªåœ¨æ•°ç»„å†…è¿ç»­çš„ç´¢å¼•ï¼Œå·¦ä¸Šè§’åƒç´ çš„çº¢è‰²éƒ¨ä»½åœ¨æ•°ç»„çš„ç´¢å¼•0ä½ç½®ã€‚åƒç´ ä»å·¦åˆ°å³è¢«å¤„ç†ï¼Œç„¶åå¾€ä¸‹ï¼Œéå†æ•´ä¸ªæ•°ç»„ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;å…·ä½“è¯·çœ‹&lt;a href=\&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas\&#34;&gt;åƒç´ æ“ä½œ&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬é€šè¿‡ImageDataå¯ä»¥å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ ç‚¹åšæ“ä½œã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦å°†å›¾ç‰‡å‘å³æ—‹è½¬90åº¦&lt;/p&gt;\n&lt;p&gt;ä¸€ä¸ª 4 Ã— 3 åƒç´ çš„åŸå§‹å›¾ç‰‡ï¼Œå¯ä»¥çœ‹ä½œå¦‚ä¸‹å½¢å¼çš„åƒç´ çŸ©é˜µ Aï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858122464.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå›¾ç‰‡å‘å³æ—‹è½¬ 90Â°ï¼Œå®è´¨å°±æ˜¯è®¾æ³•å°† A å˜ä¸º Aâ€™ â€”â€”&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858132107.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè¿™å¯ä»¥é€šè¿‡åŸçŸ©é˜µä¸€æ¬¡ è½¬ç½®ã€ä¸å¤šæ¬¡åˆç­‰ åˆ— å˜æ¢ï¼ˆé€†åºæ’åˆ—å„åˆ—ï¼‰å¾—åˆ°ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858162556.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nåŒç†ï¼Œå›¾ç‰‡å‘å·¦æ—‹è½¬ 90Â°ï¼Œå®é™…ä¸Šå°±æ˜¯å¾—åˆ°çŸ©é˜µ Aâ€™&#39; ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858170777.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè¿™å¯ä»¥é€šè¿‡åŸçŸ©é˜µä¸€æ¬¡ è½¬ç½®ã€ä¸å¤šæ¬¡åˆç­‰ è¡Œ å˜æ¢ï¼ˆé€†åºæ’åˆ—å„è¡Œï¼‰å¾—åˆ°â€”â€”&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858177575.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h5 id=\&#34;åŸºæœ¬åŸç†2åƒç´ æ•°ç»„ä¸çŸ©é˜µçš„å¯¹åº”å…³ç³»\&#34;&gt;åŸºæœ¬åŸç†2â€”â€”åƒç´ æ•°ç»„ä¸çŸ©é˜µçš„å¯¹åº”å…³ç³»&lt;/h5&gt;\n&lt;p&gt;ç”±äº ImageData.data å¯¹åº”ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹äº 4 Ã— 3 çš„å›¾ç‰‡è€Œè¨€ï¼ŒImageData.data å°±æ˜¯ä¸€ä¸ªå…·æœ‰ 48 ä¸ªå…ƒç´ çš„æ•°ç»„ Dï¼Œä¸å¦¨æ¯ä¸ªå…ƒç´ çš„å€¼å°±æ˜¯å…¶ä¸‹æ ‡å€¼ï¼Œåˆ™ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;D=[0,1,2,3,4,5,6,7...44,45,46,47]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å…¶ä¸­ï¼š&lt;br&gt;\nå…ƒç»„ (0, 1, 2, 3) è¡¨ç¤ºç¬¬ 1(= 0 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(0, 1, 2, 3/255)ï¼›&lt;br&gt;\nå…ƒç»„ (4, 5, 6, 7) è¡¨ç¤ºç¬¬ 2(= 4 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(4, 5, 6, 7/255)ï¼›&lt;br&gt;\nå…ƒç»„ (8, 9, 10, 11) è¡¨ç¤ºç¬¬ 3(= 8 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(8, 9, 10, 11/255)ï¼›&lt;br&gt;\nâ€¦&lt;/p&gt;\n&lt;p&gt;å…ƒç»„ (i, i+1, i+2, i+3) è¡¨ç¤ºç¬¬ (i / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(i, i+1, i+2, (i+3)/255)ï¼›&lt;br&gt;\nâ€¦&lt;br&gt;\nå…ƒç»„ (44, 45, 46, 47) è¡¨ç¤ºç¬¬ 12(= 44 / 4 + 1) ä¸ªåƒç´ çš„é¢œè‰²ä¸º rgba(44, 45, 46, 47/255)ã€‚&lt;/p&gt;\n&lt;p&gt;å¯è§ä» 0 å¼€å§‹éå† D æ•°ç»„ï¼Œæ¯æ¬¡é€’å¢ 4 ä¸ªå•ä½ï¼Œå³å¯ä¾æ¬¡å¾—åˆ°å„ä¸ªåƒç´ çš„çº¢è‰²å€¼ Rï¼Œå†ä¾æ¬¡åŠ 1ã€åŠ 2ã€åŠ 3ï¼Œå³å¾—åˆ°å¯¹åº”çš„ç»¿è‰²å€¼ Gã€è“è‰²å€¼ Bã€ç­‰æ•ˆ Î± é€šé“å€¼ Aã€‚&lt;/p&gt;\n&lt;p&gt;åä¹‹ï¼Œå¦‚æœçŸ¥é“å›¾ç‰‡çš„åƒç´ å°ºå¯¸ä¸º 4 Ã— 3ï¼Œåˆ™å¯ä»¥é€šè¿‡ä¸‹å›¾æ‰¾åˆ°æ•°ç»„ D çš„å„ä¸ªå…ƒç´ ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858189293.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;å¯è§å„åƒç´ ç‚¹æ˜¯æŒ‰ç…§ ä»å·¦è‡³å³ã€ä»ä¸Šè‡³ä¸‹ çš„é¡ºåºæ’åˆ—çš„ã€‚è®¾å›¾ç‰‡æ€»å®½åº¦åƒç´ ä¸º Wï¼Œæ€»é«˜åº¦åƒç´ ä¸º Hï¼Œä»»ä¸€åƒç´ ç‚¹ P çš„åæ ‡ä¸º (x, y)ï¼ŒP çš„çº¢è‰²å€¼åœ¨æ•°ç»„ D çš„ä¸‹æ ‡ä¸º R(x, y)ï¼Œåˆ™ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;R(x,y)=(x+W*y)Ã—4\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;éªŒè¯ï¼šï¼ˆx ä¸ y å‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰&lt;/p&gt;\n&lt;p&gt;R(2, 1) = (2 + 1 Ã— 4) Ã— 4 = 24&lt;br&gt;\nR(1, 2) = (1 + 2 Ã— 4) Ã— 4 = 36&lt;br&gt;\nR(3, 1) = (3 + 1 Ã— 4) Ã— 4 = 28&lt;/p&gt;\n&lt;p&gt;æ‹¿åˆ°äº† R(x, y)ï¼Œä¸éš¾æ±‚å‡ºè¯¥åƒç´ çš„çºµå‘ä¸­å¿ƒå¯¹ç§°åƒç´  Rh(x, y)ã€æ¨ªå‘ä¸­å¿ƒå¯¹ç§°åƒç´  Rw(x, y)ã€ä»¥åŠä¸»å¯¹è§’çº¿å¯¹ç§°åƒç´  Rd(x, y)ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;Rh(x,y)=[x+W*(Hâˆ’1âˆ’y)]*4 // åˆç­‰è¡Œå˜æ¢\nRw(x,y)=[(Wâˆ’1âˆ’x)+W*y]*4 // åˆç­‰åˆ—å˜æ¢\nRd(x,y)=(y+H*x)*4\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h5 id=\&#34;å…·ä½“å®ç°\&#34;&gt;å…·ä½“å®ç°&lt;/h5&gt;\n&lt;p&gt;åŸºæœ¬æ€è·¯ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;é€šè¿‡ canvas è·å–ç›®æ ‡å›¾ç‰‡çš„ ImageData å¯¹è±¡ï¼›&lt;/li&gt;\n&lt;li&gt;è½¬ç½®åŸå›¾ç‰‡æ•°ç»„ï¼Œå¾—åˆ°æ•°ç»„ ATï¼›&lt;/li&gt;\n&lt;li&gt;å¯¹ AT æ‰§è¡Œä¸€ç»„åˆç­‰è¡Œå˜æ¢ï¼Œä½¿å„è¡Œé€†åºæ’åˆ—ï¼Œå¾—åˆ°å·¦æ—‹ 90Â° æ•ˆæœï¼›&lt;/li&gt;\n&lt;li&gt;å¯¹ AT æ‰§è¡Œä¸€ç»„åˆç­‰åˆ—å˜æ¢ï¼Œä½¿å„åˆ—é€†åºæ’åˆ—ï¼Œå¾—åˆ°å³æ—‹ 90Â° æ•ˆæœï¼›&lt;/li&gt;\n&lt;li&gt;å°†æ–°çš„åƒç´ æ•°ç»„å†™å›å›¾ç‰‡æºæ ‡ç­¾ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;HTMLï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;\n&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;\n&amp;lt;head&amp;gt;\n    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;\n    &amp;lt;title&amp;gt;Rotate by ImageData&amp;lt;/title&amp;gt;\n    &amp;lt;style&amp;gt;\n        .image{ margin-top: 5px; }\n    &amp;lt;/style&amp;gt;\n&amp;lt;/head&amp;gt;\n&amp;lt;body&amp;gt;\n    &amp;lt;div class=&amp;quot;btns&amp;quot;&amp;gt;\n        &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;å·¦è½¬ 90Â°&amp;quot; id=&amp;quot;turnLeft&amp;quot; /&amp;gt;\n        &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;å³è½¬ 90Â°&amp;quot; id=&amp;quot;turnRight&amp;quot; /&amp;gt;\n    &amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;image&amp;quot;&amp;gt;\n        &amp;lt;img id=&amp;quot;fruit&amp;quot; src=&amp;quot;fruit.jpg&amp;quot; class=&amp;quot;image&amp;quot; alt=&amp;quot;fruit&amp;quot; title=&amp;quot;fruit&amp;quot; /&amp;gt;\n    &amp;lt;/div&amp;gt;\n    &amp;lt;script src=&amp;quot;imageRotate.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;\n&amp;lt;/body&amp;gt;\n\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;imageRotate.jsï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;document.querySelector(&#39;#turnLeft&#39; ).addEventListener(&#39;click&#39;, e =&amp;gt; rotateImage(&#39;l&#39;))\ndocument.querySelector(&#39;#turnRight&#39;).addEventListener(&#39;click&#39;, e =&amp;gt; rotateImage(&#39;r&#39;))\n\nfunction rotateImage(direction = &#39;l&#39;) {\n    // 1. Prepare ImageData\n    let img = document.querySelector(&#39;#fruit&#39;)\n    const { width: W, height: H } = img\n    let cvs = document.createElement(&#39;canvas&#39;)\n    cvs.width = W\n    cvs.height = H\n    let ctx = cvs.getContext(&#39;2d&#39;)\n    ctx.drawImage(img, 0, 0)\n    let imgDt0 = ctx.getImageData(0, 0, W, H)\n    let imgDt1 = new ImageData(H, W)\n    let imgDt2 = new ImageData(H, W)\n    let dt0 = imgDt0.data\n    let dt1 = imgDt1.data\n    let dt2 = imgDt2.data\n\n    // 2. Transpose\n    let r = r1 = 0  // index of red pixel in old and new ImageData, respectively\n    for (let y = 0, lenH = H; y &amp;lt; lenH; y++) {\n        for (let x = 0, lenW = W; x &amp;lt; lenW; x++) {\n            r  = (x + lenW * y) * 4\n            r1 = (y + lenH * x) * 4\n            dt1[r1 + 0] = dt0[r + 0]\n            dt1[r1 + 1] = dt0[r + 1]\n            dt1[r1 + 2] = dt0[r + 2]\n            dt1[r1 + 3] = dt0[r + 3]\n        }\n    }\n    \n    // 3. Reverse width / height\n    for (let y = 0, lenH = W; y &amp;lt; lenH; y++) {\n        for (let x = 0, lenW = H; x &amp;lt; lenW; x++) {\n            r  = (x + lenW * y) * 4\n            r1 = direction === &#39;l&#39;\n                ? (x + lenW * (lenH - 1 - y)) * 4\n                : ((lenW - 1 - x) + lenW * y) * 4\n            dt2[r1 + 0] = dt1[r + 0]\n            dt2[r1 + 1] = dt1[r + 1]\n            dt2[r1 + 2] = dt1[r + 2]\n            dt2[r1 + 3] = dt1[r + 3]\n        }\n    }\n    \n    // 4. Redraw image\n    cvs.width = H\n    cvs.height = W\n    ctx.clearRect(0, 0, W, H)\n    ctx.putImageData(imgDt2, 0, 0, 0, 0, H, W)\n    img.src = cvs.toDataURL(&#39;image/jpeg&#39;, 1)\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;br&gt;\nåŸå§‹å›¾ç‰‡&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858200595.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå·¦è½¬90åº¦&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858207477.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå³è½¬90åº¦&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647858214763.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;å¥½äº†ï¼Œç°åœ¨å®ç°äº†å›¾ç‰‡æ—‹è½¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€å¥—ç”¨å…¬å¼å®ç°å›¾ç‰‡é•œåƒå’Œè§†é¢‘é•œåƒ&lt;/p&gt;\n&lt;p&gt;html&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;\n&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;\n&amp;lt;head&amp;gt;\n    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot; /&amp;gt;\n    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0&amp;quot; /&amp;gt;\n    &amp;lt;meta http-equiv=&amp;quot;X-UA-Compatible&amp;quot; content=&amp;quot;ie=edge&amp;quot; /&amp;gt;\n    &amp;lt;title&amp;gt;jsé€šè¿‡æµè§ˆå™¨è°ƒç”¨æ‘„åƒå¤´&amp;lt;/title&amp;gt;\n    &amp;lt;style&amp;gt;\n    #video {\n        /* transform: rotate3d(1, 1, 1, 45deg); */\n    }\n    &amp;lt;/style&amp;gt;\n&amp;lt;/head&amp;gt;\n&amp;lt;body&amp;gt;\n    &amp;lt;div class=&amp;quot;banner&amp;quot;&amp;gt;\n    &amp;lt;video id=&amp;quot;video&amp;quot; width=&amp;quot;500px&amp;quot; height=&amp;quot;500px&amp;quot; autoplay=&amp;quot;autoplay&amp;quot; /&amp;gt;\n    &amp;lt;/div&amp;gt;\n    &amp;lt;canvas width=&amp;quot;500&amp;quot; height=&amp;quot;500&amp;quot; id=&amp;quot;canvas&amp;quot;&amp;gt;&amp;lt;/canvas&amp;gt;\n    &amp;lt;video\n    id=&amp;quot;video2&amp;quot;\n    width=&amp;quot;500px&amp;quot;\n    height=&amp;quot;500px&amp;quot;\n    autoplay=&amp;quot;autoplay&amp;quot;\n    controls=&amp;quot;controls&amp;quot;\n    /&amp;gt;\n&amp;lt;/body&amp;gt;\n&amp;lt;!-- &amp;lt;script src=&amp;quot;./test.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; --&amp;gt;\n&amp;lt;script&amp;gt;\n    function getMedia() {\n    let video = document.getElementById(&amp;quot;video&amp;quot;);\n    let constraints = {\n        video: { width: 500, height: 500 },\n        audio: false,\n    };\n    navigator.getUserMedia =\n        navigator.getUserMedia ||\n        navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia ||\n        navigator.msGetUserMedia;\n    let promise = navigator.mediaDevices.getUserMedia(\n        constraints,\n        function (stream) {\n        video.src = stream;\n        video.play();\n        },\n        function (error) {\n        console.log(error);\n        }\n    );\n    promise.then(function (MediaStream) {\n        video.srcObject = MediaStream;\n        video.play();\n    });\n    }\n\n    getMedia();\n    window.onload = () =&amp;gt; {\n    const data = [];\n    var recorder;\n    // è·å–è§†é¢‘æµä¹‹åï¼Œç”¨canvaså¯¹è§†é¢‘è¿›è¡Œåè½¬ï¼Œç„¶åä½¿ç”¨captureStreamè·å–è§†é¢‘æµï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡å£°ç½‘è‡ªå®šä¹‰æµè·å–è§†é¢‘è½¨é“getVideoTracksã€‚ä»£ç ä¸­ä¸ºäº†æµ‹è¯•canvasè½¬è§†é¢‘å¯ç”¨ï¼Œè°ƒç”¨äº†MediaRecorderå½•åˆ¶\n    function imageDataHRevert(sourceData, newData) {\n        for (var i = 0, h = sourceData.height; i &amp;lt; h; i++) {\n        for (j = 0, w = sourceData.width; j &amp;lt; w; j++) {\n            newData.data[i * w * 4 + j * 4 + 0] =\n            // (y*W+x)*4\n            sourceData.data[i * w * 4 + (w - j) * 4  -4+ 0];\n            // (y*W+(W-x-1))*4\n            newData.data[i * w * 4 + j * 4 + 1] =\n            sourceData.data[i * w * 4 + (w - j) * 4 -4+ 1];\n\n            newData.data[i * w * 4 + j * 4 + 2] =\n            sourceData.data[i * w * 4 + (w - j) * 4 -4+ 2];\n\n            newData.data[i * w * 4 + j * 4 + 3] =\n            sourceData.data[i * w * 4 + (w - j) * 4-4 + 3];\n        }\n        }\n        return newData;\n    }\n    function imageDataVRevert(sourceData, newData) {\n        for (var i = 0, h = sourceData.height; i &amp;lt; h; i++) {\n        for (var j = 0, w = sourceData.width; j &amp;lt; w; j++) {\n            newData.data[i * w * 4 + j * 4 + 0] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 0];\n\n            newData.data[i * w * 4 + j * 4 + 1] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 1];\n\n            newData.data[i * w * 4 + j * 4 + 2] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 2];\n\n            newData.data[i * w * 4 + j * 4 + 3] =\n            sourceData.data[(h - i) * w * 4 + j * 4 + 3];\n        }\n        }\n\n        return newData;\n    }\n\n    function render() {\n        var canvas = document.getElementById(&amp;quot;canvas&amp;quot;);\n        var video = document.getElementById(&amp;quot;video&amp;quot;);\n        var ctx1 = canvas.getContext(&amp;quot;2d&amp;quot;);\n        ctx1.drawImage(video, 0, 0, 500, 500);\n        var imgData = ctx1.getImageData(0, 0, 500, 500);\n        var newImgData = ctx1.getImageData(0, 0, 500, 500);\n        const HRevet = imageDataHRevert(newImgData, imgData);\n        console.error(HRevet, &amp;quot;HRevet&amp;quot;);\n        // äº®ä¸€ç‚¹\n        for (var i = 0; i &amp;lt; HRevet.data.length; i += 4) {\n        HRevet.data[i] += 5;\n        HRevet.data[i + 1] += 5;\n        HRevet.data[i + 2] += 5;\n        }\n        ctx1.putImageData(HRevet, 0, 0);\n        requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n    const stream = canvas.captureStream(30);\n    // todo è‡ªå®šä¹‰è§†é¢‘ canvas.captureStream(30).getVideoTracks()[0]\n    console.error(stream, &amp;quot;stream&amp;quot;);\n    // è‡ªå·±æµ‹è¯•å½•åˆ¶è§†é¢‘çš„ï¼Œå¯ä»¥ä¸ç”¨çœ‹\n    recorder = new MediaRecorder(stream, { mimeType: &amp;quot;video/webm&amp;quot; });\n    recorder.ondataavailable = function (event) {\n        if (event.data &amp;amp;&amp;amp; event.data.size) {\n        data.push(event.data);\n        }\n    };\n    recorder.onstop = () =&amp;gt; {\n        const url = URL.createObjectURL(new Blob(data, { type: &amp;quot;video/webm&amp;quot; }));\n        document.getElementById(&amp;quot;video2&amp;quot;).src = url;\n    };\n    recorder.start();\n    setTimeout(() =&amp;gt; {\n        recorder.stop();\n    }, 6000);\n    };\n&amp;lt;/script&amp;gt;\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç»“æœï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1647859629847.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;åˆ©ç”¨ ImageData å®ç°å›¾ç‰‡ç¿»è½¬å’Œè§†é¢‘é•œåƒ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;canvas&#34;,&#34;slug&#34;:&#34;jFPmxhqKu&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/jFPmxhqKu&#34;},{&#34;name&#34;:&#34;js&#34;,&#34;slug&#34;:&#34;3uoOai8za&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/3uoOai8za&#34;}],&#34;date&#34;:&#34;2022-03-09 19:21:10&#34;,&#34;dateFormat&#34;:&#34;2022-03-09&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/li-yong-imagedata-shi-xian-tu-pian-fan-zhuan-he-shi-pin-jing-xiang&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;13 min read&#34;,&#34;time&#34;:731000,&#34;words&#34;:2532,&#34;minutes&#34;:13},&#34;description&#34;:&#34;æœ€è¿‘åœ¨æè§†é¢‘ç›´æ’­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåŠŸèƒ½æ˜¯è§†é¢‘é•œåƒï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§å®ç°æ–¹å¼ã€‚\nä¸€ç§æ˜¯è€å¸ˆç«¯ç‚¹å‡»é•œåƒï¼Œé€šè¿‡cssæŠŠè‡ªå·±çš„videoæ ‡ç­¾é•œåƒï¼Œç„¶åå‘é€ä¿¡ä»¤ç»™å­¦ç”Ÿç«¯ï¼Œå­¦ç”Ÿç«¯æ”¶åˆ°æ¶ˆæ¯ä¹‹åä¹Ÿé€šè¿‡csså»å®ç°é•œåƒï¼›\nç¬¬äºŒç§å°±æ˜¯è€å¸ˆç«¯å¯¹è§†é¢‘æµåšä¸€ä¸ªé•œåƒå¤„ç†ï¼Œå­¦ç”Ÿç«¯æ— ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%88%91%E4%BB%AC%E5%85%88%E4%BB%A5%E6%97%8B%E8%BD%AC%E5%9B%BE%E7%89%87%E4%B8%BA%E4%BE%8B%E5%AD%90%E5%81%9A%E4%B8%AA%E8%AF%B4%E6%98%8E\&#34;&gt;æˆ‘ä»¬å…ˆä»¥æ—‹è½¬å›¾ç‰‡ä¸ºä¾‹å­åšä¸ªè¯´æ˜&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%861%E5%83%8F%E7%B4%A0%E7%9F%A9%E9%98%B5%E5%8F%98%E6%8D%A2\&#34;&gt;åŸºæœ¬åŸç†1â€”â€”åƒç´ çŸ©é˜µå˜æ¢&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%862%E5%83%8F%E7%B4%A0%E6%95%B0%E7%BB%84%E4%B8%8E%E7%9F%A9%E9%98%B5%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB\&#34;&gt;åŸºæœ¬åŸç†2â€”â€”åƒç´ æ•°ç»„ä¸çŸ©é˜µçš„å¯¹åº”å…³ç³»&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0\&#34;&gt;å…·ä½“å®ç°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%A7%E5%AE%B6%E7%9C%8B%E7%9A%84%E5%8F%AF%E8%83%BD%E6%9C%89%E7%82%B9%E6%87%B5%E6%B2%A1%E5%85%B3%E7%B3%BB%E6%8B%BF%E4%B8%AA%E7%BA%B8%E7%94%BB%E4%B8%80%E4%B8%8B%E7%84%B6%E5%90%8E%E5%8E%BB%E5%A5%97%E7%94%A8%E5%85%AC%E5%BC%8F%E5%B0%B1%E5%A5%BD%E4%BA%86%E4%B8%80%E6%AC%A1%E4%B8%8D%E6%87%82%E5%B0%B1%E5%A4%9A%E8%AF%95%E5%87%A0%E6%AC%A1-%E7%9C%8B%E4%B8%8D%E6%87%82%E4%B8%80%E5%AE%9A%E8%A6%81%E6%8B%BF%E5%BC%A0%E7%BA%B8%E7%94%BB%E4%B8%80%E4%B8%8B\&#34;&gt;å¤§å®¶çœ‹çš„å¯èƒ½æœ‰ç‚¹æ‡µï¼Œæ²¡å…³ç³»ï¼Œæ‹¿ä¸ªçº¸ç”»ä¸€ä¸‹ï¼Œç„¶åå»å¥—ç”¨å…¬å¼å°±å¥½äº†ï¼Œä¸€æ¬¡ä¸æ‡‚å°±å¤šè¯•å‡ æ¬¡ã€‚çœ‹ä¸æ‡‚ä¸€å®šè¦æ‹¿å¼ çº¸ç”»ä¸€ä¸‹ï¼&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1646137679298.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ç›®å‰å°ç¨‹åºåˆ†åŒ…å¤§å°æœ‰ä»¥ä¸‹é™åˆ¶ï¼š&lt;br&gt;\næ•´ä¸ªå°ç¨‹åºæ‰€æœ‰åˆ†åŒ…å¤§å°ä¸è¶…è¿‡ 8M&lt;br&gt;\nå•ä¸ªåˆ†åŒ…/ä¸»åŒ…å¤§å°ä¸èƒ½è¶…è¿‡ 2M&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;æ‰€ä»¥è¯´8Mçš„é™åˆ¶æ˜¯è¦åˆ†åŒ…è‡³å°‘4ä¸ªåŒ…ï¼Œå•ä¸ªåˆ†åŒ…ä¸Šé™å…¶å®è¿˜æ˜¯2M&lt;/p&gt;\n&lt;h3 id=\&#34;è§£å†³è¿™ä¸ªé—®é¢˜ä¸€ç§æ˜¯åˆ†åŒ…\&#34;&gt;è§£å†³è¿™ä¸ªé—®é¢˜ä¸€ç§æ˜¯åˆ†åŒ…&lt;/h3&gt;\n&lt;p&gt;å®˜æ–¹ç»™å‡ºçš„åˆ†åŒ…&lt;a href=\&#34;https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html\&#34;&gt;å®˜ç½‘æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;å¦ä¸€ç§æ˜¯å‡å°‘åŒ…ä¸­çš„å›¾ç‰‡\&#34;&gt;å¦ä¸€ç§æ˜¯å‡å°‘åŒ…ä¸­çš„å›¾ç‰‡&lt;/h3&gt;\n&lt;p&gt;å…¶å®é€ æˆåŒ…ä½“ç§¯è¿‡å¤§çš„å› ç´ ï¼Œå¾ˆå¤§åŸå› æ˜¯å› ä¸ºåŒ…é‡Œæœ‰å›¾ç‰‡ï¼Œé‚£ä½“ç§¯å°±ä¼šå˜å¾—å¾ˆå¤§ã€‚é‚£æˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡ä¸Šä¼ åˆ°CDNä¸Šï¼Œå˜æˆç½‘ç»œé“¾æ¥ï¼Œè¿™æ ·çš„è¯å°±ä¸ä¼šæŠŠå›¾ç‰‡æ‰“åŒ…è¿›å»äº†ã€‚ä½†æ˜¯è¿™æ ·åˆæœ‰ä¸€ä¸ªä¸è¶³ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬ä¸€å¼€å§‹å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼ŒUIåŒå­¦ç»™äº†æˆ‘ä»¬è®¾è®¡å›¾ï¼Œé‚£æˆ‘ä»¬è¦å°†å›¾ç‰‡ä¸€å¼ å¼ çš„ä¸Šä¼ åˆ°CDNä¸Šå»å—ï¼Ÿå¦‚æœåæœŸUIèµ°æŸ¥çš„æ—¶å€™è¦æ¢å›¾ç‰‡å‘¢ï¼Ÿè€Œä¸”ä¸‡ä¸€CDNä¸Šçš„å›¾ç‰‡è¢«äººè¯¯åˆ äº†æˆ–è€…æœåŠ¡åˆ°æœŸäº†å‘¢ï¼ˆå½“ç„¶è¿™ç§å¯èƒ½æ€§å¾ˆå°ï¼Œä½†ä¹Ÿå¯ä»¥è€ƒè™‘è¿›å»ï¼‰ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„åŸå›¾éƒ½ä¼šæ‰¾ä¸åˆ°ï¼Œåªèƒ½å¹²ç€æ€¥ã€‚ã€‚ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;é‚£ä¹ˆæœ€å¥½çš„æ–¹å¼å°±æ˜¯å°†å›¾ç‰‡æ”¾åœ¨é¡¹ç›®ä¸­æœ¬åœ°å¼€å‘çš„æ—¶å€™å¼•ç”¨çš„å°±æ˜¯æœ¬åœ°çš„å¢åˆ æ”¹æ‰¾èµ·æ¥ä¹Ÿæ–¹ä¾¿ä½†æ˜¯æ‰“åŒ…æ„å»ºçš„æ—¶å€™å°†å›¾ç‰‡å‹ç¼©å¹¶ä¸Šä¼ cdnåŒæ—¶å°†é¡¹ç›®ä¸­çš„å›¾ç‰‡å¼•ç”¨è·¯å¾„æ”¹æˆç½‘ç»œé“¾æ¥ç„¶ååˆ é™¤distä¸­çš„æ‰€æœ‰å›¾ç‰‡-é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±å†™ä¸ªè„šæœ¬å®ç°ä¸€ä¸‹\&#34;&gt;é‚£ä¹ˆæœ€å¥½çš„æ–¹å¼å°±æ˜¯å°†å›¾ç‰‡æ”¾åœ¨é¡¹ç›®ä¸­ï¼Œæœ¬åœ°å¼€å‘çš„æ—¶å€™å¼•ç”¨çš„å°±æ˜¯æœ¬åœ°çš„ï¼Œå¢åˆ æ”¹æ‰¾èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œä½†æ˜¯æ‰“åŒ…æ„å»ºçš„æ—¶å€™å°†å›¾ç‰‡å‹ç¼©å¹¶ä¸Šä¼ CDNï¼ŒåŒæ—¶å°†é¡¹ç›®ä¸­çš„å›¾ç‰‡å¼•ç”¨è·¯å¾„æ”¹æˆç½‘ç»œé“¾æ¥ï¼Œç„¶ååˆ é™¤distä¸­çš„æ‰€æœ‰å›¾ç‰‡ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±å†™ä¸ªè„šæœ¬å®ç°ä¸€ä¸‹ã€‚&lt;/h4&gt;\n&lt;p&gt;ç›´æ¥ä¸Šä»£ç å§&lt;/p&gt;\n&lt;h4 id=\&#34;å…ˆå†™ä¸Šä¼ æ–¹æ³•ç”¨äºæ‰“åŒ…å®Œä¸Šä¼ å…ˆå‹ç¼©å†ä¸Šä¼ åˆ°é˜¿é‡Œoss\&#34;&gt;å…ˆå†™ä¸Šä¼ æ–¹æ³•ï¼Œç”¨äºæ‰“åŒ…å®Œä¸Šä¼ ï¼Œå…ˆå‹ç¼©å†ä¸Šä¼ åˆ°é˜¿é‡Œoss&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// config/upload.js\nconst OSS = require(&amp;quot;ali-oss&amp;quot;);\nconst fs = require(&amp;quot;fs&amp;quot;);\nconst path = require(&amp;quot;path&amp;quot;);\nconst rimraf = require(&amp;quot;rimraf&amp;quot;);\nconst imagemin = require(&#39;imagemin&#39;)\nconst imageminJpegtran = require(&#39;imagemin-jpegtran&#39;)\nconst imageminPngquant = require(&#39;imagemin-pngquant&#39;)\nconst imageminSvgo = require(&#39;imagemin-svgo&#39;)\nconst imageminGifsicle = require(&#39;imagemin-gifsicle&#39;)\n\nconst client = new OSS({\n  region: &amp;quot;&amp;quot;,\n  endpoint: &amp;quot;&amp;quot;,\n  accessKeyId: &amp;quot;&amp;quot;,\n  accessKeySecret: &amp;quot;&amp;quot;,\n  bucket: &amp;quot;&amp;quot;\n});\nasync function compress() {\n  const files = await imagemin([&#39;../dist/**/*.{jpg,jpeg,png,svg,gif}&#39;], {\n    destination: &#39;../dist/assets&#39;,\n    plugins: [\n      imageminJpegtran({\n        progressive: true,\n        quality: 80,\n      }),\n      imageminPngquant({\n        quality: [0.6, 0.8],\n      }),\n      imageminSvgo({\n        plugins: [{ removeViewBox: false }],\n      }),\n      imageminGifsicle(),\n    ],\n  })\n  console.log(&#39;compress all images success!&#39;.info)\n  return files\n}\nconst putOSS = async function(src, dist) {\n  try {\n    let result = await client.put(dist, src);\n    console.log(&amp;quot;ossä¸Šä¼ æˆåŠŸ: &amp;quot; + result.name);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nconst workList = [];\n\n/**\n *\n * @param {string} src éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶å¤¹\n * @param {string} dist ossæ–‡ä»¶å¤¹\n */\n\nconst addFileToOSSSync = function(src, dist) {\n  try {\n    await compress()\n    var docs = fs.readdirSync(src);\n  } catch (error) {\n    console.log(src + &amp;quot;ä¸å­˜åœ¨&amp;quot;);\n    return;\n  }\n\n  docs.forEach(function(doc) {\n    const _src = src + &amp;quot;/&amp;quot; + doc;\n    const _dist = dist + &amp;quot;/&amp;quot; + doc;\n    const st = fs.statSync(_src);\n    // åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶\n    if (st.isFile() &amp;amp;&amp;amp; doc !== &amp;quot;.DS_Store&amp;quot;) {\n      workList.push(putOSS(_src, _dist));\n      // console.log(_src + &#39;æ˜¯æ–‡ä»¶&#39;, _dist);\n    } else if (st.isDirectory()) {\n      addFileToOSSSync(_src, _dist);\n    }\n  });\n};\n\naddFileToOSSSync(&amp;quot;dist/assets&amp;quot;, &amp;quot;weixin/gongyi/sdg/images&amp;quot;);\n\nPromise.all(workList).then(res =&amp;gt; {\n  rimraf(path.join(__dirname, &amp;quot;../dist/assets&amp;quot;), error =&amp;gt; {\n    if (error) {\n      throw error;\n    }\n    console.log(&amp;quot;done!&amp;quot;);\n  });\n});\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;ä¸Šä¼ æ–¹æ³•å†™å®Œäº†ä»€ä¹ˆæ—¶å€™è°ƒç”¨å‘¢åº”è¯¥åœ¨æ„å»ºå®Œä¹‹åè°ƒç”¨å› ä¸ºä¸Šä¼ å®Œè¦åˆ é™¤åŒ…ä¸­distä¸‹çš„å›¾ç‰‡é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥packagejsonä¸­æ›´æ”¹å‘½ä»¤\&#34;&gt;ä¸Šä¼ æ–¹æ³•å†™å®Œäº†ï¼Œä»€ä¹ˆæ—¶å€™è°ƒç”¨å‘¢ï¼Œåº”è¯¥åœ¨æ„å»ºå®Œä¹‹åè°ƒç”¨ï¼Œå› ä¸ºä¸Šä¼ å®Œè¦åˆ é™¤åŒ…ä¸­distä¸‹çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥package.jsonä¸­æ›´æ”¹å‘½ä»¤&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// package.json\n&amp;quot;build:weapp&amp;quot;: &amp;quot;NODE_ENV=online taro build --type weapp &amp;amp;&amp;amp; node config/upload.js&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;è¿˜æœ‰è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡\&#34;&gt;è¿˜æœ‰è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// Taroæ‰“åŒ…å…¥å£å¤„\nconst ossPath = &#39;ä½ çš„cdnåŸŸå&#39;\nlet projectPublicPath = &#39;/&#39;\n\nif (process.env.NODE_ENV !== &#39;development&#39;) {\n  // ä½ ä¸Šä¼ çš„cdnè·¯å¾„\n  projectPublicPath = `${ossPath}/1v1mp/${process.env.TARO_ENV}/${process.env.NODE_ENV}`\n}\n\nlet assetsPre =\n  process.env.TARO_ENV === &#39;weapp&#39;\n    ? process.env.NODE_ENV === &#39;development&#39;\n      ? &#39;&#39;\n      : projectPublicPath\n    : &#39;&#39;\nvar config = {\n  // ...å…¶ä»–é…ç½®æ­£å¸¸å†™ï¼Œä¸»è¦æ˜¯æ³¨æ„è¿™ä¸¤é¡¹\n  alias: {\n    &#39;@&#39;: path.resolve(__dirname, &#39;..&#39;, &#39;src&#39;),\n  },\n  defineConstants: {\n    assetsPre: `&amp;quot;${assetsPre}&amp;quot;`,\n  },\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;æœ€åä½¿ç”¨éœ€è¦æ³¨æ„\&#34;&gt;æœ€åä½¿ç”¨éœ€è¦æ³¨æ„ï¼š&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶æ”¾å…¥&lt;code&gt;src/assets&lt;/code&gt;ç›®å½•ä¸‹ï¼Œå¯ä»¥åœ¨&lt;code&gt;assets&lt;/code&gt;ç›®å½•ä¸‹åˆ›å»ºå„æ¨¡å—ç›®å½•&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ä½¿ç”¨ &lt;code&gt;import&lt;/code&gt; å¼•å…¥ååœ¨&lt;code&gt;src&lt;/code&gt;å¤„ä½¿ç”¨ &lt;code&gt;${assetsPre}${pic}&lt;/code&gt;çš„æ–¹å¼ä½¿ç”¨, &lt;code&gt;assetsPre&lt;/code&gt;æ˜¯å…¨å±€å®šä¹‰å¥½çš„å¸¸é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚&lt;/p&gt;\n&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-jsx\&#34;&gt;import pic from &#39;@/assets/defualt.jpg&#39;\n\nexport default function Index() {\n  // do some logic\n\n  return &amp;lt;Image src={`${assetsPre}${pic}`} /&amp;gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;blockquote&gt;\n&lt;p&gt;tip: æœ‰ä¸€ç‚¹è¦è¯´ä¸€ä¸‹ï¼Œè™½ç„¶importå¼•å…¥äº†ï¼Œä½†å…¶å®æ˜¯ä¸ªpicæ˜¯ä¸ªè·¯å¾„ï¼Œwebpack5ä»¥å‰ä¼šæŠŠå®ƒé€šè¿‡loaderè½¬ä¸ºè·¯å¾„ï¼Œwebpack5é€šè¿‡å†…ç½®Asset Modulesè½¬ä¸ºè·¯å¾„ã€‚å…·ä½“æ–‡æ¡£å¯è§ï¼š&lt;a href=\&#34;https://webpack.docschina.org/guides/asset-management/#loading-images\&#34;&gt;åŠ è½½imageså›¾åƒ&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&#34;,&#34;fileName&#34;:&#34;taro-jie-jue-xiao-cheng-xu-bao-ti-ji-guo-da-de-wen-ti&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Taroè§£å†³å°ç¨‹åºåŒ…ä½“ç§¯è¿‡å¤§çš„é—®é¢˜&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å°ç¨‹åºå¼€å‘&#34;,&#34;slug&#34;:&#34;MyzxkxARV&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/MyzxkxARV&#34;}],&#34;date&#34;:&#34;2022-03-01 20:27:38&#34;,&#34;dateFormat&#34;:&#34;2022-03-01&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/taro-jie-jue-xiao-cheng-xu-bao-ti-ji-guo-da-de-wen-ti&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;5 min read&#34;,&#34;time&#34;:265000,&#34;words&#34;:1010,&#34;minutes&#34;:5},&#34;description&#34;:&#34;\n\nç›®å‰å°ç¨‹åºåˆ†åŒ…å¤§å°æœ‰ä»¥ä¸‹é™åˆ¶ï¼š\næ•´ä¸ªå°ç¨‹åºæ‰€æœ‰åˆ†åŒ…å¤§å°ä¸è¶…è¿‡ 8M\nå•ä¸ªåˆ†åŒ…/ä¸»åŒ…å¤§å°ä¸èƒ½è¶…è¿‡ 2M\n\næ‰€ä»¥è¯´8Mçš„é™åˆ¶æ˜¯è¦åˆ†åŒ…è‡³å°‘4ä¸ªåŒ…ï¼Œå•ä¸ªåˆ†åŒ…ä¸Šé™å…¶å®è¿˜æ˜¯2M\nè§£å†³è¿™ä¸ªé—®é¢˜ä¸€ç§æ˜¯åˆ†åŒ…\nå®˜æ–¹ç»™å‡ºçš„åˆ†åŒ…å®˜ç½‘æ–‡æ¡£\nå¦ä¸€ç§æ˜¯å‡å°‘åŒ…ä¸­çš„å›¾ç‰‡...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%A7%A3%E5%86%B3%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E4%B8%80%E7%A7%8D%E6%98%AF%E5%88%86%E5%8C%85\&#34;&gt;è§£å†³è¿™ä¸ªé—®é¢˜ä¸€ç§æ˜¯åˆ†åŒ…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%A6%E4%B8%80%E7%A7%8D%E6%98%AF%E5%87%8F%E5%B0%91%E5%8C%85%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87\&#34;&gt;å¦ä¸€ç§æ˜¯å‡å°‘åŒ…ä¸­çš„å›¾ç‰‡&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%82%A3%E4%B9%88%E6%9C%80%E5%A5%BD%E7%9A%84%E6%96%B9%E5%BC%8F%E5%B0%B1%E6%98%AF%E5%B0%86%E5%9B%BE%E7%89%87%E6%94%BE%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E7%9A%84%E6%97%B6%E5%80%99%E5%BC%95%E7%94%A8%E7%9A%84%E5%B0%B1%E6%98%AF%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%89%BE%E8%B5%B7%E6%9D%A5%E4%B9%9F%E6%96%B9%E4%BE%BF%E4%BD%86%E6%98%AF%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%86%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E5%B9%B6%E4%B8%8A%E4%BC%A0cdn%E5%90%8C%E6%97%B6%E5%B0%86%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87%E5%BC%95%E7%94%A8%E8%B7%AF%E5%BE%84%E6%94%B9%E6%88%90%E7%BD%91%E7%BB%9C%E9%93%BE%E6%8E%A5%E7%84%B6%E5%90%8E%E5%88%A0%E9%99%A4dist%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E5%9B%BE%E7%89%87-%E9%82%A3%E4%B9%88%E6%8E%A5%E4%B8%8B%E6%9D%A5%E6%88%91%E4%BB%AC%E5%B0%B1%E5%86%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%8B\&#34;&gt;é‚£ä¹ˆæœ€å¥½çš„æ–¹å¼å°±æ˜¯å°†å›¾ç‰‡æ”¾åœ¨é¡¹ç›®ä¸­ï¼Œæœ¬åœ°å¼€å‘çš„æ—¶å€™å¼•ç”¨çš„å°±æ˜¯æœ¬åœ°çš„ï¼Œå¢åˆ æ”¹æ‰¾èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œä½†æ˜¯æ‰“åŒ…æ„å»ºçš„æ—¶å€™å°†å›¾ç‰‡å‹ç¼©å¹¶ä¸Šä¼ CDNï¼ŒåŒæ—¶å°†é¡¹ç›®ä¸­çš„å›¾ç‰‡å¼•ç”¨è·¯å¾„æ”¹æˆç½‘ç»œé“¾æ¥ï¼Œç„¶ååˆ é™¤distä¸­çš„æ‰€æœ‰å›¾ç‰‡ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±å†™ä¸ªè„šæœ¬å®ç°ä¸€ä¸‹ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%88%E5%86%99%E4%B8%8A%E4%BC%A0%E6%96%B9%E6%B3%95%E7%94%A8%E4%BA%8E%E6%89%93%E5%8C%85%E5%AE%8C%E4%B8%8A%E4%BC%A0%E5%85%88%E5%8E%8B%E7%BC%A9%E5%86%8D%E4%B8%8A%E4%BC%A0%E5%88%B0%E9%98%BF%E9%87%8Coss\&#34;&gt;å…ˆå†™ä¸Šä¼ æ–¹æ³•ï¼Œç”¨äºæ‰“åŒ…å®Œä¸Šä¼ ï¼Œå…ˆå‹ç¼©å†ä¸Šä¼ åˆ°é˜¿é‡Œoss&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%8A%E4%BC%A0%E6%96%B9%E6%B3%95%E5%86%99%E5%AE%8C%E4%BA%86%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E8%B0%83%E7%94%A8%E5%91%A2%E5%BA%94%E8%AF%A5%E5%9C%A8%E6%9E%84%E5%BB%BA%E5%AE%8C%E4%B9%8B%E5%90%8E%E8%B0%83%E7%94%A8%E5%9B%A0%E4%B8%BA%E4%B8%8A%E4%BC%A0%E5%AE%8C%E8%A6%81%E5%88%A0%E9%99%A4%E5%8C%85%E4%B8%ADdist%E4%B8%8B%E7%9A%84%E5%9B%BE%E7%89%87%E9%82%A3%E4%B9%88%E6%88%91%E4%BB%AC%E5%BA%94%E8%AF%A5packagejson%E4%B8%AD%E6%9B%B4%E6%94%B9%E5%91%BD%E4%BB%A4\&#34;&gt;ä¸Šä¼ æ–¹æ³•å†™å®Œäº†ï¼Œä»€ä¹ˆæ—¶å€™è°ƒç”¨å‘¢ï¼Œåº”è¯¥åœ¨æ„å»ºå®Œä¹‹åè°ƒç”¨ï¼Œå› ä¸ºä¸Šä¼ å®Œè¦åˆ é™¤åŒ…ä¸­distä¸‹çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥package.jsonä¸­æ›´æ”¹å‘½ä»¤&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BF%98%E6%9C%89%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F\&#34;&gt;è¿˜æœ‰è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9C%80%E5%90%8E%E4%BD%BF%E7%94%A8%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F\&#34;&gt;æœ€åä½¿ç”¨éœ€è¦æ³¨æ„ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;public static createBitmap(imgUrl: string): Promise&amp;lt;any&amp;gt; {\n    return new Promise&amp;lt;object | number&amp;gt;((resolve, reject) =&amp;gt; {\n      const image: any = new Image()\n      image.src = imgUrl || &#39;&#39;\n      image.onload = () =&amp;gt; {\n        const Bitmap = new createjs.Bitmap(image)\n        const { width, height } = Bitmap.image\n        // Bitmap.setBounds(0, 0, width, height);\n        Bitmap.regX = width / 2\n        Bitmap.regY = height / 2\n        resolve(Bitmap)\n      }\n      image.onerror = (error: any) =&amp;gt; {\n        console.warn(`&amp;quot;image load fail&amp;quot;${imgUrl}`, error)\n      }\n    })\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;æ³¨æ„é»˜è®¤æ³¨å†Œä¸­å¿ƒç‚¹æ—‹è½¬æ—¶å›´ç»•çš„ç‚¹æ˜¯åœ¨å·¦ä¸Šè§’regxregyå¹¶ä¸æ˜¯æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹è€Œæ˜¯å‘å·¦ä¸Šæ–¹å‘åç§»å®½é«˜çš„ä¸€åŠä½†åªæ˜¯åç§»ç‰©ä½“è¿™ä¸ªç‰©ä½“çš„æ³¨å†Œä¸­å¿ƒç‚¹æ˜¯ä¸å˜çš„-æƒ³æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹åªèƒ½é xyæ¥è®¾ç½®ä½ç½®æ³¨å†Œä¸­å¿ƒç‚¹æ°¸è¿œéƒ½åœ¨å·¦ä¸Šè§’ä½†é€šè¿‡regxregyå¯ä»¥æŠŠç‰©ä½“æœ¬èº«å¾€åæ–¹å‘å¹³ç§»ä¸€åŠä½†æ³¨å†Œä¸­å¿ƒç‚¹è¿˜åœ¨ä¹‹å‰çš„ä½ç½®è¿™æ ·çš„è¯æˆ‘ä»¬çš„æ—‹è½¬ä½ç½®çœ‹èµ·æ¥å°±æ˜¯å›´ç€ä¸­é—´ç‚¹æ—‹è½¬äº†-è¿™ä¹ˆè¯´å¤§å®¶å¯èƒ½æœ‰ç‚¹æ‡µæ²¡å…³ç³»è¿™é‡Œç¡®å®æœ‰ç‚¹éš¾ç†è§£~æœ‰ä¸ªåšå®¢å†™çš„å¾ˆå¥½å¤§å®¶å¯ä»¥ç»“åˆæˆ‘æ€»ç»“çš„çœ‹ä¸€ä¸‹\&#34;&gt;æ³¨æ„ï¼šé»˜è®¤æ³¨å†Œä¸­å¿ƒç‚¹ï¼ˆæ—‹è½¬æ—¶å›´ç»•çš„ç‚¹ï¼‰æ˜¯åœ¨å·¦ä¸Šè§’ï¼ŒregXï¼ŒregYå¹¶ä¸æ˜¯æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹ï¼Œè€Œæ˜¯å‘å·¦ä¸Šæ–¹å‘åç§»å®½é«˜çš„ä¸€åŠï¼Œä½†åªæ˜¯åç§»ç‰©ä½“ï¼Œè¿™ä¸ªç‰©ä½“çš„æ³¨å†Œä¸­å¿ƒç‚¹æ˜¯ä¸å˜çš„ã€‚æƒ³æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹ï¼Œåªèƒ½é x,yæ¥è®¾ç½®ä½ç½®ï¼Œæ³¨å†Œä¸­å¿ƒç‚¹æ°¸è¿œéƒ½åœ¨å·¦ä¸Šè§’ï¼Œä½†é€šè¿‡regXï¼ŒregYå¯ä»¥æŠŠç‰©ä½“æœ¬èº«å¾€åæ–¹å‘å¹³ç§»ä¸€åŠï¼ˆä½†æ³¨å†Œä¸­å¿ƒç‚¹è¿˜åœ¨ä¹‹å‰çš„ä½ç½®ï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬çš„æ—‹è½¬ä½ç½®çœ‹èµ·æ¥å°±æ˜¯å›´ç€ä¸­é—´ç‚¹æ—‹è½¬äº†ã€‚è¿™ä¹ˆè¯´å¤§å®¶å¯èƒ½æœ‰ç‚¹æ‡µï¼Œæ²¡å…³ç³»ï¼Œè¿™é‡Œç¡®å®æœ‰ç‚¹éš¾ç†è§£ï½æœ‰ä¸ªåšå®¢å†™çš„å¾ˆå¥½ï¼Œå¤§å®¶å¯ä»¥ç»“åˆæˆ‘æ€»ç»“çš„çœ‹ä¸€ä¸‹ï¼š&lt;/h4&gt;\n&lt;p&gt;&lt;a href=\&#34;https://segmentfault.com/a/1190000016445744\&#34;&gt;Easeljsä¹‹regX/regYè¯¦è§£&lt;/a&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;createjs-chuang-jian-tu-pian-wei-tu-bing-she-zhi-zhong-xin-dian-wei-tu-pian-zhong-xin&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;createjs åˆ›å»ºå›¾ç‰‡ä½å›¾å¹¶è®¾ç½®ä¸­å¿ƒç‚¹ä¸ºå›¾ç‰‡ä¸­å¿ƒ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;createjs&#34;,&#34;slug&#34;:&#34;2Yx2EO2fG&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/2Yx2EO2fG&#34;}],&#34;date&#34;:&#34;2022-02-22 11:38:28&#34;,&#34;dateFormat&#34;:&#34;2022-02-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/createjs-chuang-jian-tu-pian-wei-tu-bing-she-zhi-zhong-xin-dian-wei-tu-pian-zhong-xin&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:68000,&#34;words&#34;:274,&#34;minutes&#34;:2},&#34;description&#34;:&#34;public static createBitmap(imgUrl: string): Promise&amp;lt;any&amp;gt; {\n    return new Promise&amp;lt;object | number&amp;gt;((resolve,...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B3%A8%E6%84%8F%E9%BB%98%E8%AE%A4%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%82%B9%E6%97%8B%E8%BD%AC%E6%97%B6%E5%9B%B4%E7%BB%95%E7%9A%84%E7%82%B9%E6%98%AF%E5%9C%A8%E5%B7%A6%E4%B8%8A%E8%A7%92regxregy%E5%B9%B6%E4%B8%8D%E6%98%AF%E6%94%B9%E5%8F%98%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%82%B9%E8%80%8C%E6%98%AF%E5%90%91%E5%B7%A6%E4%B8%8A%E6%96%B9%E5%90%91%E5%81%8F%E7%A7%BB%E5%AE%BD%E9%AB%98%E7%9A%84%E4%B8%80%E5%8D%8A%E4%BD%86%E5%8F%AA%E6%98%AF%E5%81%8F%E7%A7%BB%E7%89%A9%E4%BD%93%E8%BF%99%E4%B8%AA%E7%89%A9%E4%BD%93%E7%9A%84%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%82%B9%E6%98%AF%E4%B8%8D%E5%8F%98%E7%9A%84-%E6%83%B3%E6%94%B9%E5%8F%98%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%82%B9%E5%8F%AA%E8%83%BD%E9%9D%A0xy%E6%9D%A5%E8%AE%BE%E7%BD%AE%E4%BD%8D%E7%BD%AE%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%82%B9%E6%B0%B8%E8%BF%9C%E9%83%BD%E5%9C%A8%E5%B7%A6%E4%B8%8A%E8%A7%92%E4%BD%86%E9%80%9A%E8%BF%87regxregy%E5%8F%AF%E4%BB%A5%E6%8A%8A%E7%89%A9%E4%BD%93%E6%9C%AC%E8%BA%AB%E5%BE%80%E5%8F%8D%E6%96%B9%E5%90%91%E5%B9%B3%E7%A7%BB%E4%B8%80%E5%8D%8A%E4%BD%86%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%82%B9%E8%BF%98%E5%9C%A8%E4%B9%8B%E5%89%8D%E7%9A%84%E4%BD%8D%E7%BD%AE%E8%BF%99%E6%A0%B7%E7%9A%84%E8%AF%9D%E6%88%91%E4%BB%AC%E7%9A%84%E6%97%8B%E8%BD%AC%E4%BD%8D%E7%BD%AE%E7%9C%8B%E8%B5%B7%E6%9D%A5%E5%B0%B1%E6%98%AF%E5%9B%B4%E7%9D%80%E4%B8%AD%E9%97%B4%E7%82%B9%E6%97%8B%E8%BD%AC%E4%BA%86-%E8%BF%99%E4%B9%88%E8%AF%B4%E5%A4%A7%E5%AE%B6%E5%8F%AF%E8%83%BD%E6%9C%89%E7%82%B9%E6%87%B5%E6%B2%A1%E5%85%B3%E7%B3%BB%E8%BF%99%E9%87%8C%E7%A1%AE%E5%AE%9E%E6%9C%89%E7%82%B9%E9%9A%BE%E7%90%86%E8%A7%A3~%E6%9C%89%E4%B8%AA%E5%8D%9A%E5%AE%A2%E5%86%99%E7%9A%84%E5%BE%88%E5%A5%BD%E5%A4%A7%E5%AE%B6%E5%8F%AF%E4%BB%A5%E7%BB%93%E5%90%88%E6%88%91%E6%80%BB%E7%BB%93%E7%9A%84%E7%9C%8B%E4%B8%80%E4%B8%8B\&#34;&gt;æ³¨æ„ï¼šé»˜è®¤æ³¨å†Œä¸­å¿ƒç‚¹ï¼ˆæ—‹è½¬æ—¶å›´ç»•çš„ç‚¹ï¼‰æ˜¯åœ¨å·¦ä¸Šè§’ï¼ŒregXï¼ŒregYå¹¶ä¸æ˜¯æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹ï¼Œè€Œæ˜¯å‘å·¦ä¸Šæ–¹å‘åç§»å®½é«˜çš„ä¸€åŠï¼Œä½†åªæ˜¯åç§»ç‰©ä½“ï¼Œè¿™ä¸ªç‰©ä½“çš„æ³¨å†Œä¸­å¿ƒç‚¹æ˜¯ä¸å˜çš„ã€‚æƒ³æ”¹å˜æ³¨å†Œä¸­å¿ƒç‚¹ï¼Œåªèƒ½é x,yæ¥è®¾ç½®ä½ç½®ï¼Œæ³¨å†Œä¸­å¿ƒç‚¹æ°¸è¿œéƒ½åœ¨å·¦ä¸Šè§’ï¼Œä½†é€šè¿‡regXï¼ŒregYå¯ä»¥æŠŠç‰©ä½“æœ¬èº«å¾€åæ–¹å‘å¹³ç§»ä¸€åŠï¼ˆä½†æ³¨å†Œä¸­å¿ƒç‚¹è¿˜åœ¨ä¹‹å‰çš„ä½ç½®ï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬çš„æ—‹è½¬ä½ç½®çœ‹èµ·æ¥å°±æ˜¯å›´ç€ä¸­é—´ç‚¹æ—‹è½¬äº†ã€‚è¿™ä¹ˆè¯´å¤§å®¶å¯èƒ½æœ‰ç‚¹æ‡µï¼Œæ²¡å…³ç³»ï¼Œè¿™é‡Œç¡®å®æœ‰ç‚¹éš¾ç†è§£ï½æœ‰ä¸ªåšå®¢å†™çš„å¾ˆå¥½ï¼Œå¤§å®¶å¯ä»¥ç»“åˆæˆ‘æ€»ç»“çš„çœ‹ä¸€ä¸‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;a href=\&#34;https://vitejs.cn/guide/api-plugin.html\&#34;&gt;viteå®˜ç½‘è‡ªå®šä¹‰æ’ä»¶&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Vite æ’ä»¶æ‰©å±•äº†è®¾è®¡å‡ºè‰²çš„ Rollup æ¥å£ï¼Œå¸¦æœ‰ä¸€äº› Vite ç‹¬æœ‰çš„é…ç½®é¡¹ã€‚å› ä¸ºviteæ˜¯ä½¿ç”¨rollupæ‰“åŒ…çš„æ‰€ä»¥æœ€å¥½ä½ èƒ½äº†è§£&lt;a href=\&#34;https://rollupjs.org/guide/en/#plugin-development\&#34;&gt;Rollup æ’ä»¶æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ä¸‹é¢çš„éƒ½æ˜¯æŒ‰ç…§å®˜ç½‘ä»‹ç»å†™çš„ï¼Œå› ä¸ºæ¯•ç«Ÿä½ çœ‹åˆ°æˆ‘è¿™äº†ï¼Œç›´æ¥ç»™ä½ ä¸ªé“¾æ¥å†è®©ä½ è·³è½¬åˆ°å®˜ç½‘å»çœ‹æœ‰ç‚¹ä¸è´Ÿè´£ä»»ï¼Œå¦‚æœä½ å·²ç»ä»å®˜ç½‘çœ‹è¿‡äº†ï¼Œå¹¶ä¸”å¯¹è‡ªå®šä¹‰æ’ä»¶å¾ˆç†Ÿæ‚‰äº†ï¼Œé‚£ä¹ˆè¯·ç›´æ¥åˆ°æœ€ä¸‹é¢çœ‹ &lt;a href=\&#34;#test\&#34;&gt;é¡¹ç›®å®æˆ˜éƒ¨åˆ†&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;çº¦å®š\&#34;&gt;çº¦å®š&lt;/h3&gt;\n&lt;p&gt;å¦‚æœæ’ä»¶ä¸ä½¿ç”¨ Vite ç‰¹æœ‰çš„é’©å­ï¼Œå¯ä»¥ä½œä¸º &lt;a href=\&#34;https://vitejs.cn/guide/api-plugin.html#rollup-plugin-compatibility\&#34;&gt;å…¼å®¹ Rollup çš„æ’ä»¶&lt;/a&gt; æ¥å®ç°ï¼Œæ¨èä½¿ç”¨ &lt;a href=\&#34;https://rollupjs.org/guide/en/#conventions\&#34;&gt;Rollup æ’ä»¶åç§°çº¦å®š&lt;/a&gt;ã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Rollup æ’ä»¶åº”è¯¥æœ‰ä¸€ä¸ªå¸¦ rollup-plugin- å‰ç¼€ã€è¯­ä¹‰æ¸…æ™°çš„åç§°ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨ package.json ä¸­åŒ…å« rollup-plugin å’Œ vite-plugin å…³é”®å­—ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;è¿™æ ·ï¼Œæ’ä»¶ä¹Ÿå¯ä»¥ç”¨äºçº¯ Rollup æˆ–åŸºäº WMR çš„é¡¹ç›®ã€‚&lt;/p&gt;\n&lt;p&gt;å¯¹äº Vite ä¸“å±çš„æ’ä»¶ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Vite æ’ä»¶åº”è¯¥æœ‰ä¸€ä¸ªå¸¦ vite-plugin- å‰ç¼€ã€è¯­ä¹‰æ¸…æ™°çš„åç§°ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨ package.json ä¸­åŒ…å« vite-plugin å…³é”®å­—ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨æ’ä»¶æ–‡æ¡£å¢åŠ ä¸€éƒ¨åˆ†å…³äºä¸ºä»€ä¹ˆæœ¬æ’ä»¶æ˜¯ä¸€ä¸ª Vite ä¸“å±æ’ä»¶çš„è¯¦ç»†è¯´æ˜ï¼ˆå¦‚ï¼Œæœ¬æ’ä»¶ä½¿ç”¨äº† Vite ç‰¹æœ‰çš„æ’ä»¶é’©å­ï¼‰ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;å¦‚æœä½ çš„æ’ä»¶åªé€‚ç”¨äºç‰¹å®šçš„æ¡†æ¶ï¼Œå®ƒçš„åå­—åº”è¯¥éµå¾ªä»¥ä¸‹å‰ç¼€æ ¼å¼ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;vite-plugin-vue- å‰ç¼€ä½œä¸º Vue æ’ä»¶&lt;/li&gt;\n&lt;li&gt;vite-plugin-react- å‰ç¼€ä½œä¸º React æ’ä»¶&lt;/li&gt;\n&lt;li&gt;vite-plugin-svelte- å‰ç¼€ä½œä¸º Svelte æ’ä»¶&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;æ’ä»¶é…ç½®\&#34;&gt;æ’ä»¶é…ç½®&lt;/h3&gt;\n&lt;p&gt;ç”¨æˆ·ä¼šå°†æ’ä»¶æ·»åŠ åˆ°é¡¹ç›®çš„ devDependencies ä¸­å¹¶ä½¿ç”¨æ•°ç»„å½¢å¼çš„ plugins é€‰é¡¹é…ç½®å®ƒä»¬ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// vite.config.js\nimport vitePlugin from &#39;vite-plugin-feature&#39;\nimport rollupPlugin from &#39;rollup-plugin-feature&#39;\n\nexport default defineConfig({\n  plugins: [vitePlugin(), rollupPlugin()]\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å‡å€¼çš„æ’ä»¶å°†è¢«å¿½ç•¥ï¼Œå¯ä»¥ç”¨æ¥è½»æ¾åœ°å¯ç”¨æˆ–åœç”¨æ’ä»¶ã€‚&lt;/p&gt;\n&lt;p&gt;plugins ä¹Ÿå¯ä»¥æ¥å—å°†å¤šä¸ªæ’ä»¶ä½œä¸ºå•ä¸ªå…ƒç´ çš„é¢„è®¾ã€‚è¿™å¯¹äºä½¿ç”¨å¤šä¸ªæ’ä»¶å®ç°çš„å¤æ‚ç‰¹æ€§ï¼ˆå¦‚æ¡†æ¶é›†æˆï¼‰å¾ˆæœ‰ç”¨ã€‚è¯¥æ•°ç»„å°†åœ¨å†…éƒ¨è¢«æ‰å¹³åŒ–ï¼ˆflattenï¼‰ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// æ¡†æ¶æ’ä»¶\nimport frameworkRefresh from &#39;vite-plugin-framework-refresh&#39;\nimport frameworkDevtools from &#39;vite-plugin-framework-devtools&#39;\n\nexport default function framework(config) {\n  return [frameworkRefresh(config), frameworkDevTools(config)]\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// vite.config.js\nimport { defineConfig } from &#39;vite&#39;\nimport framework from &#39;vite-plugin-framework&#39;\n\nexport default defineConfig({\n  plugins: [framework()]\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç®€å•ç¤ºä¾‹\&#34;&gt;ç®€å•ç¤ºä¾‹&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;TIP&lt;br&gt;\né€šå¸¸çš„æƒ¯ä¾‹æ˜¯åˆ›å»ºä¸€ä¸ª Vite/Rollup æ’ä»¶ä½œä¸ºä¸€ä¸ªè¿”å›å®é™…æ’ä»¶å¯¹è±¡çš„å·¥å‚å‡½æ•°ã€‚è¯¥å‡½æ•°å¯ä»¥æ¥å—å…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ’ä»¶è¡Œä¸ºçš„é€‰é¡¹ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h4 id=\&#34;è½¬æ¢è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹\&#34;&gt;è½¬æ¢è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const fileRegex = /\\.(my-file-ext)$/\n\nexport default function myPlugin() {\n  return {\n    name: &#39;transform-file&#39;,\n\n    transform(src, id) {\n      if (fileRegex.test(id)) {\n        return {\n          code: compileFileToJS(src),\n          map: null // å¦‚æœå¯è¡Œå°†æä¾› source map\n        }\n      }\n    }\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;é€šç”¨é’©å­\&#34;&gt;é€šç”¨é’©å­&lt;/h3&gt;\n&lt;p&gt;åœ¨å¼€å‘ä¸­ï¼ŒVite å¼€å‘æœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªæ’ä»¶å®¹å™¨æ¥è°ƒç”¨ &lt;a href=\&#34;https://rollupjs.org/guide/en/#build-hooks\&#34;&gt;Rollup æ„å»ºé’©å­&lt;/a&gt;ï¼Œä¸ Rollup å¦‚å‡ºä¸€è¾™ã€‚&lt;/p&gt;\n&lt;p&gt;ä»¥ä¸‹é’©å­åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è¢«è°ƒç”¨ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;options&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;buildStart&lt;br&gt;\nä»¥ä¸‹é’©å­ä¼šåœ¨æ¯ä¸ªä¼ å…¥æ¨¡å—è¯·æ±‚æ—¶è¢«è°ƒç”¨ï¼š&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;resolveId&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;load&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;transform&lt;br&gt;\nä»¥ä¸‹é’©å­åœ¨æœåŠ¡å™¨å…³é—­æ—¶è¢«è°ƒç”¨ï¼š&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;buildEnd&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;closeBundle&lt;br&gt;\nè¯·æ³¨æ„ moduleParsed é’©å­åœ¨å¼€å‘ä¸­æ˜¯ ä¸ä¼š è¢«è°ƒç”¨çš„ï¼Œå› ä¸º Vite ä¸ºäº†æ€§èƒ½ä¼šé¿å…å®Œæ•´çš„ AST è§£æã€‚&lt;br&gt;\nOutput Generation Hooksï¼ˆé™¤äº† closeBundle) åœ¨å¼€å‘ä¸­æ˜¯ ä¸ä¼š è¢«è°ƒç”¨çš„ã€‚ä½ å¯ä»¥è®¤ä¸º Vite çš„å¼€å‘æœåŠ¡å™¨åªè°ƒç”¨äº† rollup.rollup() è€Œæ²¡æœ‰è°ƒç”¨ bundle.generate()ã€‚&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645006280268.jpeg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;vite-ç‹¬æœ‰é’©å­\&#34;&gt;Vite ç‹¬æœ‰é’©å­&lt;/h3&gt;\n&lt;p&gt;Vite æ’ä»¶ä¹Ÿå¯ä»¥æä¾›é’©å­æ¥æœåŠ¡äºç‰¹å®šçš„ Vite ç›®æ ‡ã€‚è¿™äº›é’©å­ä¼šè¢« Rollup å¿½ç•¥ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;config\&#34;&gt;config&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;ç±»å‹ï¼š (config: UserConfig, env: { mode: string, command: string }) =&amp;gt; UserConfig | null | void&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ç§ç±»ï¼š async, sequential&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;åœ¨è§£æ Vite é…ç½®å‰è°ƒç”¨ã€‚é’©å­æ¥æ”¶åŸå§‹ç”¨æˆ·é…ç½®ï¼ˆå‘½ä»¤è¡Œé€‰é¡¹æŒ‡å®šçš„ä¼šä¸é…ç½®æ–‡ä»¶åˆå¹¶ï¼‰å’Œä¸€ä¸ªæè¿°é…ç½®ç¯å¢ƒçš„å˜é‡ï¼ŒåŒ…å«æ­£åœ¨ä½¿ç”¨çš„ mode å’Œ commandã€‚å®ƒå¯ä»¥è¿”å›ä¸€ä¸ªå°†è¢«æ·±åº¦åˆå¹¶åˆ°ç°æœ‰é…ç½®ä¸­çš„éƒ¨åˆ†é…ç½®å¯¹è±¡ï¼Œæˆ–è€…ç›´æ¥æ”¹å˜é…ç½®ï¼ˆå¦‚æœé»˜è®¤çš„åˆå¹¶ä¸èƒ½è¾¾åˆ°é¢„æœŸçš„ç»“æœï¼‰ã€‚&lt;/p&gt;\n&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// è¿”å›éƒ¨åˆ†é…ç½®ï¼ˆæ¨èï¼‰\nconst partialConfigPlugin = () =&amp;gt; ({\n  name: &#39;return-partial&#39;,\n  config: () =&amp;gt; ({\n    alias: {\n      foo: &#39;bar&#39;\n    }\n  })\n})\n\n// ç›´æ¥æ”¹å˜é…ç½®ï¼ˆåº”ä»…åœ¨åˆå¹¶ä¸èµ·ä½œç”¨æ—¶ä½¿ç”¨ï¼‰\nconst mutateConfigPlugin = () =&amp;gt; ({\n  name: &#39;mutate-config&#39;,\n  config(config, { command }) {\n    if (command === &#39;build&#39;) {\n      config.root = __dirname\n    }\n  }\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;æ³¨æ„&lt;br&gt;\nç”¨æˆ·æ’ä»¶åœ¨è¿è¡Œè¿™ä¸ªé’©å­ä¹‹å‰ä¼šè¢«è§£æï¼Œå› æ­¤åœ¨ config é’©å­ä¸­æ³¨å…¥å…¶ä»–æ’ä»¶ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h4 id=\&#34;configresolved\&#34;&gt;configResolved&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;ç±»å‹ï¼š (config: ResolvedConfig) =&amp;gt; void | Promise&lt;void&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ç§ç±»ï¼š async, parallel&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;åœ¨è§£æ Vite é…ç½®åè°ƒç”¨ã€‚ä½¿ç”¨è¿™ä¸ªé’©å­è¯»å–å’Œå­˜å‚¨æœ€ç»ˆè§£æçš„é…ç½®ã€‚å½“æ’ä»¶éœ€è¦æ ¹æ®è¿è¡Œçš„å‘½ä»¤åšä¸€äº›ä¸åŒçš„äº‹æƒ…æ—¶ï¼Œå®ƒä¹Ÿå¾ˆæœ‰ç”¨ã€‚&lt;/p&gt;\n&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const exmaplePlugin = () =&amp;gt; {\n  let config\n\n  return {\n    name: &#39;read-config&#39;,\n\n    configResolved(resolvedConfig) {\n      // å­˜å‚¨æœ€ç»ˆè§£æçš„é…ç½®\n      config = resolvedConfig\n    },\n\n    // åœ¨å…¶ä»–é’©å­ä¸­ä½¿ç”¨å­˜å‚¨çš„é…ç½®\n    transform(code, id) {\n      if (config.command === &#39;serve&#39;) {\n        // dev: ç”±å¼€å‘æœåŠ¡å™¨è°ƒç”¨çš„æ’ä»¶\n      } else {\n        // build: ç”± Rollup è°ƒç”¨çš„æ’ä»¶\n      }\n    }\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;æ³¨æ„ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œcommand çš„å€¼ä¸º serveï¼ˆåœ¨ CLI ä¸­ï¼Œvite å’Œ vite dev æ˜¯ vite serve çš„åˆ«åï¼‰ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h4 id=\&#34;configureserver\&#34;&gt;configureServer&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;ç±»å‹ï¼š (server: ViteDevServer) =&amp;gt; (() =&amp;gt; void) | void | Promise&amp;lt;(() =&amp;gt; void) | void&amp;gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ç§ç±»ï¼š async, sequential&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ­¤å¤–è¯·çœ‹ &lt;a href=\&#34;https://vitejs.cn/guide/api-javascript.html#vitedevserver\&#34;&gt;ViteDevServer&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;æ˜¯ç”¨äºé…ç½®å¼€å‘æœåŠ¡å™¨çš„é’©å­ã€‚æœ€å¸¸è§çš„ç”¨ä¾‹æ˜¯åœ¨å†…éƒ¨ connect åº”ç”¨ç¨‹åºä¸­æ·»åŠ è‡ªå®šä¹‰ä¸­é—´ä»¶:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const myPlugin = () =&amp;gt; ({\n  name: &#39;configure-server&#39;,\n  configureServer(server) {\n    server.middlewares.use((req, res, next) =&amp;gt; {\n      // è‡ªå®šä¹‰è¯·æ±‚å¤„ç†...\n    })\n  }\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ³¨å…¥åç½®ä¸­é—´ä»¶&lt;/p&gt;\n&lt;p&gt;configureServer é’©å­å°†åœ¨å†…éƒ¨ä¸­é—´ä»¶è¢«å®‰è£…å‰è°ƒç”¨ï¼Œæ‰€ä»¥è‡ªå®šä¹‰çš„ä¸­é—´ä»¶å°†ä¼šé»˜è®¤ä¼šæ¯”å†…éƒ¨ä¸­é—´ä»¶æ—©è¿è¡Œã€‚å¦‚æœä½ æƒ³æ³¨å…¥ä¸€ä¸ªåœ¨å†…éƒ¨ä¸­é—´ä»¶ ä¹‹å è¿è¡Œçš„ä¸­é—´ä»¶ï¼Œä½ å¯ä»¥ä» configureServer è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¼šåœ¨å†…éƒ¨ä¸­é—´ä»¶å®‰è£…åè¢«è°ƒç”¨ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const myPlugin = () =&amp;gt; ({\n  name: &#39;configure-server&#39;,\n  configureServer(server) {\n    // è¿”å›ä¸€ä¸ªåœ¨å†…éƒ¨ä¸­é—´ä»¶å®‰è£…å\n    // è¢«è°ƒç”¨çš„åç½®é’©å­\n    return () =&amp;gt; {\n      server.middlewares.use((req, res, next) =&amp;gt; {\n        // è‡ªå®šä¹‰è¯·æ±‚å¤„ç†...\n      })\n    }\n  }\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å­˜å‚¨æœåŠ¡å™¨è®¿é—®&lt;/p&gt;\n&lt;p&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå…¶ä»–æ’ä»¶é’©å­å¯èƒ½éœ€è¦è®¿é—®å¼€å‘æœåŠ¡å™¨å®ä¾‹ï¼ˆä¾‹å¦‚è®¿é—® websocket æœåŠ¡å™¨ã€æ–‡ä»¶ç³»ç»Ÿç›‘è§†ç¨‹åºæˆ–æ¨¡å—å›¾ï¼‰ã€‚è¿™ä¸ªé’©å­ä¹Ÿå¯ä»¥ç”¨æ¥å­˜å‚¨æœåŠ¡å™¨å®ä¾‹ä»¥ä¾›å…¶ä»–é’©å­è®¿é—®:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const myPlugin = () =&amp;gt; {\n  let server\n  return {\n    name: &#39;configure-server&#39;,\n    configureServer(_server) {\n      server = _server\n    },\n    transform(code, id) {\n      if (server) {\n        // ä½¿ç”¨ server...\n      }\n    }\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ³¨æ„ configureServer åœ¨è¿è¡Œç”Ÿäº§ç‰ˆæœ¬æ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œæ‰€ä»¥å…¶ä»–é’©å­éœ€è¦é˜²èŒƒå®ƒç¼ºå¤±ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;transformindexhtml\&#34;&gt;transformIndexHtml&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;ç±»å‹ï¼š IndexHtmlTransformHook | { enforce?: &#39;pre&#39; | &#39;post&#39;, transform: IndexHtmlTransformHook }&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ç§ç±»ï¼š async, sequential&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;è½¬æ¢ index.html çš„ä¸“ç”¨é’©å­ã€‚é’©å­æ¥æ”¶å½“å‰çš„ HTML å­—ç¬¦ä¸²å’Œè½¬æ¢ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡åœ¨å¼€å‘æœŸé—´æš´éœ²ViteDevServerå®ä¾‹ï¼Œåœ¨æ„å»ºæœŸé—´æš´éœ² Rollup è¾“å‡ºçš„åŒ…ã€‚&lt;br&gt;\nè¿™ä¸ªé’©å­å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œå¹¶ä¸”å¯ä»¥è¿”å›ä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;ç»è¿‡è½¬æ¢çš„ HTML å­—ç¬¦ä¸²&lt;/li&gt;\n&lt;li&gt;æ³¨å…¥åˆ°ç°æœ‰ HTML ä¸­çš„æ ‡ç­¾æè¿°ç¬¦å¯¹è±¡æ•°ç»„ï¼ˆ{ tag, attrs, children }ï¼‰ã€‚æ¯ä¸ªæ ‡ç­¾ä¹Ÿå¯ä»¥æŒ‡å®šå®ƒåº”è¯¥è¢«æ³¨å…¥åˆ°å“ªé‡Œï¼ˆé»˜è®¤æ˜¯åœ¨ &lt;head&gt; ä¹‹å‰ï¼‰&lt;/li&gt;\n&lt;li&gt;ä¸€ä¸ªåŒ…å« { html, tags } çš„å¯¹è±¡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;åŸºç¡€ç¤ºä¾‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const htmlPlugin = () =&amp;gt; {\n  return {\n    name: &#39;html-transform&#39;,\n    transformIndexHtml(html) {\n      return html.replace(\n        /&amp;lt;title&amp;gt;(.*?)&amp;lt;\\/title&amp;gt;/,\n        `&amp;lt;title&amp;gt;Title replaced!&amp;lt;/title&amp;gt;`\n      )\n    }\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;handlehotupdate\&#34;&gt;handleHotUpdate&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;ç±»å‹ï¼š (ctx: HmrContext) =&amp;gt; Array&lt;ModuleNode&gt; | void | Promise&amp;lt;Array&lt;ModuleNode&gt; | void&amp;gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;æ‰§è¡Œè‡ªå®šä¹‰ HMR æ›´æ–°å¤„ç†ã€‚é’©å­æ¥æ”¶ä¸€ä¸ªå¸¦æœ‰ä»¥ä¸‹ç­¾åçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;interface HmrContext {\n  file: string\n  timestamp: number\n  modules: Array&amp;lt;ModuleNode&amp;gt;\n  read: () =&amp;gt; string | Promise&amp;lt;string&amp;gt;\n  server: ViteDevServer\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;modules æ˜¯å—æ›´æ”¹æ–‡ä»¶å½±å“çš„æ¨¡å—æ•°ç»„ã€‚å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› ä¸ºå•ä¸ªæ–‡ä»¶å¯èƒ½æ˜ å°„åˆ°å¤šä¸ªæœåŠ¡æ¨¡å—ï¼ˆä¾‹å¦‚ Vue å•æ–‡ä»¶ç»„ä»¶ï¼‰ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;read è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥è¯»å‡½æ•°ï¼Œå®ƒè¿”å›æ–‡ä»¶çš„å†…å®¹ã€‚ä¹‹æ‰€ä»¥è¿™æ ·åšï¼Œæ˜¯å› ä¸ºåœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œæ–‡ä»¶æ›´æ”¹çš„å›è°ƒå‡½æ•°å¯èƒ½ä¼šåœ¨ç¼–è¾‘å™¨å®Œæˆæ–‡ä»¶æ›´æ–°ä¹‹å‰è¿‡å¿«åœ°è§¦å‘ï¼Œå¹¶ fs.readFile ç›´æ¥ä¼šè¿”å›ç©ºå†…å®¹ã€‚ä¼ å…¥çš„ read å‡½æ•°è§„èŒƒäº†è¿™ç§è¡Œä¸ºã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;é’©å­å¯ä»¥é€‰æ‹©:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;è¿‡æ»¤å’Œç¼©å°å—å½±å“çš„æ¨¡å—åˆ—è¡¨ï¼Œä½¿ HMR æ›´å‡†ç¡®ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¹¶é€šè¿‡å‘å®¢æˆ·ç«¯å‘é€è‡ªå®šä¹‰äº‹ä»¶æ¥æ‰§è¡Œå®Œæ•´çš„è‡ªå®šä¹‰ HMR å¤„ç†:&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;handleHotUpdate({ server }) {\n  server.ws.send({\n    type: &#39;custom&#39;,\n    event: &#39;special-update&#39;,\n    data: {}\n  })\n  return []\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å®¢æˆ·ç«¯ä»£ç åº”è¯¥ä½¿ç”¨ &lt;a href=\&#34;https://vitejs.cn/guide/api-hmr.html\&#34;&gt;HMR API&lt;/a&gt; æ³¨å†Œç›¸åº”çš„å¤„ç†å™¨ï¼ˆè¿™åº”è¯¥è¢«ç›¸åŒæ’ä»¶çš„ transform é’©å­æ³¨å…¥ï¼‰ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;if (import.meta.hot) {\n  import.meta.hot.on(&#39;special-update&#39;, (data) =&amp;gt; {\n    // æ‰§è¡Œè‡ªå®šä¹‰æ›´æ–°\n  })\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ’ä»¶é¡ºåº\&#34;&gt;æ’ä»¶é¡ºåº&lt;/h3&gt;\n&lt;p&gt;ä¸€ä¸ª Vite æ’ä»¶å¯ä»¥é¢å¤–æŒ‡å®šä¸€ä¸ª enforce å±æ€§ï¼ˆç±»ä¼¼äº webpack åŠ è½½å™¨ï¼‰æ¥è°ƒæ•´å®ƒçš„åº”ç”¨é¡ºåºã€‚enforce çš„å€¼å¯ä»¥æ˜¯pre æˆ– postã€‚è§£æåçš„æ’ä»¶å°†æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ’åˆ—ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Alias&lt;/li&gt;\n&lt;li&gt;å¸¦æœ‰ enforce: &#39;pre&#39; çš„ç”¨æˆ·æ’ä»¶&lt;/li&gt;\n&lt;li&gt;Vite æ ¸å¿ƒæ’ä»¶&lt;/li&gt;\n&lt;li&gt;æ²¡æœ‰ enforce å€¼çš„ç”¨æˆ·æ’ä»¶&lt;/li&gt;\n&lt;li&gt;Vite æ„å»ºç”¨çš„æ’ä»¶&lt;/li&gt;\n&lt;li&gt;å¸¦æœ‰ enforce: &#39;post&#39; çš„ç”¨æˆ·æ’ä»¶&lt;/li&gt;\n&lt;li&gt;Vite åç½®æ„å»ºæ’ä»¶ï¼ˆæœ€å°åŒ–ï¼Œmanifestï¼ŒæŠ¥å‘Šï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;æƒ…æ™¯åº”ç”¨\&#34;&gt;æƒ…æ™¯åº”ç”¨&lt;/h3&gt;\n&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹æ’ä»¶åœ¨å¼€å‘ï¼ˆserveï¼‰å’Œæ„å»ºï¼ˆbuildï¼‰æ¨¡å¼ä¸­éƒ½ä¼šè°ƒç”¨ã€‚å¦‚æœæ’ä»¶åªéœ€è¦åœ¨é¢„è§ˆæˆ–æ„å»ºæœŸé—´æœ‰æ¡ä»¶åœ°åº”ç”¨ï¼Œè¯·ä½¿ç”¨ apply å±æ€§æŒ‡æ˜å®ƒä»¬ä»…åœ¨ &#39;build&#39; æˆ– &#39;serve&#39; æ¨¡å¼æ—¶è°ƒç”¨ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;function myPlugin() {\n  return {\n    name: &#39;build-only&#39;,\n    apply: &#39;build&#39; // æˆ– &#39;serve&#39;\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åŒæ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥è¿›è¡Œæ›´ç²¾å‡†çš„æ§åˆ¶ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;apply(config, { command }) {\n  // é SSR æƒ…å†µä¸‹çš„ build\n  return command === &#39;build&#39; &amp;amp;&amp;amp; !config.build.ssr\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;rollup-æ’ä»¶å…¼å®¹æ€§\&#34;&gt;Rollup æ’ä»¶å…¼å®¹æ€§&lt;/h3&gt;\n&lt;p&gt;ç›¸å½“æ•°é‡çš„ Rollup æ’ä»¶å°†ç›´æ¥ä½œä¸º Vite æ’ä»¶å·¥ä½œï¼ˆä¾‹å¦‚ï¼š@rollup/plugin-alias æˆ– @rollup/plugin-jsonï¼‰ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ï¼Œå› ä¸ºæœ‰äº›æ’ä»¶é’©å­åœ¨éæ„å»ºå¼çš„å¼€å‘æœåŠ¡å™¨ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰æ„ä¹‰ã€‚&lt;/p&gt;\n&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦ Rollup æ’ä»¶ç¬¦åˆä»¥ä¸‹æ ‡å‡†ï¼Œå®ƒå°±åº”è¯¥åƒ Vite æ’ä»¶ä¸€æ ·å·¥ä½œï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æ²¡æœ‰ä½¿ç”¨ moduleParsed é’©å­ã€‚&lt;/li&gt;\n&lt;li&gt;å®ƒåœ¨æ‰“åŒ…é’©å­å’Œè¾“å‡ºé’©å­ä¹‹é—´æ²¡æœ‰å¾ˆå¼ºçš„è€¦åˆã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;å¦‚æœä¸€ä¸ª Rollup æ’ä»¶åªåœ¨æ„å»ºé˜¶æ®µæœ‰æ„ä¹‰ï¼Œåˆ™åœ¨ build.rollupOptions.plugins ä¸‹æŒ‡å®šå³å¯ã€‚&lt;/p&gt;\n&lt;p&gt;ä½ ä¹Ÿå¯ä»¥ç”¨ Vite ç‹¬æœ‰çš„å±æ€§æ¥æ‰©å±•ç°æœ‰çš„ Rollup æ’ä»¶:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// vite.config.js\nimport example from &#39;rollup-plugin-example&#39;\nimport { defineConfig } from &#39;vite&#39;\n\nexport default defineConfig({\n  plugins: [\n    {\n      ...example(),\n      enforce: &#39;post&#39;,\n      apply: &#39;build&#39;\n    }\n  ]\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æŸ¥çœ‹ &lt;a href=\&#34;https://vite-rollup-plugins.patak.dev/\&#34;&gt;Vite Rollup æ’ä»¶&lt;/a&gt; è·å–å…¼å®¹çš„å®˜æ–¹ Rollup æ’ä»¶åˆ—è¡¨åŠå…¶ä½¿ç”¨æŒ‡å—ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;a-idtest-nametesté¡¹ç›®å®æˆ˜a\&#34;&gt;&lt;a id=\&#34;test\&#34; name=\&#34;test\&#34;&gt;é¡¹ç›®å®æˆ˜&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å…ˆè¯´ä¸‹æˆ‘ä»¬è¦åšä»€ä¹ˆï¼Œæˆ‘ä»¬ç”¨viteæ‰“åŒ…å®Œä¹‹åéœ€è¦å°†æ‰“åŒ…å‡ºæ¥çš„é™æ€èµ„æºä¸Šä¼ åˆ°cdnä¸Šï¼Œä½†ç°æœ‰çš„æ’ä»¶ä¸å¤Ÿçµæ´»ï¼Œæ¯”å¦‚&lt;a href=\&#34;https://www.npmjs.com/package/vite-plugin-assets-uploader\&#34;&gt;vite-plugin-assets-uploader&lt;br&gt;\n&lt;/a&gt;è¿™ä¸ªå¾ˆå¥½ï¼Œä½†æ˜¯éœ€è¦å°†ossçš„å¯†é’¥ç­‰ä¿¡æ¯å†™åœ¨å‰ç«¯ï¼Œä¸å¤Ÿå®‰å…¨ã€‚å¯¹æ­¤æˆ‘ä»¬å°±ç”¨nodeå†™äº†ä¸ªæ¥å£ï¼Œå‰ç«¯åªéœ€è¦è°ƒç”¨nodeæ¥å£å°±èƒ½å¤Ÿä¸Šä¼ åˆ°ossã€‚è€Œä¸”å°†ä»£ç ä¸Šä¼ åˆ°cdnä¹‹åï¼Œæˆ‘ä»¬çš„baseè·¯å¾„ä¹Ÿè¦æ”¹æˆcdnçš„è·¯å¾„ã€‚&lt;/p&gt;\n&lt;p&gt;è‡ªå®šä¹‰ä¸Šä¼ æ’ä»¶ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-self-assign */\nconst path = require(&#39;path&#39;)\nconst fs = require(&#39;fs-extra&#39;)\nconst request = require(&#39;request&#39;)\nconst glob = require(&#39;glob&#39;)\nimport { Ioptions } from &#39;../type&#39;\nimport &#39;colors&#39;\nconst packageInfo: any = require(path.resolve(&#39;package.json&#39;))\nclass FileUploader {\n  bucket?: string\n  uploadUrl: string\n  domain: string\n  env: string\n  prefix?: string\n  constructor({ bucket, prefix, env }: { bucket?: string; prefix?: string; env: string }) {\n    this.env = env\n    if (!env) {\n      new Error(&#39;è¯·ä¼ å…¥env&#39;)\n      return\n    }\n    this.bucket = bucket || &#39;é»˜è®¤bucket&#39;\n    this.prefix = prefix || `${packageInfo.name}/${this.env}/${packageInfo.version}/`\n    this.uploadUrl = &#39;æ¥å£åŸŸå&#39;\n    this.domain = &#39;domain&#39;\n  }\n  // è·å–base\n  getBase() {\n    return `${this.domain}/${this.prefix}`\n  }\n  // viteä¸Šä¼ æ’ä»¶\n  UploadPlugin() {\n    const options: Ioptions = {\n      assetsDir: &#39;&#39;,\n      mode: &#39;&#39;,\n      outDir: &#39;&#39;\n    }\n    const that = this\n    return {\n      name: &#39;vite-plugin-upload&#39;,\n      configResolved: function(config: any) {\n        const outDir = config.build.hasOwnProperty(&#39;outDir&#39;) ? config.build.outDir : &#39;dist&#39;\n        const outDirArr = outDir.split(path.sep)\n        options.outDir = outDirArr[outDirArr.length - 1]\n        options.assetsDir = `${options.outDir}/${config.build.assetsDir}`\n        options.mode = config.mode\n      },\n      closeBundle() {\n        const files = glob.sync(`${options.assetsDir}/*`)\n        files.map((item: any) =&amp;gt; {\n          that.uploadPre(path.relative(options.outDir, path.resolve(item)), options.outDir)\n        })\n      }\n    }\n  }\n  // initåˆ¤æ–­æ˜¯å¦æ”¯æŒæ­¤bucket\n  init() {\n    return new Promise((resolve, reject) =&amp;gt; {\n      request.get(\n        { url: this.uploadUrl + &#39;/api/bucketList&#39; },\n        (err: any, response: { statusCode: any }, body: string) =&amp;gt; {\n          const { code, data } = typeof body === &#39;object&#39; ? body : JSON.parse(body)\n          if (err) {\n            reject(false)\n          }\n          if (code !== 0) {\n            reject(false)\n          } else {\n            let cdnInfo = new Map([])\n            data.forEach((v: any) =&amp;gt; {\n              cdnInfo.set(v.bucket, v.url)\n            })\n            if (!cdnInfo.has(this.bucket)) {\n              throw new Error(`ç›®å‰ä»…æ”¯æŒä»¥ä¸‹bucket${data.map((v: any) =&amp;gt; v.bucket).join(&#39; | &#39;)}`)\n            } else {\n              this.domain = cdnInfo.get(this.bucket) as string\n              resolve(this.getBase())\n            }\n          }\n        }\n      )\n    })\n  }\n  // æ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯¥æ–‡ä»¶\n  isExistObject(filePath: string) {\n    return new Promise(reslove =&amp;gt; {\n      request.get(\n        {\n          url: `${this.uploadUrl}/api/isExistObject?name=${this.prefix + filePath}&amp;amp;bucket=${\n            this.bucket\n          }`\n        },\n        (err: any, response: any, body: string) =&amp;gt; {\n          if (err) {\n            console.log(&#39;err&#39;, err)\n            process.exit(1)\n          }\n          if (response.statusCode !== 200) {\n            console.log(&#39;err&#39;, &#39;http err&#39;)\n            process.exit(1)\n          }\n          const bodys = JSON.parse(body)\n          if (bodys.code === 0) {\n            console.log(this.prefix + filePath, &#39;å·²å­˜åœ¨&#39;.yellow)\n            reslove(0)\n          } else {\n            reslove(1)\n          }\n        }\n      )\n    })\n  }\n  // ä¸Šä¼ \n  upload(filePath: string, outDir: string) {\n    return new Promise(reslove =&amp;gt; {\n      const formData = {\n        key: this.prefix + filePath,\n        file: fs.createReadStream(path.resolve(path.join(outDir, filePath))),\n        bucket: this.bucket\n      }\n      request.post(\n        {\n          url: `${this.uploadUrl}/api/upload`,\n          formData\n        },\n        (err: any, response: any, body: string) =&amp;gt; {\n          if (err) {\n            console.log(&#39;err&#39;, err)\n            process.exit(1)\n          }\n          if (response.statusCode !== 200) {\n            console.log(&#39;err&#39;, &#39;http err&#39;)\n            process.exit(1)\n          }\n          const bodys = JSON.parse(body)\n          if (bodys.code === 0) {\n            console.log(bodys.data.fixUrl, &#39;success~&#39;.green)\n            reslove(1)\n          }\n        }\n      )\n    })\n  }\n  // ä¸Šä¼ å‰æ£€æµ‹\n  uploadPre(filePath: string, outDir: string) {\n    this.isExistObject(filePath).then((res: number) =&amp;gt; {\n      if (res === 1) {\n        return this.upload(filePath, outDir)\n      }\n    })\n  }\n}\nexport default FileUploader\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æˆ‘ä»¬å°†å®ƒå°è£…åˆ°å‰ç«¯ç»„ä»¶åº“ä¸­ï¼Œç„¶ååœ¨viteä¸­ä½¿ç”¨&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// vite.config.js\nimport { FileUploader } from &#39;@msb-next/vite-plugin-upload&#39;\nconst isProd = process.env.VITE_APP_ENV &amp;amp;&amp;amp; process.env.VITE_APP_ENV !== &#39;dev&#39;\n  let plugins = [\n    reactRefresh(),\n    antdDayjs(),\n    vitePluginImp({\n      libList: [\n        {\n          libName: &#39;lodash&#39;,\n          libDirectory: &#39;&#39;,\n          camel2DashComponentName: false,\n          style: () =&amp;gt; {\n            return false\n          },\n        },\n        {\n          libName: &#39;antd&#39;,\n          style(name) {\n            return `antd/es/${name}/style/index.css`\n          },\n        },\n      ],\n    }),\n  ]\n  let base = &#39;/&#39;\n  let sourcemap = true\n  //////////////////////////// ä¸»è¦æ˜¯è¿™é‡Œ /////////////////////////////////////\n  if (isProd) {\n    const uploader = new FileUploader({\n      env: process.env.VITE_APP_ENV,\n    })\n    // ä¿®æ”¹baseè·¯å¾„\n    base = (await uploader.init()) as string\n    plugins.push(uploader.UploadPlugin())\n    sourcemap = false\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åˆ°è¿™é‡Œï¼Œå…¶å®æ€è·¯å°±å¾ˆæ¸…æ™°äº†ï¼Œå¤§å®¶åŸºæœ¬èƒ½å¤Ÿå®Œæˆä¸€ä¸ªè‡ªå®šä¹‰viteæ’ä»¶äº†ï¼Œä¸‹é¢å°±æ˜¯æˆ‘nodeå±‚çš„ä»£ç äº†ï¼Œå¤§å®¶åº”è¯¥èƒ½çœ‹æ˜ç™½ï¼š&lt;br&gt;\nå…ˆè‡ªå®šä¹‰ä¸€ä¸ªkoaä¸­é—´ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const OSS = require(&#39;ali-oss&#39;);\n/**\n * oss è¿æ¥oss\n * @param ctx\n * @param next\n * @returns {Promise&amp;lt;void&amp;gt;}\n */\nconst connect = async (ctx, next) =&amp;gt; {\n  let bucket = &#39;&#39;;\n  if (ctx.request.method === &#39;POST&#39;) {\n    const body = ctx.request.body;\n    bucket = body.bucket;\n  } else {\n    bucket = ctx.query.bucket;\n  }\n  // ä»redisä¸­è·å–osså¯†é’¥ç­‰é‡è¦ä¿¡æ¯ï¼Œçœ‹çœ‹æ˜¯å¦æ”¯æŒå½“å‰çš„bucketï¼Œè¿™æ ·æ–°å¢bucketæ—¶æ¯”è¾ƒçµæ´»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å†™æ­»ã€‚\n  const ossAccessRes = await redisClient.get(&#39;ossAccess&#39;);\n  const ossAccess = JSON.parse(ossAccessRes);\n\n  const ossConf = ossAccess.find(v =&amp;gt; v.bucket === bucket);\n  let client, urlPrefix;\n  try {\n    client = new OSS(ossConf);\n    urlPrefix = ossConf.url;\n  } catch (e) {\n    ctx.DATA.msg = &#39;æš‚ä¸æ”¯æŒå½“å‰bucket&#39;;\n    ctx.body = ctx.DATA;\n    throw new HttpError(200);\n  }\n  ctx.OSS = client;\n  ctx.urlPrefix = urlPrefix;\n  await next();\n};\n\nmodule.exports = {\n  connect\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;router.js&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const router = require(&#39;koa-router&#39;)();\n\n// åˆšæ‰å®šä¹‰çš„ oss ä¸­é—´ä»¶\nconst oss = require(&#39;../utils/middleware/oss&#39;);\n\n// æ§åˆ¶å™¨\nconst {index, bucketList} = require(&#39;../controllers/index&#39;);\nconst api = require(&#39;../controllers/api&#39;);\n\n// æ·»åŠ è·¯ç”±\nrouter.post(&#39;/api/upload&#39;, oss.connect, api.upload);\nrouter.get(&#39;/api/list&#39;, oss.connect, api.list);\nrouter.get(&#39;/api/url&#39;, oss.connect, api.url);\nrouter.post(&#39;/api/del&#39;, oss.connect, api.del);\nrouter.get(&#39;/api/isExistObject&#39;, oss.connect, api.isExistObject);\nrouter.get(&#39;/api/bucketList&#39;, bucketList);\n\nmodule.exports = router;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;controller/api.js&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const fs = require(&#39;fs&#39;);\nconst {CustomError} = require(&#39;../utils/tool/error&#39;);\nconst DEL_SWITCH = false;\n\n/**\n * ä¸Šä¼ \n */\nconst upload = async (ctx) =&amp;gt; {\n  const {file} = ctx.request.files;\n  const {key} = ctx.request.body;\n  const stream = fs.createReadStream(file.path);\n  const {name, res, url} = await ctx.OSS.putStream(key, stream);\n  ctx.DATA.data = {\n    ...res,\n    name,\n    url,\n    fixUrl: `${ctx.urlPrefix}/${name}`\n  };\n  ctx.body = ctx.DATA;\n};\n\n/**\n * è·å–ossåˆ—è¡¨\n */\nconst list = async (ctx, next) =&amp;gt; {\n  const name = ctx.query.name;\n  console.log(name);\n  ctx.DATA.data = await ctx.OSS.list({\n    prefix: name,\n    delimiter: &#39;/&#39;\n  });\n  if (ctx.DATA.data.res.status !== 200) {\n    throw new CustomError(0, &#39;æ–‡ä»¶æŸ¥æ‰¾å¤±è´¥&#39;);\n  }\n  delete ctx.DATA.data.res;\n  ctx.body = ctx.DATA;\n};\n\n/**\n * è·å–æ–‡ä»¶ä¸‹è½½é“¾æ¥ï¼Œæœ‰æ•ˆæœŸ1åˆ†é’Ÿ\n */\nconst url = async (ctx) =&amp;gt; {\n  const name = ctx.query.name;\n  ctx.DATA.data = ctx.OSS.signatureUrl(name, {expires: 3600});\n  ctx.body = ctx.DATA;\n};\n\n/**\n * åˆ é™¤æ–‡ä»¶ã€æ–‡ä»¶å¤¹\n */\nconst del = async (ctx) =&amp;gt; {\n  if (DEL_SWITCH) {\n    let dat = ctx.request.body;\n    let delList = dat[0];\n    let directory = dat[1];\n    try {\n      for (let i = 0; i &amp;lt; directory.length; i++) {\n        let retList = await ctx.OSS.list({\n          prefix: directory[i]\n        });\n        retList.objects.reverse();\n        retList.objects.map(item =&amp;gt; {\n          delList.push(item.name);\n        });\n      }\n    } catch (e) {\n      throw new CustomError(0, &#39;åˆ é™¤æ–‡ä»¶:æ•´åˆå¤±è´¥&#39;);\n    }\n    let result = await ctx.OSS.deleteMulti(delList, {quiet: true});\n    if (result.res.status !== 200) {\n      throw new CustomError(0, &#39;åˆ é™¤å¤±è´¥&#39;);\n    }\n    ctx.DATA.msg = &#39;åˆ é™¤æˆåŠŸ&#39;;\n    ctx.body = ctx.DATA;\n  } else {\n    ctx.DATA.msg = &#39;åˆ é™¤æ–‡ä»¶ã€æ–‡ä»¶å¤¹åŠŸèƒ½æœªå¼€æ”¾ï¼&#39;;\n    ctx.body = ctx.DATA;\n  }\n};\n\n/**\n * åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨\n * @param ctx\n * @returns {Promise&amp;lt;void&amp;gt;}\n */\nconst isExistObject = async (ctx) =&amp;gt; {\n  // ç”¨äºåˆ¤æ–­å—ç‰ˆæœ¬æ§åˆ¶Bucketä¸­æŒ‡å®šversionIdçš„Objectæ˜¯å¦å­˜åœ¨ã€‚\n  const options = {\n    // å¡«å†™Objectçš„versionIdã€‚\n    versionId: &#39;&#39;\n  };\n  const name = ctx.query.name;\n  try {\n    const res = await ctx.OSS.head(name, options);\n    ctx.DATA.data = res;\n    ctx.DATA.msg = &#39;æ–‡ä»¶å­˜åœ¨&#39;;\n    ctx.body = ctx.DATA;\n  }  catch (error) {\n    if (error.code === &#39;NoSuchKey&#39;) {\n      ctx.DATA.code = 1;\n      ctx.DATA.msg = &#39;æ–‡ä»¶ä¸å­˜åœ¨&#39;;\n      ctx.body = ctx.DATA;\n    }\n  }\n};\n\nmodule.exports = {\n  upload,\n  list,\n  url,\n  del,\n  isExistObject,\n};\n\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;vite-zi-ding-yi-cha-jian&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;viteè‡ªå®šä¹‰ä¸Šä¼ æ’ä»¶&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;vite&#34;,&#34;slug&#34;:&#34;94Lh5N6ed&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/94Lh5N6ed&#34;},{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;},{&#34;name&#34;:&#34;å·¥ç¨‹åŒ–&#34;,&#34;slug&#34;:&#34;_l9fydARk&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/_l9fydARk&#34;}],&#34;date&#34;:&#34;2022-02-15 19:53:23&#34;,&#34;dateFormat&#34;:&#34;2022-02-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/vite-zi-ding-yi-cha-jian&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;18 min read&#34;,&#34;time&#34;:1045000,&#34;words&#34;:3910,&#34;minutes&#34;:18},&#34;description&#34;:&#34;viteå®˜ç½‘è‡ªå®šä¹‰æ’ä»¶\nVite æ’ä»¶æ‰©å±•äº†è®¾è®¡å‡ºè‰²çš„ Rollup æ¥å£ï¼Œå¸¦æœ‰ä¸€äº› Vite ç‹¬æœ‰çš„é…ç½®é¡¹ã€‚å› ä¸ºviteæ˜¯ä½¿ç”¨rollupæ‰“åŒ…çš„æ‰€ä»¥æœ€å¥½ä½ èƒ½äº†è§£Rollup æ’ä»¶æ–‡æ¡£\n\nä¸‹é¢çš„éƒ½æ˜¯æŒ‰ç…§å®˜ç½‘ä»‹ç»å†™çš„ï¼Œå› ä¸ºæ¯•ç«Ÿä½ çœ‹åˆ°æˆ‘è¿™äº†ï¼Œç›´...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BA%A6%E5%AE%9A\&#34;&gt;çº¦å®š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE\&#34;&gt;æ’ä»¶é…ç½®&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B\&#34;&gt;ç®€å•ç¤ºä¾‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BD%AC%E6%8D%A2%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B\&#34;&gt;è½¬æ¢è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%80%9A%E7%94%A8%E9%92%A9%E5%AD%90\&#34;&gt;é€šç”¨é’©å­&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#vite-%E7%8B%AC%E6%9C%89%E9%92%A9%E5%AD%90\&#34;&gt;Vite ç‹¬æœ‰é’©å­&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#config\&#34;&gt;config&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#configresolved\&#34;&gt;configResolved&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#configureserver\&#34;&gt;configureServer&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#transformindexhtml\&#34;&gt;transformIndexHtml&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#handlehotupdate\&#34;&gt;handleHotUpdate&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8F%92%E4%BB%B6%E9%A1%BA%E5%BA%8F\&#34;&gt;æ’ä»¶é¡ºåº&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%83%85%E6%99%AF%E5%BA%94%E7%94%A8\&#34;&gt;æƒ…æ™¯åº”ç”¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#rollup-%E6%8F%92%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7\&#34;&gt;Rollup æ’ä»¶å…¼å®¹æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#a-idtest-nametest%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98a\&#34;&gt;&lt;a id=\&#34;test\&#34; name=\&#34;test\&#34;&gt;é¡¹ç›®å®æˆ˜&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;1-webpackæ’ä»¶çš„åŸºæœ¬åŸç†\&#34;&gt;1ã€webpackæ’ä»¶çš„åŸºæœ¬åŸç†&lt;/h3&gt;\n&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼Œwebpack å°±åƒä¸€æ¡ç”Ÿäº§çº¿,è¦ç»è¿‡ä¸€ç³»åˆ—å¤„ç†æµç¨‹åæ‰èƒ½å°†æºæ–‡ä»¶è½¬æ¢æˆè¾“å‡ºç»“æœã€‚ è¿™æ¡ç”Ÿäº§çº¿ä¸Šçš„æ¯ä¸ªå¤„ç†æµç¨‹çš„èŒè´£éƒ½æ˜¯å•ä¸€çš„,å¤šä¸ªæµç¨‹ä¹‹é—´æœ‰å­˜åœ¨ä¾èµ–å…³ç³»,åªæœ‰å®Œæˆå½“å‰å¤„ç†åæ‰èƒ½äº¤ç»™ä¸‹ä¸€ä¸ªæµç¨‹å»å¤„ç†ã€‚ æ’ä»¶å°±åƒæ˜¯ä¸€ä¸ªæ’å…¥åˆ°ç”Ÿäº§çº¿ä¸­çš„ä¸€ä¸ªåŠŸèƒ½,åœ¨ç‰¹å®šçš„æ—¶æœºå¯¹ç”Ÿäº§çº¿ä¸Šçš„èµ„æºåšå¤„ç†ã€‚&lt;br&gt;\nwebpack é€šè¿‡ Tapable æ¥ç»„ç»‡è¿™æ¡å¤æ‚çš„ç”Ÿäº§çº¿ã€‚ webpack åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶,æ’ä»¶åªéœ€è¦ç›‘å¬å®ƒæ‰€å…³å¿ƒçš„äº‹ä»¶,å°±èƒ½åŠ å…¥åˆ°è¿™æ¡ç”Ÿäº§çº¿ä¸­,å»æ”¹å˜ç”Ÿäº§çº¿çš„è¿ä½œã€‚ webpack çš„äº‹ä»¶æµæœºåˆ¶ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§,ä½¿å¾—æ•´ä¸ªç³»ç»Ÿæ‰©å±•æ€§å¾ˆå¥½ã€‚&lt;br&gt;\n&lt;a href=\&#34;https://www.webpackjs.com/contribute/writing-a-plugin/\&#34;&gt;å®˜ç½‘æä¾›çš„è‡ªå®šä¹‰æ’ä»¶æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;tapable æ˜¯ä¸€ä¸ªç±»ä¼¼äº Node.js ä¸­çš„ EventEmitterçš„åº“ï¼Œä½†æ›´ä¸“æ³¨äºè‡ªå®šä¹‰äº‹ä»¶çš„è§¦å‘å’Œå¤„ç†ã€‚webpack é€šè¿‡ tapable å°†å®ç°ä¸æµç¨‹è§£è€¦ï¼Œæ‰€æœ‰å…·ä½“å®ç°é€šè¿‡æ’ä»¶çš„å½¢å¼å­˜åœ¨ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;ul&gt;\n&lt;li&gt;tapableä½œä¸ºwebpackçš„ä¸»æ¨¡å—ï¼Œéœ€è¦å•ç‹¬æŠ½ä¸€ç¯‡å‡ºæ¥è®²ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ è¦å†™sdkéœ€è¦å‘å¤–å±‚åéœ²æ•°æ®çš„è¯ï¼Œå»ºè®®è¿˜æ˜¯ç”¨EventEmitteråº“ï¼Œä¸å»ºè®®ç”¨tapableï¼Œå› ä¸ºå®ƒé”€æ¯å…¨éƒ¨æ³¨å†Œäº‹ä»¶ä¸æ˜¯å¾ˆå®¹æ˜“ã€‚&lt;br&gt;\nå¥½äº†ï¼Œå†™webpackæ’ä»¶å¿…é¡»è¦äº†è§£tapableï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆç®€å•ä»‹ç»ä¸€ä¸‹å®ƒçš„å‡ ä¸ªå¸¸ç”¨çš„é’©å­ï¼Œå…¶ä»–çš„å¯ä»¥ç½‘ä¸ŠæŸ¥ï¼Œè¿™é‡Œæœ‰ç¯‡å†™çš„è¿˜ä¸é”™&lt;a href=\&#34;https://blog.csdn.net/mafan121/article/details/113120081\&#34;&gt;tapableè¯¦è§£&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code&gt;const {\n  SyncHook,\n  SyncBailHook,\n  SyncWaterfallHook,\n  SyncLoopHook,\n  AsyncParallelHook,\n  AsyncParallelBailHook,\n  AsyncSeriesHook,\n  AsyncSeriesBailHook,\n  AsyncSeriesWaterfallHook\n} = require(&#39;tapable&#39;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;tapableé€šè¿‡tapæ³¨å†Œä¸€ä¸ªäº‹ä»¶é€šè¿‡callæ‰§è¡Œè¯¥é’©å­æ³¨å†Œçš„æ‰€æœ‰äº‹ä»¶-tapableçš„æ¯ä¸ªhookséƒ½tapä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶-tapasynccallasync-tappromisepromiseç”¨äºæ³¨å†ŒåŒæ­¥æ‰§è¡Œçš„å¼‚æ­¥äº‹ä»¶callasyncç”¨åœ¨å¹¶è¡Œæ‰§è¡Œçš„å¼‚æ­¥é’©å­å®Œæˆåå†æ‰§è¡Œè¯¥å‡½æ•°\&#34;&gt;tapableé€šè¿‡tapæ³¨å†Œä¸€ä¸ªäº‹ä»¶ï¼Œé€šè¿‡callæ‰§è¡Œè¯¥é’©å­æ³¨å†Œçš„æ‰€æœ‰äº‹ä»¶ã€‚tapableçš„æ¯ä¸ªhookséƒ½tapä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶ã€‚tapAsync/callAsyncã€tapPromise/Promiseç”¨äºæ³¨å†ŒåŒæ­¥æ‰§è¡Œçš„å¼‚æ­¥äº‹ä»¶ï¼ŒcallAsyncç”¨åœ¨å¹¶è¡Œæ‰§è¡Œçš„å¼‚æ­¥é’©å­å®Œæˆåå†æ‰§è¡Œè¯¥å‡½æ•°ã€‚&lt;/h3&gt;\n&lt;p&gt;å…·ä½“ä½¿ç”¨ä¸¾ä¸ªä¾‹å­ï¼ˆæ¯”å¦‚SyncHookï¼Œä¾æ¬¡æ‰§è¡Œæ³¨å†Œäº‹ä»¶ï¼Œæ— æ³•ä¸­æ–­ï¼‰&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; const hook = new SyncHook([&#39;name&#39;, &#39;sex&#39;])\n  /*\n  tap(options,function):\n  optionsæ˜¯äº‹ä»¶æè¿°ï¼Œå¯ä»¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä¸ºä¸€ä¸ªå¯¹è±¡,ä¸ºå¯¹è±¡æ—¶å¿…é¡»åŒ…å«nameå±æ€§ï¼Œæè¿°è¯¥æ’ä»¶åç§°ã€‚\n  function:å›è°ƒå‡½æ•°\n  */\n  // æ‰“å°æˆ‘çš„åå­—\n  hook.tap(&#39;printName&#39;, (name) =&amp;gt; {\n    console.log(&#39;my name is &#39; + name);\n  })\n  hook.tap(&#39;printSex&#39;, (name, sex) =&amp;gt; {\n    console.log(&#39;Iâ€™m a &#39; + sex);\n  })\n  // call(arg1,arg2,...)\n  hook.call(&#39;å¼ ä¸‰&#39;, &#39;man&#39;);\n\n  æ‰§è¡Œç»“æœï¼š\n\n    my name is å¼ ä¸‰\n\n    Iâ€™m a man\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¥½äº†ï¼Œè¯´äº†ä¸€å †tapableäº†ï¼Œè¯¥è¯´webpackæ’ä»¶äº†ã€‚&lt;/p&gt;\n&lt;p&gt;webpack æ’ä»¶ç”±ä»¥ä¸‹ç»„æˆï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¸€ä¸ª JavaScript å‘½åå‡½æ•°ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨æ’ä»¶å‡½æ•°çš„ prototype ä¸Šå®šä¹‰ä¸€ä¸ª apply æ–¹æ³•ã€‚&lt;/li&gt;\n&lt;li&gt;æŒ‡å®šä¸€ä¸ªç»‘å®šåˆ° webpack è‡ªèº«çš„äº‹ä»¶é’©å­ã€‚&lt;/li&gt;\n&lt;li&gt;å¤„ç† webpack å†…éƒ¨å®ä¾‹çš„ç‰¹å®šæ•°æ®ã€‚&lt;/li&gt;\n&lt;li&gt;åŠŸèƒ½å®Œæˆåè°ƒç”¨ webpack æä¾›çš„å›è°ƒã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;ä¸‹é¢æ˜¯å®˜ç½‘çš„ç®€å•ä¾‹å­ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// ä¸€ä¸ª JavaScript å‘½åå‡½æ•°ã€‚\nfunction MyExampleWebpackPlugin() {\n\n};\n\n// åœ¨æ’ä»¶å‡½æ•°çš„ prototype ä¸Šå®šä¹‰ä¸€ä¸ª `apply` æ–¹æ³•ã€‚\nMyExampleWebpackPlugin.prototype.apply = function(compiler) {\n  // æŒ‡å®šä¸€ä¸ªæŒ‚è½½åˆ° webpack è‡ªèº«çš„äº‹ä»¶é’©å­ã€‚\n  compiler.plugin(&#39;webpacksEventHook&#39;, function(compilation /* å¤„ç† webpack å†…éƒ¨å®ä¾‹çš„ç‰¹å®šæ•°æ®ã€‚*/, callback) {\n    console.log(&amp;quot;This is an example plugin!!!&amp;quot;);\n\n    // åŠŸèƒ½å®Œæˆåè°ƒç”¨ webpack æä¾›çš„å›è°ƒã€‚\n    callback();\n  });\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åœ¨æˆ‘ä»¬ä½¿ç”¨è¯¥pluginçš„æ—¶å€™ï¼Œç›¸å…³è°ƒç”¨åŠé…ç½®ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const MyExampleWebpackPlugin = require(&#39;./MyExampleWebpackPlugin&#39;);\nmodule.exports = {\n  plugins: [\n    new MyExampleWebpackPlugin(options)\n  ]\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æˆ‘å¼€å§‹è¯´äº†ä¸€å¤§å †tapableï¼Œå…¶å®å°±æ˜¯ä¸ºäº†è¯´æ˜ç™½webpackæ’ä»¶çš„åŸç†&lt;/p&gt;\n&lt;p&gt;ç”¨ä»£ç è¯´æ˜å§ï¼Œä¸€ä¸ªcompiler.jsï¼Œä¸€ä¸ªmain.js&lt;br&gt;\ncompiler.js&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// éœ€è¦åšçš„äº‹æƒ…å¦‚ä¸‹ï¼š\n// 1. å®šä¹‰ä¸€ä¸ª Compiler ç±»ï¼Œæ¥æ”¶ä¸€ä¸ªoptionså¯¹è±¡å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä»main.jsä¸­çš„MyPluginç±»çš„å®åˆ—å¯¹è±¡ã€‚è¯¥å¯¹è±¡ä¸‹æœ‰ applyå‡½æ•°ã€‚\n\n// 2. åœ¨è¯¥ç±»ä¸­æˆ‘ä»¬å®šä¹‰äº†runæ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨main.js ä¸­æ‰§è¡Œè¯¥runå‡½æ•°å°±å¯ä»¥è‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„æ’ä»¶äº†ã€‚\n\nconst { SyncHook, AsyncParallelHook } = require(&#39;tapable&#39;);\n\nclass Compiler {\n  constructor(options) {\n    this.hooks = {\n      kzSyncHook: new SyncHook([&#39;name&#39;, &#39;age&#39;]),\n      kzAsyncHook: new AsyncParallelHook([&#39;name&#39;, &#39;age&#39;])\n    };\n    let plugins = options.plugins;\n    if (plugins &amp;amp;&amp;amp; plugins.length &amp;gt; 0) {\n      plugins.forEach(plugin =&amp;gt; plugin.apply(this));\n    }\n  }\n  run() {\n    console.log(&#39;å¼€å§‹æ‰§è¡Œäº†---------&#39;);\n    this.kzSyncHook(&#39;æˆ‘æ˜¯å°æ˜&#39;, 81);\n    this.kzAsyncHook(&#39;æˆ‘æ˜¯å°çº¢&#39;, 91);\n  }\n  kzSyncHook(name, age) {\n    this.hooks.kzSyncHook.call(name, age);\n  }\n  kzAsyncHook(name, age) {\n    this.hooks.kzAsyncHook.callAsync(name, age);\n  }\n}\n\nmodule.exports = Compiler;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;main.js&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// éœ€è¦åšçš„äº‹æƒ…å¦‚ä¸‹ï¼š\n// 1. å¼•å…¥ compiler.js æ–‡ä»¶ã€‚\n// 2. å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„æ’ä»¶ï¼Œæ¯”å¦‚å« MyPlugin ç±»ï¼Œè¯¥ç±»ä¸‹æœ‰ apply å‡½æ•°ã€‚è¯¥å‡½æ•°æœ‰ä¸€ä¸ª compiler å‚æ•°ï¼Œè¯¥å‚æ•°å°±æ˜¯æˆ‘ä»¬çš„ compiler.js ä¸­çš„å®åˆ—å¯¹è±¡ã€‚ç„¶åæˆ‘ä»¬ä¼šä½¿ç”¨ compiler å®åˆ—å¯¹è±¡å»è°ƒç”¨ compiler.js é‡Œé¢çš„å‡½æ•°ã€‚å› æ­¤å°±å¯ä»¥è‡ªåŠ¨æ‰§è¡Œäº†ã€‚\nconst Compiler = require(&#39;./compiler&#39;);\n\nclass MyPlugin {\n  constructor() {\n    \n  }\n  apply(compiler) {\n    compiler.hooks.kzSyncHook.tap(&amp;quot;eventName1&amp;quot;, (name, age) =&amp;gt; {\n      console.log(`åŒæ­¥äº‹ä»¶eventName1ï¼š ${name} this year ${age} å‘¨å²äº†, å¯æ˜¯è¿˜æ˜¯å•èº«`);\n    });\n    compiler.hooks.kzAsyncHook.tapAsync(&#39;eventName2&#39;, (name, age) =&amp;gt; {\n      setTimeout(() =&amp;gt; {\n        console.log(`å¼‚æ­¥äº‹ä»¶eventName2ï¼š ${name} this year ${age}å‘¨å²äº†ï¼Œå¯æ˜¯è¿˜æ˜¯å•èº«`);\n      }, 1000)\n    });\n  }\n}\n\nconst myPlugin = new MyPlugin();\n\nconst options = {\n  plugins: [myPlugin]\n};\n\nconst compiler = new Compiler(options);\ncompiler.run();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;çœ‹åˆ°æ²¡ï¼Œè¿™ç§ä½¿ç”¨æ–¹å¼æ˜¯ä¸æ˜¯å’Œå®˜ç½‘çš„ä½¿ç”¨æ–¹å¼å¾ˆç›¸ä¼¼ï½è¿™å›çŸ¥é“åŸç†äº†å§ï½&lt;/p&gt;\n&lt;p&gt;ç°åœ¨çœ‹å®˜ç½‘çš„ç®€å•ä¾‹å­ï¼Œwebpackå¯åŠ¨åï¼Œåœ¨è¯»å–é…ç½®çš„è¿‡ç¨‹ä¸­ä¼šå…ˆæ‰§è¡Œ new MyExampleWebpackPlugin(options) åˆå§‹åŒ–MyExampleWebpackPluginæ¥è·å¾—ä¸€ä¸ªå®ä¾‹ã€‚&lt;br&gt;\nç„¶åæˆ‘ä»¬ä¼šæŠŠè¯¥å®ä¾‹å½“åšå‚æ•°ä¼ é€’ç»™æˆ‘ä»¬çš„Compilerå¯¹è±¡ï¼Œç„¶åä¼šå®ä¾‹åŒ– Compilerç±»(è¿™ä¸ªé€»è¾‘å¯ä»¥ç»“åˆçœ‹æˆ‘ä»¬ä¸Šé¢å®ç°äº†ä¸€ä¸ªç®€å•çš„demoä¸­ çš„main.jså’Œcompiler.jsçš„ä»£ç ç»“åˆèµ·æ¥ç†è§£)ã€‚åœ¨Compilerç±»ä¸­ï¼Œæˆ‘ä»¬ä¼šè·å–åˆ°optionsçš„è¿™ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸‹æœ‰ä¸€ä¸ª plugins è¿™ä¸ªå±æ€§ã€‚&lt;br&gt;\nç„¶åéå†è¯¥å±æ€§ï¼Œç„¶åä¾æ¬¡æ‰§è¡Œ æŸé¡¹æ’ä»¶ä¸­çš„applyæ–¹æ³•ï¼Œå³ï¼šmyExampleWebpackPlugin.apply(compiler); ç»™æ’ä»¶ä¼ é€’compilerå¯¹è±¡ã€‚æ’ä»¶å®ä¾‹è·å–è¯¥compilerå¯¹è±¡åï¼Œå°±å¯ä»¥é€šè¿‡ compiler.plugin(&#39;äº‹ä»¶åç§°&#39;, &#39;å›è°ƒå‡½æ•°&#39;); ç›‘å¬åˆ°webpackå¹¿æ’­å‡ºæ¥çš„äº‹ä»¶.(è¿™ä¸ªåœ°æ–¹æˆ‘ä»¬å¯ä»¥çœ‹æˆ‘ä»¬ä¸Šé¢çš„main.jsä¸­çš„å¦‚ä¸‹ä»£ç å¯ä»¥çœ‹åˆ°, åœ¨æˆ‘ä»¬çš„main.jsä»£ç ä¸­æœ‰è¿™æ ·ä»£ç ï¼šcompiler.hooks.kzSyncHook.tap(&amp;quot;eventName1&amp;quot;, (name, age) =&amp;gt; {}));&lt;/p&gt;\n&lt;p&gt;å¦‚ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„Pluginçš„æ’ä»¶åŸç†(åˆ‡è®°ï¼šç»“åˆä¸Šé¢çš„demoä¸­main.jså’Œcompiller.jsæ¥ç†è§£æ•ˆæœä¼šæ›´å¥½)ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;2-compiler-å’Œ-compilation\&#34;&gt;2ã€Compiler å’Œ Compilation&lt;/h3&gt;\n&lt;p&gt;åœ¨å¼€å‘Pluginæ—¶æˆ‘ä»¬æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå¯¹è±¡å°±æ˜¯ Compiler å’Œ Compilation, ä»–ä»¬æ˜¯Pluginå’Œwebpackä¹‹é—´çš„æ¡¥æ¢ã€‚&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;compiler å¯¹è±¡ä»£è¡¨äº†å®Œæ•´çš„ webpack ç¯å¢ƒé…ç½®ã€‚è¿™ä¸ªå¯¹è±¡åœ¨å¯åŠ¨ webpack æ—¶è¢«ä¸€æ¬¡æ€§å»ºç«‹ï¼Œå¹¶é…ç½®å¥½æ‰€æœ‰å¯æ“ä½œçš„è®¾ç½®ï¼ŒåŒ…æ‹¬ optionsï¼Œloader å’Œ pluginã€‚å½“åœ¨ webpack ç¯å¢ƒä¸­åº”ç”¨ä¸€ä¸ªæ’ä»¶æ—¶ï¼Œæ’ä»¶å°†æ”¶åˆ°æ­¤ compiler å¯¹è±¡çš„å¼•ç”¨ã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥è®¿é—® webpack çš„ä¸»ç¯å¢ƒã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;compilation å¯¹è±¡ä»£è¡¨äº†ä¸€æ¬¡èµ„æºç‰ˆæœ¬æ„å»ºã€‚å½“è¿è¡Œ webpack å¼€å‘ç¯å¢ƒä¸­é—´ä»¶æ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ compilationï¼Œä»è€Œç”Ÿæˆä¸€ç»„æ–°çš„ç¼–è¯‘èµ„æºã€‚ä¸€ä¸ª compilation å¯¹è±¡è¡¨ç°äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ã€ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ã€‚compilation å¯¹è±¡ä¹Ÿæä¾›äº†å¾ˆå¤šå…³é”®æ—¶æœºçš„å›è°ƒï¼Œä»¥ä¾›æ’ä»¶åšè‡ªå®šä¹‰å¤„ç†æ—¶é€‰æ‹©ä½¿ç”¨ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h4 id=\&#34;compilerå¯¹è±¡\&#34;&gt;Compilerå¯¹è±¡&lt;/h4&gt;\n&lt;p&gt;Compilerå¯¹è±¡åŒ…å«äº†Webpackç¯å¢ƒæ‰€æœ‰çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…å«optionsï¼Œloaders, pluginsè¿™äº›é¡¹ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨webpackå¯åŠ¨æ—¶å€™è¢«å®ä¾‹åŒ–ï¼Œå®ƒæ˜¯å…¨å±€å”¯ä¸€çš„ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£ä¸ºwebpackçš„å®ä¾‹ã€‚&lt;/p&gt;\n&lt;p&gt;åŸºæœ¬æºç å¯ä»¥çœ‹å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// webpack/lib/webpack.js\nconst Compiler = require(&amp;quot;./Compiler&amp;quot;)\n\nconst webpack = (options, callback) =&amp;gt; {\n  ...\n  // åˆå§‹åŒ– webpack å„é…ç½®å‚æ•°\n  options = new WebpackOptionsDefaulter().process(options);\n\n  // åˆå§‹åŒ– compiler å¯¹è±¡ï¼Œè¿™é‡Œ options.context ä¸º process.cwd()\n  let compiler = new Compiler(options.context);\n\n  compiler.options = options                               // å¾€ compiler æ·»åŠ åˆå§‹åŒ–å‚æ•°\n\n  new NodeEnvironmentPlugin().apply(compiler)              // å¾€ compiler æ·»åŠ  Node ç¯å¢ƒç›¸å…³æ–¹æ³•\n\n  for (const plugin of options.plugins) {\n    plugin.apply(compiler);\n  }\n  ...\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;a href=\&#34;https://github.com/webpack/webpack/blob/10282ea20648b465caec6448849f24fc34e1ba3e/lib/webpack.js#L30\&#34;&gt;æºç å¯ä»¥ç‚¹å‡»è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;å¦‚ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒCompilerå¯¹è±¡åŒ…å«äº†æ‰€æœ‰çš„webpackå¯é…ç½®çš„å†…å®¹ã€‚å¼€å‘æ’ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä» compiler å¯¹è±¡ä¸­æ‹¿åˆ°æ‰€æœ‰å’Œ webpack ä¸»ç¯å¢ƒç›¸å…³çš„å†…å®¹ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;compilationå¯¹è±¡\&#34;&gt;compilationå¯¹è±¡&lt;/h4&gt;\n&lt;p&gt;compilation å¯¹è±¡åŒ…å«äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€æ–‡ä»¶çš„å˜åŒ–ç­‰ã€‚å½“webpackåœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œæ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆä¸€æ¬¡æ–°çš„ Compilationå°†ä¼šè¢«åˆ›å»ºã€‚ä»è€Œç”Ÿæˆä¸€ç»„æ–°çš„ç¼–è¯‘èµ„æºã€‚&lt;/p&gt;\n&lt;p&gt;Compilerå¯¹è±¡ ä¸ Compilation å¯¹è±¡ çš„åŒºåˆ«æ˜¯ï¼šCompilerä»£è¡¨äº†æ˜¯æ•´ä¸ªwebpackä»å¯åŠ¨åˆ°å…³é—­çš„ç”Ÿå‘½å‘¨æœŸã€‚Compilation å¯¹è±¡åªä»£è¡¨äº†ä¸€æ¬¡æ–°çš„ç¼–è¯‘ã€‚&lt;/p&gt;\n&lt;p&gt;Compilerå¯¹è±¡çš„äº‹ä»¶é’©å­:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;é’©å­               ä½œç”¨                     å‚æ•°               ç±»å‹\nafter-plugins     è®¾ç½®å®Œä¸€ç»„åˆå§‹åŒ–æ’ä»¶ä¹‹å    compiler          sync\nafter-resolvers   è®¾ç½®å®Œ resolvers ä¹‹å     compiler          sync\nrun               åœ¨è¯»å–è®°å½•ä¹‹å‰             compiler          async\ncompile           åœ¨åˆ›å»ºæ–° compilationä¹‹å‰  compilationParams  sync\ncompilation       compilation åˆ›å»ºå®Œæˆ      compilation        sync\nemit              åœ¨ç”Ÿæˆèµ„æºå¹¶è¾“å‡ºåˆ°ç›®å½•ä¹‹å‰  compilation        async\nafter-emit        åœ¨ç”Ÿæˆèµ„æºå¹¶è¾“å‡ºåˆ°ç›®å½•ä¹‹å  compilation        async\ndone              å®Œæˆç¼–è¯‘                  stats              sync\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;a href=\&#34;https://github.com/webpack/webpack/blob/eca7bad8de54c39b9cb8b138793362b8a17ac11b/lib/Compiler.js#L32\&#34;&gt;æºç åœ°å€&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h4 id=\&#34;ç†è§£webpackä¸­çš„äº‹ä»¶æµ\&#34;&gt;ç†è§£webpackä¸­çš„äº‹ä»¶æµ&lt;/h4&gt;\n&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠwebpackç†è§£ä¸ºä¸€æ¡ç”Ÿäº§çº¿ï¼Œéœ€è¦ç»è¿‡ä¸€ç³»åˆ—å¤„ç†æµç¨‹åæ‰èƒ½å°†æºæ–‡ä»¶è½¬æ¢æˆè¾“å‡ºç»“æœã€‚&lt;br&gt;\nè¿™æ¡ç”Ÿäº§çº¿ä¸Šçš„æ¯ä¸ªå¤„ç†æµç¨‹çš„èŒè´£éƒ½æ˜¯å•ä¸€çš„ï¼Œå¤šä¸ªæµç¨‹ä¹‹é—´ä¼šå­˜åœ¨ä¾èµ–å…³ç³»ï¼Œåªæœ‰å®Œæˆå½“å‰å¤„ç†åæ‰èƒ½äº¤ç»™ä¸‹ä¸€ä¸ªæµç¨‹å»å¤„ç†ã€‚&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬çš„æ’ä»¶å°±åƒä¸€ä¸ªæ’å…¥åˆ°ç”Ÿäº§çº¿ä¸­çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œåœ¨ç‰¹å®šçš„æ—¶æœºå¯¹ç”Ÿäº§çº¿ä¸Šçš„èµ„æºä¼šåšå¤„ç†ã€‚webpackå®ƒæ˜¯é€šè¿‡ Tapableæ¥ç»„ç»‡è¿™æ¡å¤æ‚çš„ç”Ÿäº§çº¿çš„ã€‚&lt;/p&gt;\n&lt;p&gt;webpackåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶ï¼Œæ’ä»¶åªéœ€è¦å…³å¿ƒç›‘å¬å®ƒçš„äº‹ä»¶ï¼Œå°±èƒ½åŠ å…¥åˆ°è¿™æ¡ç”Ÿäº§çº¿ä¸­ã€‚ç„¶åä¼šæ‰§è¡Œç›¸å…³çš„æ“ä½œã€‚&lt;br&gt;\nwebpackçš„äº‹ä»¶æµæœºåˆ¶å®ƒèƒ½ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§ï¼Œä½¿æ•´ä¸ªç³»ç»Ÿçš„æ‰©å±•æ€§å¥½ã€‚äº‹ä»¶æµæœºåˆ¶ä½¿ç”¨äº†è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°çš„ã€‚æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;/*\n * å¹¿æ’­äº‹ä»¶\n * myPlugin-name ä¸ºäº‹ä»¶åç§°\n * params ä¸ºé™„å¸¦çš„å‚æ•°\n*/\n\ncompiler.apply(&#39;myPlugin-name&#39;, params); // myPlugin-nameéšä¾¿å†™ï¼Œå°±æ˜¯ä¸€ä¸ªåå­—\n\n/*\n * ç›‘å¬åç§°ä¸º &#39;myPlugin-name&#39; çš„äº‹ä»¶ï¼Œå½“ myPlugin-name äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå‡½æ•°å°±ä¼šæ‰§è¡Œã€‚\n*/\n\ncompiler.hooks.myPlugin-name.tap(&#39;myPlugin-name&#39;, function(params) {\n  \n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ’ä»¶ä¸­å¸¸ç”¨çš„api\&#34;&gt;æ’ä»¶ä¸­å¸¸ç”¨çš„API&lt;/h3&gt;\n&lt;h4 id=\&#34;compilerç”Ÿå‘½å‘¨æœŸé’©å­\&#34;&gt;compilerç”Ÿå‘½å‘¨æœŸé’©å­&lt;/h4&gt;\n&lt;p&gt;&lt;a href=\&#34;https://www.webpackjs.com/api/compiler-hooks/\&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Compiler æ”¯æŒå¯ä»¥ç›‘æ§æ–‡ä»¶ç³»ç»Ÿçš„&lt;a href=\&#34;https://www.webpackjs.com/api/node/#watching\&#34;&gt;ç›‘å¬(watching)&lt;/a&gt;æœºåˆ¶ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ä¿®æ”¹æ—¶é‡æ–°ç¼–è¯‘ã€‚å½“å¤„äºç›‘å¬æ¨¡å¼(watch mode)æ—¶ï¼Œcompiler ä¼šè§¦å‘è¯¸å¦‚ watchRun, watchClose å’Œ invalid ç­‰é¢å¤–çš„äº‹ä»¶ã€‚é€šå¸¸ç”¨äºå¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¹Ÿå¸¸å¸¸ä¼šåœ¨ webpack-dev-server è¿™äº›å·¥å…·çš„åº•å±‚ä¹‹ä¸‹è°ƒç”¨ï¼Œç”±æ­¤å¼€å‘äººå‘˜æ— é¡»æ¯æ¬¡éƒ½ä½¿ç”¨æ‰‹åŠ¨æ–¹å¼é‡æ–°ç¼–è¯‘ã€‚è¿˜å¯ä»¥é€šè¿‡ CLI è¿›å…¥ç›‘å¬æ¨¡å¼ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;ç›¸å…³é’©å­ï¼š&lt;br&gt;\nä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œæ˜¯ç”± compiler æš´éœ²ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è®¿é—®ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;compiler.hooks.someHook.tap(...)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å–å†³äºä¸åŒçš„é’©å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥åœ¨æŸäº›é’©å­ä¸Šè®¿é—® tapAsync å’Œ tapPromiseã€‚&lt;/p&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;ç”Ÿå‘½å‘¨æœŸ&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;å¯¹åº”hooks&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;æ‰§è¡Œæ—¶æœº&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;å‚æ•°&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;entryOption&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncBailHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;åœ¨ entry é…ç½®é¡¹å¤„ç†è¿‡ä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;afterPlugins&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;è®¾ç½®å®Œåˆå§‹æ’ä»¶ä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compiler&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;afterResolvers&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;resolver å®‰è£…å®Œæˆä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compiler&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;environment&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;environment å‡†å¤‡å¥½ä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;afterEnvironment&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;environment å®‰è£…å®Œæˆä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;beforeRun&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncSeriesHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compiler.run() æ‰§è¡Œä¹‹å‰ï¼Œæ·»åŠ ä¸€ä¸ªé’©å­ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compiler&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;run&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncSeriesHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;å¼€å§‹è¯»å– records ä¹‹å‰ï¼Œé’©å…¥(hook into) compilerã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compiler&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;watchRun&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncSeriesHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç›‘å¬æ¨¡å¼ä¸‹ï¼Œä¸€ä¸ªæ–°çš„ç¼–è¯‘(compilation)è§¦å‘ä¹‹åï¼Œæ‰§è¡Œä¸€ä¸ªæ’ä»¶ï¼Œä½†æ˜¯æ˜¯åœ¨å®é™…ç¼–è¯‘å¼€å§‹ä¹‹å‰ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compiler&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;normalModuleFactory&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;NormalModuleFactory åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;normalModuleFactory&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;contextModuleFactory&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ContextModuleFactory åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;contextModuleFactory&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;beforeCompile&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncSeriesHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç¼–è¯‘(compilation)å‚æ•°åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilationParams&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compile&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ä¸€ä¸ªæ–°çš„ç¼–è¯‘(compilation)åˆ›å»ºä¹‹åï¼Œé’©å…¥(hook into) compilerã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilationParams&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;thisCompilation&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;è§¦å‘ compilation äº‹ä»¶ä¹‹å‰æ‰§è¡Œï¼ˆæŸ¥çœ‹ä¸‹é¢çš„ compilationï¼‰&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç¼–è¯‘(compilation)åˆ›å»ºä¹‹åï¼Œæ‰§è¡Œæ’ä»¶&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;make&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncParallelHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;afterCompile&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncSeriesHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;shouldEmit&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncBailHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;æ­¤æ—¶è¿”å› true/falseã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;needAdditionalPass&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncBailHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;emit&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncSeriesHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹å‰ã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;afterEmit&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;AsyncSeriesHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹åã€‚&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;compilation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;done&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç¼–è¯‘(compilation)å®Œæˆ&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;stats&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;failed&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç¼–è¯‘(compilation)å¤±è´¥&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;error&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;invalid&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç›‘å¬æ¨¡å¼ä¸‹ï¼Œç¼–è¯‘æ— æ•ˆæ—¶&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;fileName, changeTime&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;watchClose&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;SyncHook&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç›‘å¬æ¨¡å¼åœæ­¢&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;h4 id=\&#34;è¯»å–è¾“å‡ºèµ„æº-æ¨¡å—åŠä¾èµ–\&#34;&gt;è¯»å–è¾“å‡ºèµ„æºã€æ¨¡å—åŠä¾èµ–&lt;/h4&gt;\n&lt;p&gt;åœ¨æˆ‘ä»¬çš„emité’©å­äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè¡¨ç¤ºçš„å«ä¹‰æ˜¯ï¼šæºæ–‡ä»¶çš„è½¬æ¢å’Œç»„è£…å·²ç»å®Œæˆäº†ï¼Œåœ¨è¿™é‡Œäº‹ä»¶é’©å­é‡Œé¢æˆ‘ä»¬å¯ä»¥è¯»å–åˆ°æœ€ç»ˆå°†è¾“å‡ºçš„èµ„æºã€ä»£ç å—ã€æ¨¡å—åŠå¯¹åº”çš„ä¾èµ–æ–‡ä»¶ã€‚å¹¶ä¸”æˆ‘ä»¬è¿˜å¯ä»¥è¾“å‡ºèµ„æºæ–‡ä»¶çš„å†…å®¹ã€‚æ¯”å¦‚æ’ä»¶ä»£ç å¦‚ä¸‹:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;class MyPlugin {\n  apply(compiler) {\n    compiler.plugin(&#39;emit&#39;, function(compilation, callback) {\n      // compilation.chunks æ˜¯å­˜æ”¾äº†æ‰€æœ‰çš„ä»£ç å—ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬éœ€è¦éå†\n      compilation.chunks.forEach(function(chunk) {\n        /*\n         * chunk ä»£è¡¨ä¸€ä¸ªä»£ç å—ï¼Œä»£ç å—å®ƒæ˜¯ç”±å¤šä¸ªæ¨¡å—ç»„æˆçš„ã€‚\n         * æˆ‘ä»¬å¯ä»¥é€šè¿‡ chunk.forEachModule èƒ½è¯»å–ç»„æˆä»£ç å—çš„æ¯ä¸ªæ¨¡å—\n        */\n        chunk.forEachModule(function(module) {\n          // module ä»£è¡¨ä¸€ä¸ªæ¨¡å—ã€‚\n          // module.fileDependencies å­˜æ”¾å½“å‰æ¨¡å—çš„æ‰€æœ‰ä¾èµ–çš„æ–‡ä»¶è·¯å¾„ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„\n          module.fileDependencies.forEach(function(filepath) {\n            console.log(filepath);\n          });\n        });\n        /*\n         webpack ä¼šæ ¹æ®chunkå»ç”Ÿæˆè¾“å‡ºçš„æ–‡ä»¶èµ„æºï¼Œæ¯ä¸ªchunkéƒ½å¯¹åº”ä¸€ä¸ªåŠä»¥ä¸Šçš„è¾“å‡ºæ–‡ä»¶ã€‚\n         æ¯”å¦‚åœ¨ Chunkä¸­åŒ…å«äº†css æ¨¡å—å¹¶ä¸”ä½¿ç”¨äº† ExtractTextPlugin æ—¶ï¼Œ\n         é‚£ä¹ˆè¯¥Chunk å°±ä¼šç”Ÿæˆ .js å’Œ .css ä¸¤ä¸ªæ–‡ä»¶\n        */\n        chunk.files.forEach(function(filename) {\n          // compilation.assets æ˜¯å­˜æ”¾å½“å‰æ‰€æœ‰å³å°†è¾“å‡ºçš„èµ„æºã€‚\n          // è°ƒç”¨ä¸€ä¸ªè¾“å‡ºèµ„æºçš„ source() æ–¹æ³•èƒ½è·å–åˆ°è¾“å‡ºèµ„æºçš„å†…å®¹\n          const source = compilation.assets[filename].source();\n        });\n      });\n      /*\n       è¯¥äº‹ä»¶æ˜¯å¼‚æ­¥äº‹ä»¶ï¼Œå› æ­¤è¦è°ƒç”¨ callback æ¥é€šçŸ¥æœ¬æ¬¡çš„ webpackäº‹ä»¶ç›‘å¬ç»“æŸã€‚\n       å¦‚æœæˆ‘ä»¬æ²¡æœ‰è°ƒç”¨callback(); é‚£ä¹ˆwebpackå°±ä¼šä¸€ç›´å¡åœ¨è¿™é‡Œä¸ä¼šå¾€åæ‰§è¡Œã€‚\n      */\n      callback();\n    })\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;ç›‘å¬æ–‡ä»¶å˜åŒ–\&#34;&gt;ç›‘å¬æ–‡ä»¶å˜åŒ–&lt;/h4&gt;\n&lt;p&gt;webpackè¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå®ƒä¼šä»å…¥å£æ¨¡å—å»è¯»å–ï¼Œç„¶åä¾æ¬¡æ‰¾å‡ºæ‰€æœ‰çš„ä¾èµ–æ¨¡å—ã€‚å½“å…¥å£æ¨¡å—æˆ–ä¾èµ–çš„æ¨¡å—å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘ä¸€æ¬¡æ–°çš„ Compilationã€‚&lt;/p&gt;\n&lt;p&gt;åœ¨æˆ‘ä»¬å¼€å‘æ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æ˜¯é‚£ä¸ªæ–‡ä»¶å‘ç”Ÿæ”¹å˜ï¼Œå¯¼è‡´äº†æ–°çš„Compilation, æˆ‘ä»¬å¯ä»¥æ·»åŠ å¦‚ä¸‹ä»£ç è¿›è¡Œç›‘å¬ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// å½“ä¾èµ–çš„æ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ ä¼šè§¦å‘ watch-run äº‹ä»¶\nclass MyPlugin {\n  apply(compiler) {\n    compiler.plugin(&#39;watch-run&#39;, (watching, callback) =&amp;gt; {\n      // è·å–å‘ç”Ÿå˜æ¢çš„æ–‡ä»¶åˆ—è¡¨\n      const changedFiles = watching.compiler.watchFileSystem.watcher.mtimes;\n      // changedFiles æ ¼å¼ä¸ºé”®å€¼å¯¹çš„å½¢å¼ï¼Œå½“é”®ä¸ºå‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶è·¯å¾„\n      if (changedFiles[filePath] !== undefined) {\n        // å¯¹åº”çš„æ–‡ä»¶å°±å‘ç”Ÿäº†å˜åŒ–äº†\n      }\n      callback();\n    });\n\n    /*\n     é»˜è®¤æƒ…å†µä¸‹Webpackåªä¼šç›‘å¬å…¥å£æ–‡ä»¶æˆ–å…¶ä¾èµ–çš„æ¨¡å—æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯åœ¨æœ‰äº›æƒ…å†µä¸‹æ¯”å¦‚htmlæ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆwebpack\n     å°±ä¼šå»ç›‘å¬htmlæ–‡ä»¶çš„å˜åŒ–ã€‚å› æ­¤å°±ä¸ä¼šé‡æ–°è§¦å‘æ–°çš„ Compilationã€‚å› æ­¤ä¸ºäº†ç›‘å¬htmlæ–‡ä»¶çš„å˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦æŠŠhtmlæ–‡ä»¶åŠ å…¥åˆ°\n     ä¾èµ–åˆ—è¡¨ä¸­ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š\n    */\n    compiler.plugin(&#39;after-compile&#39;, (compilation, callback) =&amp;gt; {\n      /*\n       å¦‚ä¸‹çš„å‚æ•°filePathæ˜¯htmlæ–‡ä»¶è·¯å¾„ï¼Œæˆ‘ä»¬æŠŠHTMLæ–‡ä»¶æ·»åŠ åˆ°æ–‡ä»¶ä¾èµ–è¡¨ä¸­ï¼Œç„¶åæˆ‘ä»¬çš„webpackä¼šå»ç›‘å¬htmlæ¨¡å—æ–‡ä»¶ï¼Œ\n       htmlæ¨¡æ¿æ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œä¼šé‡æ–°å¯åŠ¨ä¸‹é‡æ–°ç¼–è¯‘ä¸€ä¸ªæ–°çš„ Compilation.\n      */\n      compilation.fileDependencies.push(filePath);\n      callback();\n    })\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;ä¿®æ”¹è¾“å‡ºèµ„æº\&#34;&gt;ä¿®æ”¹è¾“å‡ºèµ„æº&lt;/h4&gt;\n&lt;p&gt;æˆ‘ä»¬åœ¨ç¬¬ä¸€ç‚¹è¯´è¿‡ï¼šåœ¨æˆ‘ä»¬çš„emité’©å­äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè¡¨ç¤ºçš„å«ä¹‰æ˜¯ï¼šæºæ–‡ä»¶çš„è½¬æ¢å’Œç»„è£…å·²ç»å®Œæˆäº†ï¼Œåœ¨è¿™é‡Œäº‹ä»¶é’©å­é‡Œé¢æˆ‘ä»¬å¯ä»¥è¯»å–åˆ°æœ€ç»ˆå°†è¾“å‡ºçš„èµ„æºã€ä»£ç å—ã€æ¨¡å—åŠå¯¹åº”çš„ä¾èµ–æ–‡ä»¶ã€‚å› æ­¤å¦‚æœæˆ‘ä»¬ç°åœ¨è¦ä¿®æ”¹è¾“å‡ºèµ„æºçš„å†…å®¹çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨emitäº‹ä»¶ä¸­å»åšä¿®æ”¹ã€‚é‚£ä¹ˆæ‰€æœ‰è¾“å‡ºçš„èµ„æºä¼šå­˜æ”¾åœ¨ compilation.assetsä¸­ï¼Œcompilation.assetsæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®ä¸ºéœ€è¦è¾“å‡ºçš„æ–‡ä»¶åï¼Œå€¼ä¸ºæ–‡ä»¶å¯¹åº”çš„å†…å®¹ã€‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;class MyPlugin {\n  apply(compiler) {\n    compiler.plugin(&#39;emit&#39;, (compilation, callback) =&amp;gt; {\n      // è®¾ç½®åç§°ä¸º fileName çš„è¾“å‡ºèµ„æº\n      compilation.assets[fileName] = {\n        // è¿”å›æ–‡ä»¶å†…å®¹\n        source: () =&amp;gt; {\n          // fileContent å³å¯ä»¥ä»£è¡¨æ–‡æœ¬æ–‡ä»¶çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»£è¡¨äºŒè¿›åˆ¶æ–‡ä»¶çš„buffer\n          return fileContent;\n        },\n        // è¿”å›æ–‡ä»¶å¤§å°\n        size: () =&amp;gt; {\n          return Buffer.byteLength(fileContent, &#39;utf8&#39;);\n        }\n      };\n      callback();\n    });\n    // è¯»å– compilation.assets ä»£ç å¦‚ä¸‹ï¼š\n    compiler.plugin(&#39;emit&#39;, (compilation, callback) =&amp;gt; {\n      // è¯»å–åç§°ä¸º fileName çš„è¾“å‡ºèµ„æº\n      const asset = compilation.assets[fileName];\n      // è·å–è¾“å‡ºèµ„æºçš„å†…å®¹\n      asset.source();\n      // è·å–è¾“å‡ºèµ„æºçš„æ–‡ä»¶å¤§å°\n      asset.size();\n      callback();\n    });\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;åˆ¤æ–­webpackä½¿ç”¨äº†å“ªäº›æ’ä»¶\&#34;&gt;åˆ¤æ–­webpackä½¿ç”¨äº†å“ªäº›æ’ä»¶&lt;/h4&gt;\n&lt;p&gt;åœ¨æˆ‘ä»¬å¼€å‘ä¸€ä¸ªæ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å½“å‰é…ç½®æ˜¯å¦ä½¿ç”¨äº†å…¶ä»–æŸä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯»å–webpackæŸä¸ªæ’ä»¶é…ç½®çš„æƒ…å†µï¼Œæ¯”å¦‚æ¥åˆ¤æ–­æˆ‘ä»¬å½“å‰æ˜¯å¦ä½¿ç”¨äº† HtmlWebpackPlugin æ’ä»¶ã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;/*\n åˆ¤æ–­å½“å‰é…ç½®ä½¿ç”¨äº† HtmlWebpackPlugin æ’ä»¶ã€‚\n compilerå‚æ•°å³ä¸º webpack åœ¨ apply(compiler) ä¸­ä¼ å…¥çš„å‚æ•°\n*/\n\nfunction hasHtmlWebpackPlugin(compiler) {\n  // è·å–å½“å‰é…ç½®ä¸‹æ‰€æœ‰çš„æ’ä»¶åˆ—è¡¨\n  const plugins = compiler.options.plugins;\n  // å»pluginsä¸­å¯»æ‰¾æœ‰æ²¡æœ‰ HtmlWebpackPlugin çš„å®åˆ—\n  return plugins.find(plugin =&amp;gt; plugin.__proto__.constructor === HtmlWebpackPlugin) !== null;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å®æˆ˜\&#34;&gt;å®æˆ˜&lt;/h3&gt;\n&lt;h4 id=\&#34;å®ç°ä¸€ä¸ªæ‰“å°æ—¥å¿—çš„logwebpackpluginæ’ä»¶\&#34;&gt;å®ç°ä¸€ä¸ªæ‰“å°æ—¥å¿—çš„LogWebpackPluginæ’ä»¶&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// è¿™ä¸ªæ–‡ä»¶ä¸ºäº†è§‚çœ‹æ›´ç›´è§‚ï¼Œå…ˆæ”¾åˆ°webpack.config.jsä¸­ï¼ŒçœŸæ­£ä½¿ç”¨æ—¶å¯ä»¥å°†ä½ çš„è‡ªå®šä¹‰webpackæ’ä»¶å°è£…åˆ°ä½ ä»¬çš„å‰ç«¯ç»„ä»¶åº“ä¸­ã€‚\nclass LogWebpackPlugin {\n  constructor(doneCallback, emitCallback) {\n    this.emitCallback = emitCallback\n    this.doneCallback = doneCallback\n  }\n  apply(compiler) {\n    compiler.hooks.emit.tap(&#39;LogWebpackPlugin&#39;, () =&amp;gt; {\n      // åœ¨ emit äº‹ä»¶ä¸­å›è°ƒ emitCallback\n      this.emitCallback();\n    });\n    compiler.hooks.done.tap(&#39;LogWebpackPlugin&#39;, (err) =&amp;gt; {\n      // åœ¨ done äº‹ä»¶ä¸­å›è°ƒ doneCallback\n      this.doneCallback();\n    });\n    compiler.hooks.compilation.tap(&#39;LogWebpackPlugin&#39;, () =&amp;gt; {\n      // compilationï¼ˆ&#39;ç¼–è¯‘å™¨&#39;å¯¹&#39;ç¼–è¯‘ing&#39;è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬ï¼‰\n      console.log(&amp;quot;The compiler is starting a new compilation...&amp;quot;)\n    });\n    compiler.hooks.compile.tap(&#39;LogWebpackPlugin&#39;, () =&amp;gt; {\n      // compileï¼ˆ&#39;ç¼–è¯‘å™¨&#39;å¯¹&#39;å¼€å§‹ç¼–è¯‘&#39;è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬ï¼‰\n      console.log(&amp;quot;The compiler is starting to compile...&amp;quot;)\n    });\n  }\n}\n\n\n// ä½¿ç”¨\nmodule.exports = {\n  plugins: [\n    new LogWebpackPlugin(() =&amp;gt; {\n      // Webpack æ¨¡å—å®Œæˆè½¬æ¢æˆåŠŸ\n      console.log(&#39;emit äº‹ä»¶å‘ç”Ÿå•¦ï¼Œæ‰€æœ‰æ¨¡å—çš„è½¬æ¢å’Œä»£ç å—å¯¹åº”çš„æ–‡ä»¶å·²ç»ç”Ÿæˆå¥½~&#39;)\n    } , () =&amp;gt; {\n      // Webpack æ„å»ºæˆåŠŸï¼Œå¹¶ä¸”æ–‡ä»¶è¾“å‡ºäº†åä¼šæ‰§è¡Œåˆ°è¿™é‡Œï¼Œåœ¨è¿™é‡Œå¯ä»¥åšå‘å¸ƒæ–‡ä»¶æ“ä½œ\n      console.log(&#39;done äº‹ä»¶å‘ç”Ÿå•¦ï¼ŒæˆåŠŸæ„å»ºå®Œæˆ~&#39;)\n    })\n  ]\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;ç¼–å†™å»é™¤ç”Ÿæˆ-bundlejs-ä¸­å¤šä½™çš„æ³¨é‡Šçš„æ’ä»¶\&#34;&gt;ç¼–å†™å»é™¤ç”Ÿæˆ bundle.js ä¸­å¤šä½™çš„æ³¨é‡Šçš„æ’ä»¶&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;class MyPlugin {\n  constructor(options) {\n    this.options = options;\n    this.externalModules = {};\n  }\n  apply(compiler) {\n    var reg = /(&amp;quot;([^\\\\\\&amp;quot;]*(\\\\.)?)*&amp;quot;)|(&#39;([^\\\\\\&#39;]*(\\\\.)?)*&#39;)|(\\/{2,}.*?(\\r|\\n))|(\\/\\*(\\n|.)*?\\*\\/)|(\\/\\*\\*\\*\\*\\*\\*\\/)/g;\n    compiler.hooks.emit.tap(&#39;CodeBeautify&#39;, (compilation) =&amp;gt; {\n      Object.keys(compilation.assets).forEach((data) =&amp;gt; {\n        console.log(data);\n        let content = compilation.assets[data].source(); // è·å–å¤„ç†çš„æ–‡æœ¬\n        content = content.replace(reg, function (word) { // å»é™¤æ³¨é‡Šåçš„æ–‡æœ¬\n          return /^\\/{2,}/.test(word) || /^\\/\\*!/.test(word) || /^\\/\\*{3,}\\//.test(word) ? &amp;quot;&amp;quot; : word;\n        });\n        compilation.assets[data] = {\n          source() {\n            return content;\n          },\n          size() {\n            return content.length;\n          }\n        }\n      });\n    });\n  }\n}\nmodule.exports = MyPlugin;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™ä¸ªjsä»£ç çš„çœŸæ­£çš„å«ä¹‰æ‰æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®²åˆ°çš„ï¼Œè¿™ä¸ªæ’ä»¶æœ€ä¸»è¦ä½œç”¨æ˜¯ å»é™¤æ³¨é‡Šåçš„æ–‡æœ¬ã€‚&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ compiler.hooks.emit é’©å­å‡½æ•°ã€‚åœ¨ç”Ÿæˆèµ„æºå¹¶è¾“å‡ºåˆ°ç›®å½•ä¹‹å‰è§¦å‘è¯¥å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å°†ç¼–è¯‘å¥½çš„ä»£ç å‘å°„åˆ°æŒ‡å®šçš„streamä¸­å°±ä¼šè§¦å‘ï¼Œç„¶åæˆ‘ä»¬ä»å›è°ƒå‡½æ•°è¿”å›çš„ compilation å¯¹è±¡ä¸Šå¯ä»¥æ‹¿åˆ°ç¼–è¯‘å¥½çš„ stream.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è®¿é—®compilationå¯¹è±¡ï¼Œcompilationå†…éƒ¨ä¼šè¿”å›å¾ˆå¤šå†…éƒ¨å¯¹è±¡ï¼Œè¿™è¾¹å…ˆä¸æ‰“å°äº†ï¼Œå› ä¸ºæ‰“å°çš„è¯ç›´æ¥ä¼šå¡æ­»æ‰ï¼Œè¦ç­‰å¾ˆé•¿æ—¶é—´æ‰ä¼šæ‰“å°å‡ºæ¥ï¼Œä½ ä»¬è‡ªå·±å¯ä»¥è¯•è¯•ï¼›ç„¶åæˆ‘ä»¬éå† assets.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;Object.keys(compilation.assets).forEach((data) =&amp;gt; {\n  console.log(compilation.assets);\n  console.log(8888)\n  console.log(data);\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644922971138.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;assets æ•°ç»„å¯¹è±¡ä¸­çš„keyæ˜¯èµ„æºåã€‚åœ¨å¦‚ä¸Šä»£ç ï¼Œæˆ‘ä»¬é€šè¿‡ Object.key()æ–¹æ³•æ‹¿åˆ°äº†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;pre&gt;&lt;code&gt;main.css\nbundle.js\nindex.html\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;ç„¶åæˆ‘ä»¬è°ƒç”¨ compilation.assets[data].source(); å¯ä»¥è·å–èµ„æºçš„å†…å®¹ã€‚&lt;/li&gt;\n&lt;li&gt;ä½¿ç”¨æ­£åˆ™ï¼Œå»æ‰æ³¨é‡Šï¼Œå¦‚ä¸‹ä»£ç ï¼š&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;Object.keys(compilation.assets).forEach((data) =&amp;gt; {\n  let content = compilation.assets[data].source(); // è·å–å¤„ç†çš„æ–‡æœ¬\n  content = content.replace(reg, function (word) { // å»é™¤æ³¨é‡Šåçš„æ–‡æœ¬\n      return /^\\/{2,}/.test(word) || /^\\/\\*!/.test(word) || /^\\/\\*{3,}\\//.test(word) ? &amp;quot;&amp;quot; : word;\n  });\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;æ›´æ–° compilation.assets[data] å¯¹è±¡ï¼Œå¦‚ä¸‹ä»£ç ï¼š&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;compilation.assets[data] = {\n  source() {\n      return content;\n  },\n  size() {\n      return content.length;\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;æœ€åä½¿ç”¨&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;module.exports = {\n  plugins:[\n      new MyPlugin(),\n  ]\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;webpack40ä¹‹åç”¨compilerhooksæ³¨å†Œä¹‹å‰ç”¨comlilerpluginæ³¨å†Œä½†ä¸ºäº†ä¿é™©èµ·è§è¿˜æ˜¯ä¸¤ç§åŠæ³•éƒ½å†™è¿™æ ·èƒ½åº”ä»˜æœåŠ¡å™¨æ— webpack4ç‰ˆæœ¬è¯¦è§è¿™ç¯‡æ–‡ç« \&#34;&gt;webpack4.0ä¹‹åç”¨compiler.hooksæ³¨å†Œï¼Œä¹‹å‰ç”¨comliler.pluginæ³¨å†Œï¼Œä½†ä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿˜æ˜¯ä¸¤ç§åŠæ³•éƒ½å†™ï¼Œè¿™æ ·èƒ½åº”ä»˜æœåŠ¡å™¨æ— webpack4ç‰ˆæœ¬ï¼Œè¯¦è§ï¼š&lt;a href=\&#34;https://www.cnblogs.com/dashnowords/p/9572749.html\&#34;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/h4&gt;\n&lt;h3 id=\&#34;æœ€åæ‰©å±•ç®€å•çœ‹äº†å‡ ä¸ªæ’ä»¶ä¹‹åæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘åšäº›å…¶ä»–çš„äº‹æƒ…æ¯”å¦‚åˆ é™¤consolelog-æˆ–è€…æ„å»ºå®Œæˆæ—¶åšä¸€äº›æ–‡ä»¶ä¸Šä¼ cdnçš„æ“ä½œé©¬ä¸ŠåŠ¨æ‰‹å§~\&#34;&gt;æœ€åæ‰©å±•ï¼šç®€å•çœ‹äº†å‡ ä¸ªæ’ä»¶ä¹‹åï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘åšäº›å…¶ä»–çš„äº‹æƒ…ï¼Œæ¯”å¦‚åˆ é™¤console.logã€æˆ–è€…æ„å»ºå®Œæˆæ—¶åšä¸€äº›æ–‡ä»¶ä¸Šä¼ cdnçš„æ“ä½œï¼Œé©¬ä¸ŠåŠ¨æ‰‹å§ï½&lt;/h3&gt;\n&#34;,&#34;fileName&#34;:&#34;zi-ding-yi-yi-ge-webpack-de-cha-jian&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;è‡ªå®šä¹‰ä¸€ä¸ªWebPackçš„æ’ä»¶&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;webpack&#34;,&#34;slug&#34;:&#34;ZE2xVCkDq&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/ZE2xVCkDq&#34;}],&#34;date&#34;:&#34;2022-02-14 18:32:14&#34;,&#34;dateFormat&#34;:&#34;2022-02-14&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/zi-ding-yi-yi-ge-webpack-de-cha-jian&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;21 min read&#34;,&#34;time&#34;:1215000,&#34;words&#34;:5141,&#34;minutes&#34;:21},&#34;description&#34;:&#34;1ã€webpackæ’ä»¶çš„åŸºæœ¬åŸç†\næˆ‘ä»¬çŸ¥é“ï¼Œwebpack å°±åƒä¸€æ¡ç”Ÿäº§çº¿,è¦ç»è¿‡ä¸€ç³»åˆ—å¤„ç†æµç¨‹åæ‰èƒ½å°†æºæ–‡ä»¶è½¬æ¢æˆè¾“å‡ºç»“æœã€‚ è¿™æ¡ç”Ÿäº§çº¿ä¸Šçš„æ¯ä¸ªå¤„ç†æµç¨‹çš„èŒè´£éƒ½æ˜¯å•ä¸€çš„,å¤šä¸ªæµç¨‹ä¹‹é—´æœ‰å­˜åœ¨ä¾èµ–å…³ç³»,åªæœ‰å®Œæˆå½“å‰å¤„ç†åæ‰èƒ½äº¤ç»™ä¸‹ä¸€ä¸ªæµç¨‹å»å¤„...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-webpack%E6%8F%92%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86\&#34;&gt;1ã€webpackæ’ä»¶çš„åŸºæœ¬åŸç†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#tapable%E9%80%9A%E8%BF%87tap%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AA%E4%BA%8B%E4%BB%B6%E9%80%9A%E8%BF%87call%E6%89%A7%E8%A1%8C%E8%AF%A5%E9%92%A9%E5%AD%90%E6%B3%A8%E5%86%8C%E7%9A%84%E6%89%80%E6%9C%89%E4%BA%8B%E4%BB%B6-tapable%E7%9A%84%E6%AF%8F%E4%B8%AAhooks%E9%83%BDtap%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E4%BA%8B%E4%BB%B6-tapasynccallasync-tappromisepromise%E7%94%A8%E4%BA%8E%E6%B3%A8%E5%86%8C%E5%90%8C%E6%AD%A5%E6%89%A7%E8%A1%8C%E7%9A%84%E5%BC%82%E6%AD%A5%E4%BA%8B%E4%BB%B6callasync%E7%94%A8%E5%9C%A8%E5%B9%B6%E8%A1%8C%E6%89%A7%E8%A1%8C%E7%9A%84%E5%BC%82%E6%AD%A5%E9%92%A9%E5%AD%90%E5%AE%8C%E6%88%90%E5%90%8E%E5%86%8D%E6%89%A7%E8%A1%8C%E8%AF%A5%E5%87%BD%E6%95%B0\&#34;&gt;tapableé€šè¿‡tapæ³¨å†Œä¸€ä¸ªäº‹ä»¶ï¼Œé€šè¿‡callæ‰§è¡Œè¯¥é’©å­æ³¨å†Œçš„æ‰€æœ‰äº‹ä»¶ã€‚tapableçš„æ¯ä¸ªhookséƒ½tapä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶ã€‚tapAsync/callAsyncã€tapPromise/Promiseç”¨äºæ³¨å†ŒåŒæ­¥æ‰§è¡Œçš„å¼‚æ­¥äº‹ä»¶ï¼ŒcallAsyncç”¨åœ¨å¹¶è¡Œæ‰§è¡Œçš„å¼‚æ­¥é’©å­å®Œæˆåå†æ‰§è¡Œè¯¥å‡½æ•°ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2-compiler-%E5%92%8C-compilation\&#34;&gt;2ã€Compiler å’Œ Compilation&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#compiler%E5%AF%B9%E8%B1%A1\&#34;&gt;Compilerå¯¹è±¡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#compilation%E5%AF%B9%E8%B1%A1\&#34;&gt;compilationå¯¹è±¡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%90%86%E8%A7%A3webpack%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%B5%81\&#34;&gt;ç†è§£webpackä¸­çš„äº‹ä»¶æµ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8F%92%E4%BB%B6%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84api\&#34;&gt;æ’ä»¶ä¸­å¸¸ç”¨çš„API&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#compiler%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90\&#34;&gt;compilerç”Ÿå‘½å‘¨æœŸé’©å­&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%AF%BB%E5%8F%96%E8%BE%93%E5%87%BA%E8%B5%84%E6%BA%90-%E6%A8%A1%E5%9D%97%E5%8F%8A%E4%BE%9D%E8%B5%96\&#34;&gt;è¯»å–è¾“å‡ºèµ„æºã€æ¨¡å—åŠä¾èµ–&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%9B%91%E5%90%AC%E6%96%87%E4%BB%B6%E5%8F%98%E5%8C%96\&#34;&gt;ç›‘å¬æ–‡ä»¶å˜åŒ–&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BF%AE%E6%94%B9%E8%BE%93%E5%87%BA%E8%B5%84%E6%BA%90\&#34;&gt;ä¿®æ”¹è¾“å‡ºèµ„æº&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%A4%E6%96%ADwebpack%E4%BD%BF%E7%94%A8%E4%BA%86%E5%93%AA%E4%BA%9B%E6%8F%92%E4%BB%B6\&#34;&gt;åˆ¤æ–­webpackä½¿ç”¨äº†å“ªäº›æ’ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9E%E6%88%98\&#34;&gt;å®æˆ˜&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97%E7%9A%84logwebpackplugin%E6%8F%92%E4%BB%B6\&#34;&gt;å®ç°ä¸€ä¸ªæ‰“å°æ—¥å¿—çš„LogWebpackPluginæ’ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BC%96%E5%86%99%E5%8E%BB%E9%99%A4%E7%94%9F%E6%88%90-bundlejs-%E4%B8%AD%E5%A4%9A%E4%BD%99%E7%9A%84%E6%B3%A8%E9%87%8A%E7%9A%84%E6%8F%92%E4%BB%B6\&#34;&gt;ç¼–å†™å»é™¤ç”Ÿæˆ bundle.js ä¸­å¤šä½™çš„æ³¨é‡Šçš„æ’ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#webpack40%E4%B9%8B%E5%90%8E%E7%94%A8compilerhooks%E6%B3%A8%E5%86%8C%E4%B9%8B%E5%89%8D%E7%94%A8comlilerplugin%E6%B3%A8%E5%86%8C%E4%BD%86%E4%B8%BA%E4%BA%86%E4%BF%9D%E9%99%A9%E8%B5%B7%E8%A7%81%E8%BF%98%E6%98%AF%E4%B8%A4%E7%A7%8D%E5%8A%9E%E6%B3%95%E9%83%BD%E5%86%99%E8%BF%99%E6%A0%B7%E8%83%BD%E5%BA%94%E4%BB%98%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A0webpack4%E7%89%88%E6%9C%AC%E8%AF%A6%E8%A7%81%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0\&#34;&gt;webpack4.0ä¹‹åç”¨compiler.hooksæ³¨å†Œï¼Œä¹‹å‰ç”¨comliler.pluginæ³¨å†Œï¼Œä½†ä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿˜æ˜¯ä¸¤ç§åŠæ³•éƒ½å†™ï¼Œè¿™æ ·èƒ½åº”ä»˜æœåŠ¡å™¨æ— webpack4ç‰ˆæœ¬ï¼Œè¯¦è§ï¼šè¿™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9C%80%E5%90%8E%E6%89%A9%E5%B1%95%E7%AE%80%E5%8D%95%E7%9C%8B%E4%BA%86%E5%87%A0%E4%B8%AA%E6%8F%92%E4%BB%B6%E4%B9%8B%E5%90%8E%E6%98%AF%E4%B8%8D%E6%98%AF%E5%8F%AF%E4%BB%A5%E8%80%83%E8%99%91%E5%81%9A%E4%BA%9B%E5%85%B6%E4%BB%96%E7%9A%84%E4%BA%8B%E6%83%85%E6%AF%94%E5%A6%82%E5%88%A0%E9%99%A4consolelog-%E6%88%96%E8%80%85%E6%9E%84%E5%BB%BA%E5%AE%8C%E6%88%90%E6%97%B6%E5%81%9A%E4%B8%80%E4%BA%9B%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0cdn%E7%9A%84%E6%93%8D%E4%BD%9C%E9%A9%AC%E4%B8%8A%E5%8A%A8%E6%89%8B%E5%90%A7~\&#34;&gt;æœ€åæ‰©å±•ï¼šç®€å•çœ‹äº†å‡ ä¸ªæ’ä»¶ä¹‹åï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘åšäº›å…¶ä»–çš„äº‹æƒ…ï¼Œæ¯”å¦‚åˆ é™¤console.logã€æˆ–è€…æ„å»ºå®Œæˆæ—¶åšä¸€äº›æ–‡ä»¶ä¸Šä¼ cdnçš„æ“ä½œï¼Œé©¬ä¸ŠåŠ¨æ‰‹å§ï½&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644479995097.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&#34;,&#34;fileName&#34;:&#34;duan-xin-duan-lian-jie-huan-qi-app&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;çŸ­ä¿¡çŸ­é“¾æ¥å”¤èµ·APP&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Appå†…åµŒh5æ··åˆå¼€å‘&#34;,&#34;slug&#34;:&#34;-PSB0uA8b&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/-PSB0uA8b&#34;}],&#34;date&#34;:&#34;2022-02-10 15:59:08&#34;,&#34;dateFormat&#34;:&#34;2022-02-10&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/duan-xin-duan-lian-jie-huan-qi-app&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;0 min read&#34;,&#34;time&#34;:0,&#34;words&#34;:0,&#34;minutes&#34;:0},&#34;description&#34;:&#34;\n...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å…ˆè¯´ä¸‹ä¸ºä»€ä¹ˆè¦è·å–-openid\&#34;&gt;å…ˆè¯´ä¸‹ä¸ºä»€ä¹ˆè¦è·å– openid?&lt;/h3&gt;\n&lt;p&gt;å› ä¸ºç”¨æˆ·ç®¡ç†ç±»æ¥å£å¯ä»¥é€šè¿‡openidå¯ä»¥è·å–ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯çš„.&lt;/p&gt;\n&lt;h3 id=\&#34;è¯´åˆ°-openid-å¿…é¡»å…ˆè¯´å¾®ä¿¡æˆæƒç™»å½•çš„è¿‡ç¨‹\&#34;&gt;è¯´åˆ° openid å¿…é¡»å…ˆè¯´å¾®ä¿¡æˆæƒç™»å½•çš„è¿‡ç¨‹&lt;/h3&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644479416142.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;å‰ç«¯éœ€è¦åœ¨è¿›å…¥è·¯ç”±çš„æ˜¯beaforEachçš„æ—¶å€™ï¼Œå…ˆå»åˆ¤æ–­é“¾æ¥ä¸Šæœ‰æ²¡æœ‰ openid&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¦‚æœæ²¡æœ‰ï¼Œå°±å»è·³è½¬åˆ°æœåŠ¡ç«¯ç»™çš„ä¸€ä¸ªåœ°å€ã€‚å¦‚æœæœ‰ï¼Œå°±ç»§ç»­å¾€ä¸‹èµ°ï¼ˆnext())&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯ä¼šå¾€ä¸‹é¢çš„é“¾æ¥ï¼ˆhttps://open.weixin.qq.com/connect/oauth2/authorize?appid=APPID&amp;amp;redirect_uri=REDIRECT_URI&amp;amp;response_type=code&amp;amp;scope=SCOPE&amp;amp;state=STATE#wechat_redirectæ¥è·å–codeï¼‰ä¸Šè·³è½¬ï¼Œå»å¼•å¯¼ç”¨æˆ·å»ç‚¹å‡»æˆæƒï¼Œç”¨æˆ·æˆæƒä¹‹åå°±ä¼šé‡å®šå‘åˆ° redirect_uriï¼ˆæœåŠ¡ç«¯çš„åœ°å€ï¼‰&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;åˆ©ç”¨ code è·å– openid ä¹‹å(æœåŠ¡ç«¯å»åš)ï¼ŒæœåŠ¡ç«¯ä¼šè·³è½¬åˆ°å‰ç«¯é¡µé¢(å¸¦ä¸Šopenid)&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;ä¸‹é¢ä½œä¸ºäº†è§£ï¼š&lt;/p&gt;\n&lt;p&gt;å¾®ä¿¡æˆæƒä½¿ç”¨çš„æ˜¯ OAuth2.0æˆæƒæ–¹å¼ã€‚ä¸»è¦æœ‰ä»¥ä¸‹ç®€ç•¥çš„æ­¥éª¤ï¼š&lt;br&gt;\nç¬¬ä¸€æ­¥ï¼šç”¨æˆ·åŒæ„æˆæƒï¼Œè·å– code&lt;br&gt;\nã€€ã€€ç¬¬äºŒæ­¥ï¼šé€šè¿‡ codeè·å–ç½‘é¡µæˆæƒaccess_token&lt;br&gt;\nã€€ã€€ç¬¬ä¸‰æ­¥ï¼šåˆ·æ–°access_tokenï¼ˆå¦‚æœéœ€è¦ï¼‰&lt;br&gt;\nã€€ã€€ç¬¬å››æ­¥ï¼šæ‹‰å–ç”¨æˆ·ä¿¡æ¯(éœ€scopeä¸º snsapi_userinfo)&lt;/p&gt;\n&lt;h3 id=\&#34;ä¸‹é¢æ¥å…·ä½“apiè¡¨ç¤ºä¸‹æ€ä¹ˆè·å–çš„-code-å’Œ-openid-å§\&#34;&gt;ä¸‹é¢æ¥å…·ä½“apiè¡¨ç¤ºä¸‹æ€ä¹ˆè·å–çš„ code å’Œ openid å§&lt;/h3&gt;\n&lt;h3 id=\&#34;ä¸€è·å–code\&#34;&gt;ä¸€ï¼šè·å–code:&lt;/h3&gt;\n&lt;p&gt;é€šè¿‡https://open.weixin.qq.com/connect/oauth2/authorize?appid=APPID&amp;amp;redirect_uri=REDIRECT_URI&amp;amp;response_type=code&amp;amp;scope=SCOPE&amp;amp;state=STATE#wechat_redirectæ¥è·å–code&lt;br&gt;\nå‚æ•°ï¼š&lt;br&gt;\nAPPIDï¼šåº”ç”¨å”¯ä¸€æ ‡è¯†&lt;br&gt;\nredirect_uriï¼šæˆæƒåé‡å®šå‘çš„å›è°ƒé“¾æ¥åœ°å€ï¼Œç”¨æˆ·åŒæ„åï¼Œcode ä¼šè‡ªåŠ¨æ·»åŠ åˆ°åé¢ã€‚ï¼ˆè¯·ä½¿ç”¨urlEncodeå¯¹é“¾æ¥è¿›è¡Œå¤„ç† ï¼ˆ$url = urlencode(&#39;&#39;)ï¼‰ ï¼‰&lt;br&gt;\nscopeï¼šæ˜¯åº”ç”¨æˆæƒä½œç”¨åŸŸ ï¼ˆä¸€èˆ¬æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯é™é»˜æ–¹å¼ï¼ˆsnsapi_base); ä¸€ç§æ˜¯éé™é»˜æ–¹å¼ï¼ˆsnsapi_userinfoï¼‰ï¼Œéœ€è¦ç”¨æˆ·å»æ‰‹åŠ¨åŒæ„æ‰èƒ½è·å–ç”¨æˆ·ä¿¡æ¯ï¼‰&lt;/p&gt;\n&lt;p&gt;å¾®ä¿¡ä¸­å°¤å…¶æé†’ï¼šç”±äºæˆæƒæ“ä½œå®‰å…¨ç­‰çº§è¾ƒé«˜ï¼Œæ‰€ä»¥åœ¨å‘èµ·æˆæƒè¯·æ±‚æ—¶ï¼Œå¾®ä¿¡ä¼šå¯¹æˆæƒé“¾æ¥åšæ­£åˆ™å¼ºåŒ¹é…æ ¡éªŒï¼Œå¦‚æœé“¾æ¥çš„å‚æ•°é¡ºåºä¸å¯¹ï¼Œæˆæƒé¡µé¢å°†æ— æ³•æ­£å¸¸è®¿é—®&lt;/p&gt;\n&lt;p&gt;** code æ˜¯å¾®ä¿¡è‡ªåŠ¨ç”Ÿæˆçš„ã€‚å¹¶ä¸”æ”¾åœ¨redirect_uriï¼ˆé‡å®šå‘åçš„å›è°ƒé“¾æ¥åœ°å€ï¼‰åé¢,å¹¶ä¸”å¸¦ä¸Šcodeå’Œstateå‚æ•°&lt;/p&gt;\n&lt;p&gt;ä¸Šé¢æåˆ°äº† codeã€‚é‚£ä¹ˆ codeåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;br&gt;\ncode:ä½œä¸ºæ¢å– access_tokençš„ç¥¨æ®ï¼Œæ¯æ¬¡ç”¨æˆ·æˆæƒå¸¦ä¸Šçš„ code éƒ½ä¸ä¸€æ ·ã€‚5åˆ†é’Ÿæœªè¢«ä½¿ç”¨è‡ªåŠ¨è¿‡æœŸï¼ˆè¿‡æœŸçš„è¿™é‡Œä¸‹é¢æœ‰è®²ï¼‰&lt;/p&gt;\n&lt;h3 id=\&#34;äºŒç„¶åæˆæƒæˆåŠŸä¹‹å-å¾—åˆ°-code-å°±ç”¨-code-å»è·å–access_token\&#34;&gt;äºŒï¼šç„¶åæˆæƒæˆåŠŸä¹‹åã€‚å¾—åˆ° codeã€‚å°±ç”¨ code å»è·å–access_token&lt;/h3&gt;\n&lt;p&gt;https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx41cb8dbd827a16e9&amp;amp;secret=d4624c36b6795d1d99dcf0547af5443d&amp;amp;code=00137323023ab55775be09d6d8e75ffA&amp;amp;grant_type=authorization_code&lt;br&gt;\nå‚æ•°è¯´æ˜ï¼š&lt;br&gt;\nappidï¼šåº”ç”¨å”¯ä¸€æ ‡è¯†&lt;br&gt;\ncodeï¼šä¸Šä¸€æ­¥å·²ç»è·å–åˆ°äº†&lt;br&gt;\nsecretï¼šåº”ç”¨å¯†é’¥AppSecretï¼Œåœ¨å¾®ä¿¡å¼€æ”¾å¹³å°æäº¤åº”ç”¨å®¡æ ¸é€šè¿‡åè·å¾—&lt;/p&gt;\n&lt;p&gt;æ­£ç¡®çš„è¿”å›&lt;br&gt;\n&amp;quot;access_token&amp;quot;:&amp;quot;ACCESS_TOKEN&amp;quot;, // æ¥å£è°ƒç”¨å‡­è¯ &amp;quot;expires_in&amp;quot;:7200, // access_tokenæ¥å£è°ƒç”¨å‡­è¯è¶…æ—¶æ—¶é—´ &amp;quot;refresh_token&amp;quot;:&amp;quot;REFRESH_TOKEN&amp;quot;, // ç”¨æˆ·åˆ·æ–°access_token &amp;quot;openid&amp;quot;:&amp;quot;OPENID&amp;quot;, // æˆæƒç”¨æˆ·å”¯ä¸€æ ‡è¯† &amp;quot;scope&amp;quot;:&amp;quot;SCOPE&amp;quot;, // ä½œç”¨åŸŸ ç­‰&lt;/p&gt;\n&lt;h3 id=\&#34;ä¸‰é€šè¿‡access_token-openidè·å–ç”¨æˆ·ä¿¡æ¯\&#34;&gt;ä¸‰ï¼šé€šè¿‡access_tokenã€openidè·å–ç”¨æˆ·ä¿¡æ¯&lt;/h3&gt;\n&lt;p&gt;https://api.weixin.qq.com/sns/userinfo?access_token=ACCESS_TOKEN&amp;amp;openid=OPENID&lt;br&gt;\nå°±ä¼šå¾—åˆ°ç”¨æˆ·çš„ä¿¡æ¯ï¼š&lt;br&gt;\nå¾—åˆ°å‚æ•°ï¼š&lt;br&gt;\nopenidï¼šç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†&lt;br&gt;\nnicknameï¼šç”¨æˆ·æ˜µç§°&lt;br&gt;\nsexï¼š ç”·å¥³&lt;br&gt;\nç­‰ã€‚ã€‚ã€‚&lt;br&gt;\nç‰¹åˆ«æ³¨æ„ï¼š&lt;br&gt;\n1ã€Appsecret æ˜¯åº”ç”¨æ¥å£ä½¿ç”¨å¯†é’¥ï¼Œæ³„æ¼åå°†å¯èƒ½å¯¼è‡´åº”ç”¨æ•°æ®æ³„æ¼ã€åº”ç”¨çš„ç”¨æˆ·æ•°æ®æ³„æ¼ç­‰é«˜é£é™©åæœï¼›å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œææœ‰å¯èƒ½è¢«æ¶æ„çªƒå–ï¼ˆå¦‚åç¼–è¯‘è·å–Appsecretï¼‰ï¼› 2ã€access_token ä¸ºç”¨æˆ·æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨å‘èµ·æ¥å£è°ƒç”¨çš„å‡­è¯ï¼ˆç›¸å½“äºç”¨æˆ·ç™»å½•æ€ï¼‰ï¼Œå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¯èƒ½å‡ºç°æ¶æ„è·å–access_token åå¯¼è‡´çš„ç”¨æˆ·æ•°æ®æ³„æ¼ã€ç”¨æˆ·å¾®ä¿¡ç›¸å…³æ¥å£åŠŸèƒ½è¢«æ¶æ„å‘èµ·ç­‰è¡Œä¸ºï¼› 3ã€refresh_token ä¸ºç”¨æˆ·æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨çš„é•¿æ•ˆå‡­è¯ï¼Œä»…ç”¨äºåˆ·æ–°access_tokenï¼Œä½†æ³„æ¼åç›¸å½“äºaccess_token æ³„æ¼ï¼Œé£é™©åŒä¸Šã€‚ å»ºè®®å°†secretã€ç”¨æˆ·æ•°æ®ï¼ˆå¦‚access_tokenï¼‰æ”¾åœ¨Appäº‘ç«¯æœåŠ¡å™¨ï¼Œç”±äº‘ç«¯ä¸­è½¬æ¥å£è°ƒç”¨è¯·æ±‚ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;æœ€åæ€»ç»“ä¸‹è¯¦ç»†çš„æ­¥éª¤\&#34;&gt;æœ€åæ€»ç»“ä¸‹è¯¦ç»†çš„æ­¥éª¤ï¼š&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;1ï¼ç”¨æˆ·å…³æ³¨å¾®ä¿¡å…¬ä¼—è´¦å·ã€‚&lt;/li&gt;\n&lt;li&gt;2ï¼å¾®ä¿¡å…¬ä¼—è´¦å·æä¾›ç”¨æˆ·è¯·æ±‚æˆæƒé¡µé¢URLã€‚&lt;/li&gt;\n&lt;li&gt;3ï¼ç”¨æˆ·ç‚¹å‡»æˆæƒé¡µé¢URLï¼Œå°†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚&lt;/li&gt;\n&lt;li&gt;4ï¼æœåŠ¡å™¨è¯¢é—®ç”¨æˆ·æ˜¯å¦åŒæ„æˆæƒç»™å¾®ä¿¡å…¬ä¼—è´¦å·(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;\n&lt;li&gt;5ï¼ç”¨æˆ·åŒæ„(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;\n&lt;li&gt;6ï¼æœåŠ¡å™¨å°†CODEé€šè¿‡å›è°ƒä¼ ç»™å¾®ä¿¡å…¬ä¼—è´¦å·&lt;/li&gt;\n&lt;li&gt;7ï¼å¾®ä¿¡å…¬ä¼—è´¦å·è·å¾—CODE&lt;/li&gt;\n&lt;li&gt;8ï¼å¾®ä¿¡å…¬ä¼—è´¦å·é€šè¿‡CODEå‘æœåŠ¡å™¨è¯·æ±‚Access Token&lt;/li&gt;\n&lt;li&gt;9ï¼æœåŠ¡å™¨è¿”å›Access Tokenå’ŒOpenIDç»™å¾®ä¿¡å…¬ä¼—è´¦å·&lt;/li&gt;\n&lt;li&gt;10ï¼å¾®ä¿¡å…¬ä¼—è´¦å·é€šè¿‡Access Tokenå‘æœåŠ¡å™¨è¯·æ±‚ç”¨æˆ·ä¿¡æ¯(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;\n&lt;li&gt;11ï¼æœåŠ¡å™¨å°†ç”¨æˆ·ä¿¡æ¯å›é€ç»™å¾®ä¿¡å…¬ä¼—è´¦å·(scopeä¸ºsnsapi_baseæ—¶æ— æ­¤æ­¥éª¤)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;å…¬ä¼—å·é“¾æ¥(å®˜ç½‘æ›´æƒå¨)ï¼š&lt;br&gt;\nhttps://developers.weixin.qq.com/doc/oplatform/Website_App/WeChat_Login/Wechat_Login.html&lt;/p&gt;\n&lt;p&gt;https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;wei-xin-gong-zhong-hao-huo-qu-openid-deng-yi-xi-lie-liu-cheng&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å¾®ä¿¡å…¬ä¼—å·è·å–openidç­‰ä¸€ç³»åˆ—æµç¨‹&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å¾®ä¿¡å…¬ä¼—å·å¼€å‘&#34;,&#34;slug&#34;:&#34;UY3g_0Q2F&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/UY3g_0Q2F&#34;}],&#34;date&#34;:&#34;2022-02-08 20:49:25&#34;,&#34;dateFormat&#34;:&#34;2022-02-08&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/wei-xin-gong-zhong-hao-huo-qu-openid-deng-yi-xi-lie-liu-cheng&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;5 min read&#34;,&#34;time&#34;:285000,&#34;words&#34;:1239,&#34;minutes&#34;:5},&#34;description&#34;:&#34;å…ˆè¯´ä¸‹ä¸ºä»€ä¹ˆè¦è·å– openid?\nå› ä¸ºç”¨æˆ·ç®¡ç†ç±»æ¥å£å¯ä»¥é€šè¿‡openidå¯ä»¥è·å–ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯çš„.\nè¯´åˆ° openid å¿…é¡»å…ˆè¯´å¾®ä¿¡æˆæƒç™»å½•çš„è¿‡ç¨‹\n\n\n\nå‰ç«¯éœ€è¦åœ¨è¿›å…¥è·¯ç”±çš„æ˜¯beaforEachçš„æ—¶å€™ï¼Œå…ˆå»åˆ¤æ–­é“¾æ¥ä¸Šæœ‰æ²¡æœ‰ openid...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%88%E8%AF%B4%E4%B8%8B%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%8E%B7%E5%8F%96-openid\&#34;&gt;å…ˆè¯´ä¸‹ä¸ºä»€ä¹ˆè¦è·å– openid?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%AF%B4%E5%88%B0-openid-%E5%BF%85%E9%A1%BB%E5%85%88%E8%AF%B4%E5%BE%AE%E4%BF%A1%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95%E7%9A%84%E8%BF%87%E7%A8%8B\&#34;&gt;è¯´åˆ° openid å¿…é¡»å…ˆè¯´å¾®ä¿¡æˆæƒç™»å½•çš„è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%8B%E9%9D%A2%E6%9D%A5%E5%85%B7%E4%BD%93api%E8%A1%A8%E7%A4%BA%E4%B8%8B%E6%80%8E%E4%B9%88%E8%8E%B7%E5%8F%96%E7%9A%84-code-%E5%92%8C-openid-%E5%90%A7\&#34;&gt;ä¸‹é¢æ¥å…·ä½“apiè¡¨ç¤ºä¸‹æ€ä¹ˆè·å–çš„ code å’Œ openid å§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E8%8E%B7%E5%8F%96code\&#34;&gt;ä¸€ï¼šè·å–code:&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C%E7%84%B6%E5%90%8E%E6%8E%88%E6%9D%83%E6%88%90%E5%8A%9F%E4%B9%8B%E5%90%8E-%E5%BE%97%E5%88%B0-code-%E5%B0%B1%E7%94%A8-code-%E5%8E%BB%E8%8E%B7%E5%8F%96access_token\&#34;&gt;äºŒï¼šç„¶åæˆæƒæˆåŠŸä¹‹åã€‚å¾—åˆ° codeã€‚å°±ç”¨ code å»è·å–access_token&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%89%E9%80%9A%E8%BF%87access_token-openid%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF\&#34;&gt;ä¸‰ï¼šé€šè¿‡access_tokenã€openidè·å–ç”¨æˆ·ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9C%80%E5%90%8E%E6%80%BB%E7%BB%93%E4%B8%8B%E8%AF%A6%E7%BB%86%E7%9A%84%E6%AD%A5%E9%AA%A4\&#34;&gt;æœ€åæ€»ç»“ä¸‹è¯¦ç»†çš„æ­¥éª¤ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;è‡ªå®šä¹‰hooks\&#34;&gt;è‡ªå®šä¹‰hooks&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() =&amp;gt; {\n    ref.current = value;\n  });\n  return ref.current;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä½¿ç”¨\&#34;&gt;ä½¿ç”¨&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const Component = (props) =&amp;gt; {\n    const {valueA, valueB} = props\n    \n    const prevValue = usePrevious({valueA, valueB});\n    useEffect(() =&amp;gt; {\n        if(prevValue.valueA !== valueA) {\n           ...\n       }\n        if(prevValue.valueB !== valueB) {\n           ...\n        }\n    }, [valueA, valueB])\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;ru-he-bi-jiao-react-hooks-shang-de-jiu-zhi-he-xin-zhi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å¦‚ä½•æ¯”è¾ƒ React Hooks ä¸Šçš„æ—§å€¼å’Œæ–°å€¼ï¼Ÿ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;react&#34;,&#34;slug&#34;:&#34;N_eTPldB8&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/N_eTPldB8&#34;}],&#34;date&#34;:&#34;2022-01-27 20:24:38&#34;,&#34;dateFormat&#34;:&#34;2022-01-27&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/ru-he-bi-jiao-react-hooks-shang-de-jiu-zhi-he-xin-zhi&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:16000,&#34;words&#34;:45,&#34;minutes&#34;:1},&#34;description&#34;:&#34;è‡ªå®šä¹‰hooks\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() =&amp;gt; {\n    ref.current = value;\n  });\n  r...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%87%AA%E5%AE%9A%E4%B9%89hooks\&#34;&gt;è‡ªå®šä¹‰hooks&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8\&#34;&gt;ä½¿ç”¨&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;åŒºåˆ«æ¦‚è§ˆ\&#34;&gt;åŒºåˆ«æ¦‚è§ˆ&lt;/h3&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;-&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;useCallBack&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;useMemo&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;è¿”å›å€¼&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ä¸€ä¸ªç¼“å­˜çš„å›è°ƒå‡½æ•°&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ä¸€ä¸ªç¼“å­˜çš„å€¼&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;å‚æ•°&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;éœ€è¦ç¼“å­˜çš„å‡½æ•°ï¼Œä¾èµ–é¡¹&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;éœ€è¦ç¼“å­˜çš„å€¼(ä¹Ÿå¯ä»¥æ˜¯ä¸ªè®¡ç®—ç„¶åå†è¿”å›å€¼çš„å‡½æ•°) ï¼Œä¾èµ–é¡¹&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;çˆ¶ç»„ä»¶æ›´æ–°æ—¶ï¼Œé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶çš„å‡½æ•°ä¹Ÿä¼šé‡æ–°åˆ›å»ºï¼Œç„¶åè¿™ä¸ªæ—¶å€™ä½¿ç”¨ useCallBack å°±å¯ä»¥ç¼“å­˜å‡½æ•°ä¸ä½¿å®ƒé‡æ–°åˆ›å»º&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;ç»„ä»¶æ›´æ–°æ—¶ï¼Œä¸€äº›è®¡ç®—é‡å¾ˆå¤§çš„å€¼ä¹Ÿæœ‰å¯èƒ½è¢«é‡æ–°è®¡ç®—ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ useMemo ç›´æ¥ä½¿ç”¨ä¸Šä¸€æ¬¡ç¼“å­˜çš„å€¼&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;h3 id=\&#34;usecallback-å…·ä½“ç¤ºä¾‹\&#34;&gt;useCallBack å…·ä½“ç¤ºä¾‹&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://codesandbox.io/s/usecallback-1w9f1?file=/src/App.jsx\&#34;&gt;codesanboxåœ¨çº¿ç¤ºä¾‹&lt;/a&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;import React, { useCallback, useEffect, useState } from &amp;quot;react&amp;quot;;\nimport &amp;quot;./styles.css&amp;quot;;\n\nexport default function App() {\n  const [count, setCount] = useState(0);\n\n  // ä½¿ç”¨ useCallBack ç¼“å­˜\n  const handleCountAddByCallBack = useCallback(() =&amp;gt; {\n    setCount((count) =&amp;gt; count + 1);\n  }, []);\n\n  // ä¸ç¼“å­˜ï¼Œæ¯æ¬¡ count æ›´æ–°æ—¶éƒ½ä¼šé‡æ–°åˆ›å»º\n  const handleCountAdd = () =&amp;gt; {\n    setCount((count) =&amp;gt; count + 1);\n  };\n\n  return (\n    &amp;lt;div className=&amp;quot;App&amp;quot;&amp;gt;\n      &amp;lt;h3&amp;gt;CountAddByChild1: {count}&amp;lt;/h3&amp;gt;\n      &amp;lt;Child1 addByCallBack={handleCountAddByCallBack} add={handleCountAdd} /&amp;gt;\n    &amp;lt;/div&amp;gt;\n  );\n}\n\nconst Child1 = React.memo(function (props) {\n  const { add, addByCallBack } = props;\n  \n  // æ²¡æœ‰ç¼“å­˜ï¼Œç”±äºæ¯æ¬¡éƒ½åˆ›å»ºï¼Œmemo è®¤ä¸ºä¸¤æ¬¡åœ°å€éƒ½ä¸åŒï¼Œå±äºä¸åŒçš„å‡½æ•°ï¼Œæ‰€ä»¥ä¼šè§¦å‘ useEffect\n  useEffect(() =&amp;gt; {\n    console.log(&amp;quot;Child1----addFcUpdate&amp;quot;, props);\n  }, [add]);\n\n  // æœ‰ç¼“å­˜ï¼Œmemo åˆ¤å®šä¸¤æ¬¡åœ°å€éƒ½ç›¸åŒï¼Œæ‰€ä»¥ä¸è§¦å‘ useEffect\n  useEffect(() =&amp;gt; {\n    console.log(&amp;quot;Child1----addByCallBackFcUpdate&amp;quot;, props);\n  }, [addByCallBack]);\n\n  return (\n    &amp;lt;div&amp;gt;\n      &amp;lt;button onClick={props.add}&amp;gt;+1&amp;lt;/button&amp;gt;\n      &amp;lt;br /&amp;gt;\n      &amp;lt;button onClick={props.addByCallBack}&amp;gt;+1(addByCallBack)&amp;lt;/button&amp;gt;\n    &amp;lt;/div&amp;gt;\n  );\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;usememo-ç¤ºä¾‹\&#34;&gt;useMemo ç¤ºä¾‹&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://codesandbox.io/s/usememo-p9t7e?file=/src/App.jsx\&#34;&gt;codesandbox åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;import { useState, useMemo } from &amp;quot;react&amp;quot;;\nimport &amp;quot;./styles.css&amp;quot;;\n\nexport default function App() {\n  const [count, setCount] = useState(0);\n  const [total, setTotal] = useState(0);\n\n  // æ²¡æœ‰ä½¿ç”¨ useMemoï¼Œå³ä½¿æ˜¯æ›´æ–° total, countToString ä¹Ÿä¼šé‡æ–°è®¡ç®—\n  const countToString = (() =&amp;gt; {\n    console.log(&amp;quot;countToString è¢«è°ƒç”¨&amp;quot;);\n    return count.toString();\n  })();\n\n  // ä½¿ç”¨äº† useMemo, åªæœ‰ total æ”¹å˜ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—\n  const totalToStringByMemo = useMemo(() =&amp;gt; {\n    console.log(&amp;quot;totalToStringByMemo è¢«è°ƒç”¨&amp;quot;);\n    return total + &amp;quot;&amp;quot;;\n  }, [total]);\n\n  return (\n    &amp;lt;div className=&amp;quot;App&amp;quot;&amp;gt;\n      &amp;lt;h3&amp;gt;countToString: {countToString}&amp;lt;/h3&amp;gt;\n      &amp;lt;h3&amp;gt;countToString: {totalToStringByMemo}&amp;lt;/h3&amp;gt;\n      &amp;lt;button\n        onClick={() =&amp;gt; {\n          setCount((count) =&amp;gt; count + 1);\n        }}\n      &amp;gt;\n        Add Count\n      &amp;lt;/button&amp;gt;\n      &amp;lt;br /&amp;gt;\n      &amp;lt;button\n        onClick={() =&amp;gt; {\n          setTotal((total) =&amp;gt; total + 1);\n        }}\n      &amp;gt;\n        Add Total\n      &amp;lt;/button&amp;gt;\n    &amp;lt;/div&amp;gt;\n  );\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å°ç»“\&#34;&gt;å°ç»“&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;å…±åŒä½œç”¨ï¼šä»…ä»… ä¾èµ–æ•°æ® å‘ç”Ÿå˜åŒ–, æ‰ä¼šé‡æ–°è®¡ç®—ç»“æœï¼Œä¹Ÿå°±æ˜¯èµ·åˆ°ç¼“å­˜çš„ä½œç”¨&lt;/li&gt;\n&lt;li&gt;åŒºåˆ«\n&lt;ul&gt;\n&lt;li&gt;useCallBack é’ˆå¯¹å¯èƒ½é‡æ–°åˆ›å»ºçš„å‡½æ•°è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å¾—å‡½æ•°è¢«ç¼“å­˜ï¼ŒReact.memo è®¤å®šä¸¤æ¬¡åœ°å€æ˜¯ç›¸åŒå°±å¯ä»¥é¿å…å­ç»„ä»¶å†—ä½™çš„æ›´æ–°ã€‚&lt;/li&gt;\n&lt;li&gt;useMemo é’ˆå¯¹ä¸å¿…è¦çš„è®¡ç®—è¿›è¡Œä¼˜åŒ–ï¼Œé¿å…äº†å½“å‰ç»„ä»¶ä¸­ä¸€äº›çš„å†—ä½™è®¡ç®—æ“ä½œã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;è½¬è½½è‡ªï¼šhttps://www.jianshu.com/p/b8d27018ed22&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;usecallback-he-usememo-de-qu-bie&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;useCallback å’Œ useMemo çš„åŒºåˆ«&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;react&#34;,&#34;slug&#34;:&#34;N_eTPldB8&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/N_eTPldB8&#34;}],&#34;date&#34;:&#34;2022-01-11 11:32:58&#34;,&#34;dateFormat&#34;:&#34;2022-01-11&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/usecallback-he-usememo-de-qu-bie&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:176000,&#34;words&#34;:646,&#34;minutes&#34;:3},&#34;description&#34;:&#34;åŒºåˆ«æ¦‚è§ˆ\n\n\n\n-\nuseCallBack\nuseMemo\n\n\n\n\nè¿”å›å€¼\nä¸€ä¸ªç¼“å­˜çš„å›è°ƒå‡½æ•°\nä¸€ä¸ªç¼“å­˜çš„å€¼\n\n\nå‚æ•°\néœ€è¦ç¼“å­˜çš„å‡½æ•°ï¼Œä¾èµ–é¡¹\néœ€è¦ç¼“å­˜çš„å€¼(ä¹Ÿå¯ä»¥æ˜¯ä¸ªè®¡ç®—ç„¶åå†è¿”å›å€¼çš„å‡½æ•°) ï¼Œä¾èµ–é¡¹\n\n\nä½¿ç”¨åœºæ™¯\nçˆ¶ç»„ä»¶æ›´æ–°æ—¶ï¼Œé€šè¿‡pr...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8C%BA%E5%88%AB%E6%A6%82%E8%A7%88\&#34;&gt;åŒºåˆ«æ¦‚è§ˆ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#usecallback-%E5%85%B7%E4%BD%93%E7%A4%BA%E4%BE%8B\&#34;&gt;useCallBack å…·ä½“ç¤ºä¾‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#usememo-%E7%A4%BA%E4%BE%8B\&#34;&gt;useMemo ç¤ºä¾‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%BB%93\&#34;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å¯¹è±¡ç±»å‹\&#34;&gt;å¯¹è±¡ç±»å‹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;import React, { useState } from &#39;react&#39;;\n\nconst Index = ()=&amp;gt; {\n  const [obj, setObj] = useState({name:&amp;quot;zhangsan&amp;quot;});\n\n  return (\n    &amp;lt;&amp;gt;\n      &amp;lt;h2&amp;gt;{obj.name}---{obj.age}&amp;lt;/h2&amp;gt;\t  \n      &amp;lt;button onClick={()=&amp;gt; (\n\t\tsetObj({\n\t\t  ...obj,\n\t\t  age:18\n\t\t})\n\t  )}&amp;gt;change-obj&amp;lt;/button&amp;gt;\n    &amp;lt;/&amp;gt;\n  );\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ•°ç»„ç±»å‹\&#34;&gt;æ•°ç»„ç±»å‹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;import React, { useState } from &#39;react&#39;;\n\nconst Index = ()=&amp;gt; {\n  const [arr, setArr] = useState([1,2,3]);\n\n  return (\n    &amp;lt;&amp;gt;\n\n      &amp;lt;h2&amp;gt;{arr}&amp;lt;/h2&amp;gt;\n      &amp;lt;button onClick={()=&amp;gt;(setArr(\n\t\tsetarr(()=&amp;gt; {\n\t\t  arr.push(4);\n\t\t  return [...arr]\n\t\t})&amp;gt;change-arr&amp;lt;/button&amp;gt;\n\n    &amp;lt;/&amp;gt;\n  );\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;shi-yong-react-hooks-geng-xin-dui-xiang-huo-shu-zu-de-zhi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ä½¿ç”¨React Hooksæ›´æ–°å¯¹è±¡æˆ–æ•°ç»„çš„å€¼&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;react&#34;,&#34;slug&#34;:&#34;N_eTPldB8&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/N_eTPldB8&#34;}],&#34;date&#34;:&#34;2022-01-07 21:58:55&#34;,&#34;dateFormat&#34;:&#34;2022-01-07&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/shi-yong-react-hooks-geng-xin-dui-xiang-huo-shu-zu-de-zhi&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:35000,&#34;words&#34;:98,&#34;minutes&#34;:1},&#34;description&#34;:&#34;å¯¹è±¡ç±»å‹\nimport React, { useState } from &#39;react&#39;;\n\nconst Index = ()=&amp;gt; {\n  const [obj, setObj] = useState({name:&amp;quot;zhan...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B\&#34;&gt;å¯¹è±¡ç±»å‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B\&#34;&gt;æ•°ç»„ç±»å‹&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;blockquote&gt;\n&lt;p&gt;&lt;em&gt;ç”¨æ›´åˆç†çš„æ–¹å¼å†™ CSS å’Œ Sass&lt;/em&gt; ç¿»è¯‘è‡ª&lt;a href=\&#34;https://github.com/airbnb/css\&#34;&gt;Airbnb CSS / Sass Styleguide&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;æœ¯è¯­\&#34;&gt;æœ¯è¯­&lt;/h3&gt;\n&lt;h4 id=\&#34;è§„åˆ™å£°æ˜\&#34;&gt;è§„åˆ™å£°æ˜&lt;/h4&gt;\n&lt;p&gt;æˆ‘ä»¬æŠŠä¸€ä¸ªï¼ˆæˆ–ä¸€ç»„ï¼‰é€‰æ‹©å™¨å’Œä¸€ç»„å±æ€§ç§°ä¹‹ä¸º â€œè§„åˆ™å£°æ˜â€ã€‚ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;.listing {\n  font-size: 18px;\n  line-height: 1.2;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;é€‰æ‹©å™¨\&#34;&gt;é€‰æ‹©å™¨&lt;/h4&gt;\n&lt;p&gt;åœ¨è§„åˆ™å£°æ˜ä¸­ï¼Œâ€œé€‰æ‹©å™¨â€ è´Ÿè´£é€‰å– DOM æ ‘ä¸­çš„å…ƒç´ ï¼Œè¿™äº›å…ƒç´ å°†è¢«å®šä¹‰çš„å±æ€§æ‰€ä¿®é¥°ã€‚é€‰æ‹©å™¨å¯ä»¥åŒ¹é… HTML å…ƒç´ ï¼Œä¹Ÿå¯ä»¥åŒ¹é…ä¸€ä¸ªå…ƒç´ çš„ç±»åã€ID, æˆ–è€…å…ƒç´ æ‹¥æœ‰çš„å±æ€§ã€‚ä»¥ä¸‹æ˜¯é€‰æ‹©å™¨çš„ä¾‹å­ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;.my-element-class {\n  /* ... */\n}\n\n[aria-hidden] {\n  /* ... */\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;å±æ€§\&#34;&gt;å±æ€§&lt;/h4&gt;\n&lt;p&gt;æœ€åï¼Œå±æ€§å†³å®šäº†è§„åˆ™å£°æ˜é‡Œè¢«é€‰æ‹©çš„å…ƒç´ å°†å¾—åˆ°ä½•ç§æ ·å¼ã€‚å±æ€§ä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨ï¼Œä¸€ä¸ªè§„åˆ™å£°æ˜å¯ä»¥åŒ…å«ä¸€æˆ–å¤šä¸ªå±æ€§å®šä¹‰ã€‚ä»¥ä¸‹æ˜¯å±æ€§å®šä¹‰çš„ä¾‹å­ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;/* some selector */ {\n  background: #f1f1f1;\n  color: #333;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;cssæ ¼å¼\&#34;&gt;CSSæ ¼å¼&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ä½œä¸ºç¼©è¿›ã€‚&lt;/li&gt;\n&lt;li&gt;ç±»åå»ºè®®ä½¿ç”¨ç ´æŠ˜å·ä»£æ›¿é©¼å³°æ³•ã€‚å¦‚æœä½ ä½¿ç”¨ BEMï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆå‚è§ä¸‹é¢çš„ &lt;a href=\&#34;#oocss-and-bem\&#34;&gt;OOCSS å’Œ BEM&lt;/a&gt;ï¼‰ã€‚&lt;/li&gt;\n&lt;li&gt;ä¸è¦ä½¿ç”¨ ID é€‰æ‹©å™¨ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨ä¸€ä¸ªè§„åˆ™å£°æ˜ä¸­åº”ç”¨äº†å¤šä¸ªé€‰æ‹©å™¨æ—¶ï¼Œæ¯ä¸ªé€‰æ‹©å™¨ç‹¬å ä¸€è¡Œã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨è§„åˆ™å£°æ˜çš„å·¦å¤§æ‹¬å· { å‰åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨å±æ€§çš„å†’å· : åé¢åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ï¼Œå‰é¢ä¸åŠ ç©ºæ ¼ã€‚&lt;/li&gt;\n&lt;li&gt;è§„åˆ™å£°æ˜çš„å³å¤§æ‹¬å· } ç‹¬å ä¸€è¡Œã€‚&lt;/li&gt;\n&lt;li&gt;è§„åˆ™å£°æ˜ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”å¼€ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;bad\&#34;&gt;Bad&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;.avatar{\n    border-radius:50%;\n    border:2px solid white; }\n.no, .nope, .not_good {\n    // ...\n}\n#lol-no {\n  // ...\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;good\&#34;&gt;Good&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;.avatar {\n  border-radius: 50%;\n  border: 2px solid white;\n}\n\n.one,\n.selector,\n.per-line {\n  // ...\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ³¨é‡Š\&#34;&gt;æ³¨é‡Š&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;å»ºè®®ä½¿ç”¨è¡Œæ³¨é‡Š (åœ¨ Sass ä¸­æ˜¯ //) ä»£æ›¿å—æ³¨é‡Šã€‚&lt;/li&gt;\n&lt;li&gt;å»ºè®®æ³¨é‡Šç‹¬å ä¸€è¡Œã€‚é¿å…è¡Œæœ«æ³¨é‡Šã€‚&lt;/li&gt;\n&lt;li&gt;ç»™æ²¡æœ‰è‡ªæ³¨é‡Šçš„ä»£ç å†™ä¸Šè¯¦ç»†è¯´æ˜ï¼Œæ¯”å¦‚ï¼š&lt;br&gt;\nä¸ºä»€ä¹ˆç”¨åˆ°äº† z-index&lt;br&gt;\nå…¼å®¹æ€§å¤„ç†æˆ–è€…é’ˆå¯¹ç‰¹å®šæµè§ˆå™¨çš„ hack&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;id-é€‰æ‹©å™¨\&#34;&gt;ID é€‰æ‹©å™¨&lt;/h3&gt;\n&lt;p&gt;åœ¨ CSS ä¸­ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ ID é€‰æ‹©å…ƒç´ ï¼Œä½†å¤§å®¶é€šå¸¸éƒ½ä¼šæŠŠè¿™ç§æ–¹å¼åˆ—ä¸ºåé¢æ•™æã€‚ID é€‰æ‹©å™¨ç»™ä½ çš„è§„åˆ™å£°æ˜å¸¦æ¥äº†ä¸å¿…è¦çš„é«˜ä¼˜å…ˆçº§ï¼Œè€Œä¸” ID é€‰æ‹©å™¨æ˜¯ä¸å¯é‡ç”¨çš„ã€‚&lt;/p&gt;\n&lt;p&gt;æƒ³è¦äº†è§£å…³äºè¿™ä¸ªä¸»é¢˜çš„æ›´å¤šå†…å®¹ï¼Œå‚è§ &lt;a href=\&#34;https://csswizardry.com/2014/07/hacks-for-dealing-with-specificity/\&#34;&gt;CSS Wizardry&lt;/a&gt; çš„æ–‡ç« ï¼Œæ–‡ç« ä¸­æœ‰å…³äºå¦‚ä½•å¤„ç†ä¼˜å…ˆçº§çš„å†…å®¹ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;javascript-é’©å­\&#34;&gt;JavaScript é’©å­&lt;/h3&gt;\n&lt;p&gt;é¿å…åœ¨ CSS å’Œ JavaScript ä¸­ç»‘å®šç›¸åŒçš„ç±»ã€‚å¦åˆ™å¼€å‘è€…åœ¨é‡æ„æ—¶é€šå¸¸ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼šè½»åˆ™æµªè´¹æ—¶é—´åœ¨å¯¹ç…§æŸ¥æ‰¾æ¯ä¸ªè¦æ”¹å˜çš„ç±»ï¼Œé‡åˆ™å› ä¸ºå®³æ€•ç ´ååŠŸèƒ½è€Œä¸æ•¢ä½œå‡ºæ›´æ”¹ã€‚&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬æ¨èåœ¨åˆ›å»ºç”¨äºç‰¹å®š JavaScript çš„ç±»åæ—¶ï¼Œæ·»åŠ  .js- å‰ç¼€ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;button class=&amp;quot;btn btn-primary js-request-to-book&amp;quot;&amp;gt;Request to Book&amp;lt;/button&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;è¾¹æ¡†\&#34;&gt;è¾¹æ¡†&lt;/h3&gt;\n&lt;p&gt;åœ¨å®šä¹‰æ— è¾¹æ¡†æ ·å¼æ—¶ï¼Œä½¿ç”¨ 0 ä»£æ›¿ noneã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;bad-2\&#34;&gt;Bad&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;.foo {\n  border: none;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;good-2\&#34;&gt;Good&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;.foo {\n  border: 0;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;sass\&#34;&gt;Sass&lt;/h3&gt;\n&lt;p&gt;è¯­æ³•&lt;br&gt;\nä½¿ç”¨ .scss çš„è¯­æ³•ï¼Œä¸ä½¿ç”¨ .sass åŸæœ¬çš„è¯­æ³•ã€‚&lt;br&gt;\nCSS å’Œ @include å£°æ˜æŒ‰ç…§ä»¥ä¸‹é€»è¾‘æ’åºï¼ˆå‚è§ä¸‹æ–‡ï¼‰&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;a name=&amp;quot;ordering-of-property-declarations&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å±æ€§å£°æ˜çš„æ’åº\&#34;&gt;å±æ€§å£°æ˜çš„æ’åº&lt;/h3&gt;\n&lt;h4 id=\&#34;å±æ€§å£°æ˜\&#34;&gt;å±æ€§å£°æ˜&lt;/h4&gt;\n&lt;p&gt;é¦–å…ˆåˆ—å‡ºé™¤å» @include å’ŒåµŒå¥—é€‰æ‹©å™¨ä¹‹å¤–çš„æ‰€æœ‰å±æ€§å£°æ˜ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;.btn-green { background: green; font-weight: bold; // ... }&lt;/code&gt;&lt;/p&gt;\n&lt;h4 id=\&#34;include-å£°æ˜\&#34;&gt;@include å£°æ˜&lt;/h4&gt;\n&lt;p&gt;ç´§éšåé¢çš„æ˜¯ @includeï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—æ•´ä¸ªé€‰æ‹©å™¨çš„å¯è¯»æ€§æ›´é«˜ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;.btn-green { background: green; font-weight: bold; @include transition(background 0.5s ease); // ... }&lt;/code&gt;&lt;/p&gt;\n&lt;h4 id=\&#34;åµŒå¥—é€‰æ‹©å™¨\&#34;&gt;åµŒå¥—é€‰æ‹©å™¨&lt;/h4&gt;\n&lt;p&gt;_å¦‚æœæœ‰å¿…è¦_ç”¨åˆ°åµŒå¥—é€‰æ‹©å™¨ï¼ŒæŠŠå®ƒä»¬æ”¾åˆ°æœ€åï¼Œåœ¨è§„åˆ™å£°æ˜å’ŒåµŒå¥—é€‰æ‹©å™¨ä¹‹é—´è¦åŠ ä¸Šç©ºç™½ï¼Œç›¸é‚»åµŒå¥—é€‰æ‹©å™¨ä¹‹é—´ä¹Ÿè¦åŠ ä¸Šç©ºç™½ã€‚åµŒå¥—é€‰æ‹©å™¨ä¸­çš„å†…å®¹ä¹Ÿè¦éµå¾ªä¸Šè¿°æŒ‡å¼•ã€‚&lt;/p&gt;\n&lt;p&gt;` .btn { background: green; font-weight: bold; @include transition(background 0.5s ease);&lt;/p&gt;\n&lt;p&gt;.icon { margin-right: 10px; } } `&lt;/p&gt;\n&lt;h3 id=\&#34;å˜é‡\&#34;&gt;å˜é‡&lt;/h3&gt;\n&lt;p&gt;å˜é‡ååº”ä½¿ç”¨ç ´æŠ˜å·ï¼ˆä¾‹å¦‚ $my-variableï¼‰ä»£æ›¿ camelCased å’Œ snake_cased é£æ ¼ã€‚å¯¹äºä»…ç”¨åœ¨å½“å‰æ–‡ä»¶çš„å˜é‡ï¼Œå¯ä»¥åœ¨å˜é‡åä¹‹å‰æ·»åŠ ä¸‹åˆ’çº¿å‰ç¼€ï¼ˆä¾‹å¦‚ $_my-variableï¼‰ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;mixins\&#34;&gt;Mixins&lt;/h3&gt;\n&lt;p&gt;ä¸ºäº†è®©ä»£ç éµå¾ª DRY åŸåˆ™ï¼ˆDon&#39;t Repeat Yourselfï¼‰ã€å¢å¼ºæ¸…æ™°æ€§æˆ–æŠ½è±¡åŒ–å¤æ‚æ€§ï¼Œåº”è¯¥ä½¿ç”¨ mixinï¼Œè¿™ä¸é‚£äº›å‘½åè‰¯å¥½çš„å‡½æ•°çš„ä½œç”¨æ˜¯å¼‚æ›²åŒå·¥çš„ã€‚è™½ç„¶ mixin å¯ä»¥ä¸æ¥æ”¶å‚æ•°ï¼Œä½†è¦æ³¨æ„ï¼Œå‡å¦‚ä½ ä¸å‹ç¼©è´Ÿè½½ï¼ˆæ¯”å¦‚é€šè¿‡ gzipï¼‰ï¼Œè¿™æ ·ä¼šå¯¼è‡´æœ€ç»ˆçš„æ ·å¼åŒ…å«ä¸å¿…è¦çš„ä»£ç é‡å¤ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;æ‰©å±•æŒ‡ä»¤\&#34;&gt;æ‰©å±•æŒ‡ä»¤&lt;/h3&gt;\n&lt;p&gt;åº”é¿å…ä½¿ç”¨ @extend æŒ‡ä»¤ï¼Œå› ä¸ºå®ƒå¹¶ä¸ç›´è§‚ï¼Œè€Œä¸”å…·æœ‰æ½œåœ¨é£é™©ï¼Œç‰¹åˆ«æ˜¯ç”¨åœ¨åµŒå¥—é€‰æ‹©å™¨çš„æ—¶å€™ã€‚å³ä¾¿æ˜¯åœ¨é¡¶å±‚å ä½ç¬¦é€‰æ‹©å™¨ä½¿ç”¨æ‰©å±•ï¼Œå¦‚æœé€‰æ‹©å™¨çš„é¡ºåºæœ€ç»ˆä¼šæ”¹å˜ï¼Œä¹Ÿå¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœå®ƒä»¬å­˜åœ¨äºå…¶ä»–æ–‡ä»¶ï¼Œè€ŒåŠ è½½é¡ºåºå‘ç”Ÿäº†å˜åŒ–ï¼‰ã€‚å…¶å®ï¼Œä½¿ç”¨ @extend æ‰€è·å¾—çš„å¤§éƒ¨åˆ†ä¼˜åŒ–æ•ˆæœï¼Œgzip å‹ç¼©å·²ç»å¸®åŠ©ä½ åšåˆ°äº†ï¼Œå› æ­¤ä½ åªéœ€è¦é€šè¿‡ mixin è®©æ ·å¼è¡¨æ›´ç¬¦åˆ DRY åŸåˆ™å°±è¶³å¤Ÿäº†ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;åµŒå¥—é€‰æ‹©å™¨-2\&#34;&gt;åµŒå¥—é€‰æ‹©å™¨&lt;/h3&gt;\n&lt;p&gt;è¯·ä¸è¦è®©åµŒå¥—é€‰æ‹©å™¨çš„æ·±åº¦è¶…è¿‡ 3 å±‚ï¼&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-sass\&#34;&gt;.page-container {\n  .content {\n    .profile {\n      // STOP!\n    }\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å½“é‡åˆ°ä»¥ä¸Šæƒ…å†µçš„æ—¶å€™ï¼Œä½ ä¹Ÿè®¸æ˜¯è¿™æ ·å†™ CSS çš„ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¸ HTML å¼ºè€¦åˆçš„ï¼ˆä¹Ÿæ˜¯è„†å¼±çš„ï¼‰&lt;em&gt;â€”æˆ–è€…â€”&lt;/em&gt;&lt;/li&gt;\n&lt;li&gt;è¿‡äºå…·ä½“ï¼ˆå¼ºå¤§ï¼‰&lt;em&gt;â€”æˆ–è€…â€”&lt;/em&gt;&lt;/li&gt;\n&lt;li&gt;æ²¡æœ‰é‡ç”¨&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h5 id=\&#34;å†è¯´ä¸€é-æ°¸è¿œä¸è¦åµŒå¥—-id-é€‰æ‹©å™¨-æ°¸è¿œä¸è¦åµŒå¥—-id-é€‰æ‹©å™¨-æ°¸è¿œä¸è¦åµŒå¥—-id-é€‰æ‹©å™¨\&#34;&gt;å†è¯´ä¸€é: æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼ æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼ æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼&lt;/h5&gt;\n&lt;p&gt;å¦‚æœä½ å§‹ç»ˆåšæŒè¦ä½¿ç”¨ ID é€‰æ‹©å™¨ï¼ˆåŠä½ ä¸‰æ€ï¼‰ï¼Œé‚£ä¹Ÿä¸åº”è¯¥åµŒå¥—å®ƒä»¬ã€‚å¦‚æœä½ æ­£æ‰“ç®—è¿™ä¹ˆåšï¼Œä½ éœ€è¦å…ˆé‡æ–°æ£€æŸ¥ä½ çš„æ ‡ç­¾ï¼Œæˆ–è€…æŒ‡æ˜åŸå› ã€‚å¦‚æœä½ æƒ³è¦å†™å‡ºé£æ ¼è‰¯å¥½çš„ HTML å’Œ CSSï¼Œä½ æ˜¯ä¸åº”è¯¥è¿™æ ·åšçš„ã€‚&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;airbnb-css-sass-gui-fan-zhi-nan&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Airbnb CSS / Sass è§„èŒƒæŒ‡å—&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;ä»£ç è§„èŒƒ&#34;,&#34;slug&#34;:&#34;wSYaCu5wB&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/wSYaCu5wB&#34;}],&#34;date&#34;:&#34;2022-01-05 16:18:02&#34;,&#34;dateFormat&#34;:&#34;2022-01-05&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/airbnb-css-sass-gui-fan-zhi-nan&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;6 min read&#34;,&#34;time&#34;:315000,&#34;words&#34;:1402,&#34;minutes&#34;:6},&#34;description&#34;:&#34;\nç”¨æ›´åˆç†çš„æ–¹å¼å†™ CSS å’Œ Sass ç¿»è¯‘è‡ªAirbnb CSS / Sass Styleguide\n\næœ¯è¯­\nè§„åˆ™å£°æ˜\næˆ‘ä»¬æŠŠä¸€ä¸ªï¼ˆæˆ–ä¸€ç»„ï¼‰é€‰æ‹©å™¨å’Œä¸€ç»„å±æ€§ç§°ä¹‹ä¸º â€œè§„åˆ™å£°æ˜â€ã€‚ä¸¾ä¸ªä¾‹å­ï¼š\n.listing {\n  font-size:...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9C%AF%E8%AF%AD\&#34;&gt;æœ¯è¯­&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%A7%84%E5%88%99%E5%A3%B0%E6%98%8E\&#34;&gt;è§„åˆ™å£°æ˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%80%89%E6%8B%A9%E5%99%A8\&#34;&gt;é€‰æ‹©å™¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B1%9E%E6%80%A7\&#34;&gt;å±æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#css%E6%A0%BC%E5%BC%8F\&#34;&gt;CSSæ ¼å¼&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#bad\&#34;&gt;Bad&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#good\&#34;&gt;Good&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B3%A8%E9%87%8A\&#34;&gt;æ³¨é‡Š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#id-%E9%80%89%E6%8B%A9%E5%99%A8\&#34;&gt;ID é€‰æ‹©å™¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#javascript-%E9%92%A9%E5%AD%90\&#34;&gt;JavaScript é’©å­&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BE%B9%E6%A1%86\&#34;&gt;è¾¹æ¡†&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#bad-2\&#34;&gt;Bad&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#good-2\&#34;&gt;Good&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#sass\&#34;&gt;Sass&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B1%9E%E6%80%A7%E5%A3%B0%E6%98%8E%E7%9A%84%E6%8E%92%E5%BA%8F\&#34;&gt;å±æ€§å£°æ˜çš„æ’åº&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B1%9E%E6%80%A7%E5%A3%B0%E6%98%8E\&#34;&gt;å±æ€§å£°æ˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#include-%E5%A3%B0%E6%98%8E\&#34;&gt;@include å£°æ˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B5%8C%E5%A5%97%E9%80%89%E6%8B%A9%E5%99%A8\&#34;&gt;åµŒå¥—é€‰æ‹©å™¨&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%98%E9%87%8F\&#34;&gt;å˜é‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#mixins\&#34;&gt;Mixins&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%89%A9%E5%B1%95%E6%8C%87%E4%BB%A4\&#34;&gt;æ‰©å±•æŒ‡ä»¤&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B5%8C%E5%A5%97%E9%80%89%E6%8B%A9%E5%99%A8-2\&#34;&gt;åµŒå¥—é€‰æ‹©å™¨&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%86%8D%E8%AF%B4%E4%B8%80%E9%81%8D-%E6%B0%B8%E8%BF%9C%E4%B8%8D%E8%A6%81%E5%B5%8C%E5%A5%97-id-%E9%80%89%E6%8B%A9%E5%99%A8-%E6%B0%B8%E8%BF%9C%E4%B8%8D%E8%A6%81%E5%B5%8C%E5%A5%97-id-%E9%80%89%E6%8B%A9%E5%99%A8-%E6%B0%B8%E8%BF%9C%E4%B8%8D%E8%A6%81%E5%B5%8C%E5%A5%97-id-%E9%80%89%E6%8B%A9%E5%99%A8\&#34;&gt;å†è¯´ä¸€é: æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼ æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼ æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;ul&gt;\n&lt;li&gt;ç›®å½• å…¨å°å†™ä¸­åˆ’çº¿&lt;/li&gt;\n&lt;li&gt;æ–‡ä»¶ å…¨å°å†™ä¸­åˆ’çº¿&lt;/li&gt;\n&lt;li&gt;ç±»å å¤§é©¼å³°&lt;/li&gt;\n&lt;li&gt;å˜é‡ å°é©¼å³°&lt;/li&gt;\n&lt;li&gt;å¸¸é‡ å…¨å¤§å†™ ä¸‹åˆ’çº¿é£æ ¼&lt;/li&gt;\n&lt;li&gt;ç‰¹æ®Šå˜é‡&lt;/li&gt;\n&lt;li&gt;cssç±»å å°å†™ä¸­åˆ’çº¿&lt;/li&gt;\n&lt;li&gt;å•è¯æ‹¼éŸ³ä¸å…è®¸&lt;/li&gt;\n&lt;li&gt;å¤æ‚å‡½æ•°å’Œå…¬ç”¨å‡½æ•°å¿…é¡»åŠ æ³¨é‡Š&lt;/li&gt;\n&lt;li&gt;å‡½æ•°çš„å‚æ•°æœ€å¤šä¸èƒ½è¶…è¿‡ä¸‰ä¸ª&lt;/li&gt;\n&lt;li&gt;url å…¨å°å†™ ä¸­åˆ’çº¿&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;qian-duan-chang-yong-de-ming-ming-gui-fan&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å‰ç«¯å¸¸ç”¨çš„å‘½åè§„èŒƒ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å‘½åè§„èŒƒ&#34;,&#34;slug&#34;:&#34;fyCFn2Pdt&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/fyCFn2Pdt&#34;}],&#34;date&#34;:&#34;2021-12-20 19:20:48&#34;,&#34;dateFormat&#34;:&#34;2021-12-20&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/qian-duan-chang-yong-de-ming-ming-gui-fan&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:18000,&#34;words&#34;:89,&#34;minutes&#34;:1},&#34;description&#34;:&#34;\nç›®å½• å…¨å°å†™ä¸­åˆ’çº¿\næ–‡ä»¶ å…¨å°å†™ä¸­åˆ’çº¿\nç±»å å¤§é©¼å³°\nå˜é‡ å°é©¼å³°\nå¸¸é‡ å…¨å¤§å†™ ä¸‹åˆ’çº¿é£æ ¼\nç‰¹æ®Šå˜é‡\ncssç±»å å°å†™ä¸­åˆ’çº¿\nå•è¯æ‹¼éŸ³ä¸å…è®¸\nå¤æ‚å‡½æ•°å’Œå…¬ç”¨å‡½æ•°å¿…é¡»åŠ æ³¨é‡Š\nå‡½æ•°çš„å‚æ•°æœ€å¤šä¸èƒ½è¶…è¿‡ä¸‰ä¸ª\nurl å…¨å°å†™ ä¸­åˆ’çº¿\n\n...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;é‡åˆ°é—®é¢˜æ—¶çš„è§£å†³æ–¹æ³•åŠä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;\n&lt;p&gt;1ã€ä¸‹æ‹‰åˆ·æ–°ä¼šå¯¼è‡´ç€‘å¸ƒæµé¡ºåºé”™ä¹±ï¼Œé‡æ–°newä¸€ä¸‹ç€‘å¸ƒæµå³å¯ã€‚&lt;/p&gt;\n&lt;p&gt;2ã€å›¾ç‰‡å®½é«˜å¿…é¡»è¦è®©æœåŠ¡ç«¯è¿”ï¼Œå‰ç«¯å»è·å–æ•°æ®å¤ªå¤šä¼šå¯¼è‡´æ€§èƒ½éå¸¸æ…¢ã€‚&lt;/p&gt;\n&lt;p&gt;3ã€domåŠ è½½æ—¶è·å–å°ç¨‹åºçš„æŸä¸ªdomçš„å®½åº¦ï¼ˆåˆ—å®½ï¼‰ä¸ºç©ºï¼Œæ”¾åœ¨wx.nextTickä¸­å³å¯ã€‚è¿˜è·å–ä¸åˆ°ï¼Œå°±éœ€è¦çœ‹è‡ªå·±è¦è·å–çš„domæ˜¯å¦å·²åŠ è½½ã€‚&lt;/p&gt;\n&lt;p&gt;4ã€æ­¤ä»£ç æŠ—æï¼Œå¦‚æœå‡ºé—®é¢˜å…ˆä»è‡ªèº«æ‰¾é—®é¢˜ï¼Œå†ä»”ç»†é˜…è¯»ä¸€éæ­¤ä»£ç ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;class Waterfall {\n  constructor(options) {\n    this.initWaterfall(options);\n  }\n    /**\n   * åˆå§‹åŒ–ç€‘å¸ƒæµ\n   * @param {Object} options\n   * @param {Array&amp;lt;Object&amp;gt;} options.columns {width} - æ­¤å‚æ•°ä¸»è¦å®šä¹‰æ¯åˆ—çš„å®½åº¦\n   */\n  initWaterfall(options) {\n    this.columns = options.columns;\n    this.formatedData = [];\n    for (let column of options.columns) {\n      this.formatedData.push({\n        width: column.width,\n        height: 0\n      });\n    }\n  }\n  imageUrlFeild = &#39;imageUrl&#39;\n \n  /**\n   * æ ¼å¼åŒ–ä»æ•°æ®ä¸­è·å–å›¾ç‰‡urlçš„æ–¹æ³•\n   * @param {Function | String | Number} fn - è‹¥ä¸ºå‡½æ•°ï¼Œåˆ™éœ€è¦è¿”å›ç€‘å¸ƒæµæ¯é¡¹æ•°æ®å¯¹åº”çš„å›¾ç‰‡å­—æ®µ\n   */\n \n  formatGetImageUrlMethod(fn) {\n    this.imageUrlFeild = typeof fn === &#39;function&#39; ? fn() : fn\n  }\n \n  /**\n   * å‘ç€‘å¸ƒæµä¸­å¡«å……æ•°æ®\n   * @param {Object}  resource - å•ä¸ªç€‘å¸ƒæµé¡¹çš„æ•°æ®æº\n   */\n  getResourceInfo(resource) {\n    const _self = this\n    return new Promise(resolve =&amp;gt; {\n      if (resource[_self.imageUrlFeild]) {\n        // getImageInfoæ–¹æ³•åœ¨å°ç¨‹åºä¸­ä½¿ç”¨ï¼Œh5ä¸­æš‚æœªæµ‹è¯•ï¼Œä¸è¿‡ä¸€èˆ¬éƒ½æ˜¯è®©æœåŠ¡ç«¯ç›´æ¥è¿”å›å›¾ç‰‡å®½é«˜ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•ä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œå¦‚æœéœ€è¦ç”¨åˆ°çš„è¯ï¼Œå¿…é¡»åŠ ä¸€å±‚loadingé˜»æ­¢ç”¨æˆ·æ“ä½œ\n        wx.getImageInfo({\n          src: resource[_self.imageUrlFeild],\n          success(res) {\n            resolve(res)\n          },\n          fail() {\n            resolve()\n          }\n        })\n      } else {\n        resolve()\n      }\n    })\n  }\n \n  /**\n   * å‘ç€‘å¸ƒæµä¸­è¡¥å……æ•°æ®\n   * @param {Boolean} extraVal ç€‘å¸ƒæµçš„å¡ç‰‡ä¸­å›¾ç‰‡ä¹‹å¤–çš„å†…å®¹\n   * @param {Array&amp;lt;resource&amp;gt;}  resources\n   */\n \n  async addResources(resources, extraVal) {\n    // let promiseArray = []\n    let newResourcesArray = Array.apply(null, Array(this.columns.length)).map(\n      _ =&amp;gt; []\n    )\n    for (let resource of resources) {\n      // promiseArray.push(this.getResourceInfo(resource))\n      // let imageInfo\n      // imageInfo = await this.getResourceInfo(resource)\n      const width = Number(resource.width) || 100;\n      const height = Number(resource.height) || 100;\n      // è·å–æœ€çŸ­åˆ—çš„ç´¢å¼•\n      const index = this.getShortestColumn();\n      // å¡ç‰‡å®½åº¦\n      const imageWidth = this.formatedData[index].width;\n      // é™„åŠ çš„å¡ç‰‡é«˜åº¦åœ¨è¿™é‡Œæ˜¯å†™æ­»çš„ï¼Œæ¯ä¸ªé¡¹ç›®ä¼šæœ‰ä¸åŒé«˜åº¦\n      const extraHeight = extraVal ? extraVal : 0;\n      // è·å–å¡ç‰‡é«˜åº¦\n      const cardHeight = imageWidth / (width / height) + extraHeight;\n      // å½“å‰åˆ—æ€»é«˜åº¦\n      this.formatedData[index].height += cardHeight;\n      // è¿”å›å¡ç‰‡é«˜åº¦\n      resource.cardHeight = cardHeight;\n      // è¿”å›å›¾ç‰‡é«˜åº¦\n      resource.computedHeight = cardHeight - extraVal;\n      // è¿”å›å½“å‰åˆ—çš„æ•°ç»„\n      newResourcesArray[index].push(resource);\n    }\n    return newResourcesArray\n  }\n \n  /**\n   * æœ€é‡è¦çš„åœ°æ–¹\n   * è·å–å½“å‰æ•°æ®ä¸­å¡«å……æœ€çŸ­çš„åˆ—\n   * è¿”å›æœ€çŸ­åˆ—çš„ç´¢å¼•\n   */\n  getShortestColumn() {\n    let minHeight = Infinity\n    let minHeightColumnIndex = 0\n    for (let index = this.formatedData.length - 1; index &amp;gt; -1; index--) {\n      //ä»åå¾€å‰éå†ï¼Œé˜²æ­¢æ¯åˆ—çš„é«˜åº¦ç›¸åŒçš„æƒ…å†µ\n      const height = this.formatedData[index].height\n      if (height &amp;lt;= minHeight) {\n        minHeightColumnIndex = index\n        minHeight = height\n      }\n    }\n    return minHeightColumnIndex\n  }\n}\n \nexport default Waterfall;\n \n \n// ä¾‹ï¼šåŒåˆ—ç€‘å¸ƒæµ\nlet newList = new Waterfall({\n      columns: [\n        {\n          width: åˆ—å®½\n        },\n        {\n          width: åˆ—å®½\n        }\n      ]\n    });\nnewList.addResources(lists, å¡ç‰‡å†…é™¤å›¾ç‰‡çš„é¢å¤–é«˜åº¦).then(res =&amp;gt; {});\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;pu-bu-liu-ji-suan-js-yuan-ma&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ç€‘å¸ƒæµè®¡ç®—jsæºç &#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;ç€‘å¸ƒæµ&#34;,&#34;slug&#34;:&#34;sahncmfum&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/sahncmfum&#34;}],&#34;date&#34;:&#34;2021-11-24 22:38:44&#34;,&#34;dateFormat&#34;:&#34;2021-11-24&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/pu-bu-liu-ji-suan-js-yuan-ma&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:178000,&#34;words&#34;:677,&#34;minutes&#34;:3},&#34;description&#34;:&#34;é‡åˆ°é—®é¢˜æ—¶çš„è§£å†³æ–¹æ³•åŠä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼š\n1ã€ä¸‹æ‹‰åˆ·æ–°ä¼šå¯¼è‡´ç€‘å¸ƒæµé¡ºåºé”™ä¹±ï¼Œé‡æ–°newä¸€ä¸‹ç€‘å¸ƒæµå³å¯ã€‚\n2ã€å›¾ç‰‡å®½é«˜å¿…é¡»è¦è®©æœåŠ¡ç«¯è¿”ï¼Œå‰ç«¯å»è·å–æ•°æ®å¤ªå¤šä¼šå¯¼è‡´æ€§èƒ½éå¸¸æ…¢ã€‚\n3ã€domåŠ è½½æ—¶è·å–å°ç¨‹åºçš„æŸä¸ªdomçš„å®½åº¦ï¼ˆåˆ—å®½ï¼‰ä¸ºç©ºï¼Œæ”¾åœ¨wx.ne...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;1-ç›´æ’­ç»„ä»¶ä¼˜å…ˆå¼€é€šå®æ—¶éŸ³é¢‘å’Œè§†é¢‘ç®¡ç†åå°ç”³è¯·å¯¹åº”çš„è¯ä¹¦\&#34;&gt;1ã€ç›´æ’­ç»„ä»¶ä¼˜å…ˆå¼€é€šå®æ—¶éŸ³é¢‘å’Œè§†é¢‘ï¼ˆç®¡ç†åå°ï¼‰ï¼Œç”³è¯·å¯¹åº”çš„è¯ä¹¦&lt;/h3&gt;\n&lt;h3 id=\&#34;2-ç›´æ’­ç»„ä»¶éœ€è¦åšç³»ç»Ÿæƒé™éªŒè¯éº¦å…‹é£å’Œç›¸æœºå¼•å¯¼ç”¨æˆ·æ‰“å¼€æƒé™ä¸ç„¶éƒ¨åˆ†æ‰‹æœºåŠ è½½å¤±è´¥-insertliveplayerfailaccess-denied-å› ä¸ºæƒé™æœ‰ä¸‰ä¸ªçŠ¶æ€undefined-denied-authorizedauthorizedä»£è¡¨ç³»ç»Ÿæƒé™å·²å¼€\&#34;&gt;2ã€ç›´æ’­ç»„ä»¶éœ€è¦åšã€ç³»ç»Ÿã€‘æƒé™éªŒè¯ï¼Œï¼ˆéº¦å…‹é£å’Œç›¸æœºï¼‰,å¼•å¯¼ç”¨æˆ·æ‰“å¼€æƒé™ï¼Œä¸ç„¶éƒ¨åˆ†æ‰‹æœºåŠ è½½å¤±è´¥ï¼ˆ insertLivePlayer:fail:access deniedï¼‰ å› ä¸ºæƒé™æœ‰ä¸‰ä¸ªçŠ¶æ€(undefinedã€deniedã€authorized)ï¼Œauthorizedä»£è¡¨ç³»ç»Ÿæƒé™å·²å¼€&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;export const getSystemInfo = (keys: Tkey[], content = &#39;&#39;) =&amp;gt; {\n  return new Promise((resolve) =&amp;gt; {\n    const systemInfo = wx.getAppAuthorizeSetting();\n    console.log(&#39;system&#39;, systemInfo);\n    if (!systemInfo) {\n      return resolve({ code: -1, msg: &#39;è·å–ç³»ç»Ÿæƒé™å¤±è´¥~&#39; });\n    }\n    keys.forEach((item) =&amp;gt; {\n      if (systemInfo[item] !== &#39;authorized&#39;) {\n        Taro.showModal({\n          content,\n          success: (res) =&amp;gt; {\n            if (res.confirm) {\n              wx.openAppAuthorizeSetting({\n                success: () =&amp;gt; {\n                  return resolve({ code: 100, msg: &#39;æ‰“å¼€ç³»ç»Ÿæˆæƒé¡µæˆåŠŸ~&#39; });\n                },\n                fail: () =&amp;gt; {\n                  return resolve({ code: 101, msg: &#39;æ‰“å¼€ç³»ç»Ÿæˆæƒé¡µå¤±è´¥~&#39; });\n                }\n              });\n            } else {\n              return resolve({ code: 403, msg: &#39;ç”¨æˆ·ç‚¹å‡»å–æ¶ˆ~&#39; });\n            }\n          }\n        });\n        return resolve({ code: 401, msg: &#39;æƒé™æ²¡æ‰“å¼€~&#39; });\n      }\n    });\n    return resolve({ code: 0, msg: &#39;ç”¨æˆ·å·²å¼€é€šå¯¹åº”æƒé™~&#39; });\n  });\n};\n \n// è·å–ç³»ç»Ÿæƒé™\n      const res: any = await getSystemInfo(\n        [&#39;cameraAuthorized&#39;, &#39;microphoneAuthorized&#39;],\n        &#39;æ£€æµ‹åˆ°æ‚¨æ²¡æœ‰æ‰“å¼€éº¦å…‹é£å’Œç›¸æœºæƒé™ï¼Œéƒ¨åˆ†åŠŸèƒ½å°†æ²¡æ³•ä½¿ç”¨~&#39;\n      );\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;3-ç›´æ’­ç»„ä»¶åŒå±‚æ¸²æŸ“åœ¨å…¨å±ä¸‹å¤±æ•ˆéœ€è¦å•ç‹¬å¤„ç†å…¨å±åšcoverviewcoverimageåšåŸç”Ÿè¦†ç›–èƒ½åŠ›å¤„ç†ä¸æ˜¯å…¨å±å°±åŒå±‚æ¸²æŸ“å…¨å±å¤„ç†æ—¶å€™é¡¶å±‚å®¹å™¨å’Œç›´æ¥å­èŠ‚ç‚¹éœ€è¦è®¾ç½®-visiblityvisiblepositionrelativez-index99999-å¿…é¡»å¾—å¤„ç†ä¸ç„¶android-çš„coverviewè¦†ç›–ä¸äº†åŸç”Ÿç›´æ’­ç»„ä»¶\&#34;&gt;3ã€ç›´æ’­ç»„ä»¶åŒå±‚æ¸²æŸ“åœ¨å…¨å±ä¸‹å¤±æ•ˆï¼Œéœ€è¦å•ç‹¬å¤„ç†ï¼Œå…¨å±åšCoverView\\CoverImageåšåŸç”Ÿè¦†ç›–èƒ½åŠ›å¤„ç†ï¼Œä¸æ˜¯å…¨å±å°±åŒå±‚æ¸²æŸ“ï¼Œå…¨å±å¤„ç†æ—¶å€™é¡¶å±‚å®¹å™¨å’Œç›´æ¥å­èŠ‚ç‚¹éœ€è¦è®¾ç½® visiblity:visible;position:relative;z-index:99999; å¿…é¡»å¾—å¤„ç†ï¼Œä¸ç„¶android çš„CoverViewè¦†ç›–ä¸äº†åŸç”Ÿç›´æ’­ç»„ä»¶ã€‚&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;.cover-main{\n    position: absolute;\n    visibility: visible;\n    z-index: 999999;\n}\n \n&amp;lt;CoverView className={style[&#39;cover-main&#39;]}&amp;gt;\n                &amp;lt;CoverView className={style[&#39;cover-main&#39;]}&amp;gt;\n                  &amp;lt;CoverView className={style[&#39;live-control&#39;]} onClick={showTips}&amp;gt;&amp;lt;/CoverView&amp;gt;\n \n        {fullScreenFlag &amp;amp;&amp;amp; (\n        &amp;lt;&amp;gt;\n            {/*å¹¿å‘Š*/}\n            &amp;lt;Curtain /&amp;gt;\n\n            {/* å°é¢*/}\n            {startStatus === false ? (\n            &amp;lt;CoverView className={style.cannot_see}&amp;gt;\n                &amp;lt;CoverImage className={style.cannot_see_img} src={readyImg}&amp;gt;&amp;lt;/CoverImage&amp;gt;\n            &amp;lt;/CoverView&amp;gt;\n            ) : teachStatus === false ? (\n            &amp;lt;CoverView className={style.cannot_see}&amp;gt;\n                &amp;lt;CoverImage className={style.cannot_see_img} src={outImg}&amp;gt;&amp;lt;/CoverImage&amp;gt;\n            &amp;lt;/CoverView&amp;gt;\n            ) : null}\n\n            {/* å€’è®¡æ—¶*/}\n            {time &amp;gt;= 1800 ? &amp;lt;CountDown time={time} /&amp;gt; : null}\n        &amp;lt;/&amp;gt;\n        )}\n\n        {/*æ§åˆ¶*/}\n        &amp;lt;CoverView\n        className={`${style.control} ${tips ? style[&#39;up-ani&#39;] : style[&#39;down-ani&#39;]}`}\n        &amp;gt;\n        &amp;lt;CoverView className={style.info}&amp;gt;\n            &amp;lt;CoverView&amp;gt;ç›´æ’­&amp;lt;/CoverView&amp;gt;\n        &amp;lt;/CoverView&amp;gt;\n        &amp;lt;CoverView className={style[&#39;full-screen&#39;]} onClick={handleFullScreen}&amp;gt;\n            &amp;lt;CoverImage\n            className={style.icon}\n            src={fullScreenFlag ? tuichuquanping : quanping}\n            &amp;gt;&amp;lt;/CoverImage&amp;gt;\n            &amp;lt;CoverView&amp;gt;{fullScreenFlag ? &#39;å°å±æ’­æ”¾&#39; : &#39;å…¨å±æ’­æ”¾&#39;}&amp;lt;/CoverView&amp;gt;\n        &amp;lt;/CoverView&amp;gt;\n        &amp;lt;/CoverView&amp;gt;\n    &amp;lt;/CoverView&amp;gt;\n    &amp;lt;/CoverView&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;taro-xiao-cheng-xu-zhi-bo-zu-jian-liveplayer-zhu-yi-shi-xiang&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Taro å°ç¨‹åºç›´æ’­ç»„ä»¶ LivePlayer æ³¨æ„äº‹é¡¹&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å°ç¨‹åºå¼€å‘&#34;,&#34;slug&#34;:&#34;MyzxkxARV&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/MyzxkxARV&#34;}],&#34;date&#34;:&#34;2021-11-15 21:49:16&#34;,&#34;dateFormat&#34;:&#34;2021-11-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/taro-xiao-cheng-xu-zhi-bo-zu-jian-liveplayer-zhu-yi-shi-xiang&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:153000,&#34;words&#34;:528,&#34;minutes&#34;:3},&#34;description&#34;:&#34;1ã€ç›´æ’­ç»„ä»¶ä¼˜å…ˆå¼€é€šå®æ—¶éŸ³é¢‘å’Œè§†é¢‘ï¼ˆç®¡ç†åå°ï¼‰ï¼Œç”³è¯·å¯¹åº”çš„è¯ä¹¦\n2ã€ç›´æ’­ç»„ä»¶éœ€è¦åšã€ç³»ç»Ÿã€‘æƒé™éªŒè¯ï¼Œï¼ˆéº¦å…‹é£å’Œç›¸æœºï¼‰,å¼•å¯¼ç”¨æˆ·æ‰“å¼€æƒé™ï¼Œä¸ç„¶éƒ¨åˆ†æ‰‹æœºåŠ è½½å¤±è´¥ï¼ˆ insertLivePlayer:fail:access deniedï¼‰ å› ä¸ºæƒ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E7%9B%B4%E6%92%AD%E7%BB%84%E4%BB%B6%E4%BC%98%E5%85%88%E5%BC%80%E9%80%9A%E5%AE%9E%E6%97%B6%E9%9F%B3%E9%A2%91%E5%92%8C%E8%A7%86%E9%A2%91%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0%E7%94%B3%E8%AF%B7%E5%AF%B9%E5%BA%94%E7%9A%84%E8%AF%81%E4%B9%A6\&#34;&gt;1ã€ç›´æ’­ç»„ä»¶ä¼˜å…ˆå¼€é€šå®æ—¶éŸ³é¢‘å’Œè§†é¢‘ï¼ˆç®¡ç†åå°ï¼‰ï¼Œç”³è¯·å¯¹åº”çš„è¯ä¹¦&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2-%E7%9B%B4%E6%92%AD%E7%BB%84%E4%BB%B6%E9%9C%80%E8%A6%81%E5%81%9A%E7%B3%BB%E7%BB%9F%E6%9D%83%E9%99%90%E9%AA%8C%E8%AF%81%E9%BA%A6%E5%85%8B%E9%A3%8E%E5%92%8C%E7%9B%B8%E6%9C%BA%E5%BC%95%E5%AF%BC%E7%94%A8%E6%88%B7%E6%89%93%E5%BC%80%E6%9D%83%E9%99%90%E4%B8%8D%E7%84%B6%E9%83%A8%E5%88%86%E6%89%8B%E6%9C%BA%E5%8A%A0%E8%BD%BD%E5%A4%B1%E8%B4%A5-insertliveplayerfailaccess-denied-%E5%9B%A0%E4%B8%BA%E6%9D%83%E9%99%90%E6%9C%89%E4%B8%89%E4%B8%AA%E7%8A%B6%E6%80%81undefined-denied-authorizedauthorized%E4%BB%A3%E8%A1%A8%E7%B3%BB%E7%BB%9F%E6%9D%83%E9%99%90%E5%B7%B2%E5%BC%80\&#34;&gt;2ã€ç›´æ’­ç»„ä»¶éœ€è¦åšã€ç³»ç»Ÿã€‘æƒé™éªŒè¯ï¼Œï¼ˆéº¦å…‹é£å’Œç›¸æœºï¼‰,å¼•å¯¼ç”¨æˆ·æ‰“å¼€æƒé™ï¼Œä¸ç„¶éƒ¨åˆ†æ‰‹æœºåŠ è½½å¤±è´¥ï¼ˆ insertLivePlayer:fail:access deniedï¼‰ å› ä¸ºæƒé™æœ‰ä¸‰ä¸ªçŠ¶æ€(undefinedã€deniedã€authorized)ï¼Œauthorizedä»£è¡¨ç³»ç»Ÿæƒé™å·²å¼€&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3-%E7%9B%B4%E6%92%AD%E7%BB%84%E4%BB%B6%E5%90%8C%E5%B1%82%E6%B8%B2%E6%9F%93%E5%9C%A8%E5%85%A8%E5%B1%8F%E4%B8%8B%E5%A4%B1%E6%95%88%E9%9C%80%E8%A6%81%E5%8D%95%E7%8B%AC%E5%A4%84%E7%90%86%E5%85%A8%E5%B1%8F%E5%81%9Acoverviewcoverimage%E5%81%9A%E5%8E%9F%E7%94%9F%E8%A6%86%E7%9B%96%E8%83%BD%E5%8A%9B%E5%A4%84%E7%90%86%E4%B8%8D%E6%98%AF%E5%85%A8%E5%B1%8F%E5%B0%B1%E5%90%8C%E5%B1%82%E6%B8%B2%E6%9F%93%E5%85%A8%E5%B1%8F%E5%A4%84%E7%90%86%E6%97%B6%E5%80%99%E9%A1%B6%E5%B1%82%E5%AE%B9%E5%99%A8%E5%92%8C%E7%9B%B4%E6%8E%A5%E5%AD%90%E8%8A%82%E7%82%B9%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AE-visiblityvisiblepositionrelativez-index99999-%E5%BF%85%E9%A1%BB%E5%BE%97%E5%A4%84%E7%90%86%E4%B8%8D%E7%84%B6android-%E7%9A%84coverview%E8%A6%86%E7%9B%96%E4%B8%8D%E4%BA%86%E5%8E%9F%E7%94%9F%E7%9B%B4%E6%92%AD%E7%BB%84%E4%BB%B6\&#34;&gt;3ã€ç›´æ’­ç»„ä»¶åŒå±‚æ¸²æŸ“åœ¨å…¨å±ä¸‹å¤±æ•ˆï¼Œéœ€è¦å•ç‹¬å¤„ç†ï¼Œå…¨å±åšCoverView\\CoverImageåšåŸç”Ÿè¦†ç›–èƒ½åŠ›å¤„ç†ï¼Œä¸æ˜¯å…¨å±å°±åŒå±‚æ¸²æŸ“ï¼Œå…¨å±å¤„ç†æ—¶å€™é¡¶å±‚å®¹å™¨å’Œç›´æ¥å­èŠ‚ç‚¹éœ€è¦è®¾ç½® visiblity:visible;position:relative;z-index:99999; å¿…é¡»å¾—å¤„ç†ï¼Œä¸ç„¶android çš„CoverViewè¦†ç›–ä¸äº†åŸç”Ÿç›´æ’­ç»„ä»¶ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644219568486.gif\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nä¸Šé¢æ˜¯ä¸€ä¸ªä½¿ç”¨è„šæ‰‹æ¶æ¥åˆå§‹åŒ–é¡¹ç›®çš„å…¸å‹ä¾‹å­ã€‚&lt;br&gt;\néšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ç†å¿µä¸æ–­æ·±å…¥ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­å¤§å®¶æœ€ç†Ÿæ‚‰çš„å°±æ˜¯create-react-appå’Œvue-cliï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„ã€è‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œæœ€åæˆ‘ä»¬ä¸€è¡ŒæŒ‡ä»¤å³å¯è¿è¡Œé¡¹ç›®å¼€å§‹å¼€å‘ï¼Œæˆ–è€…è¿›è¡Œé¡¹ç›®æ„å»ºï¼ˆbuildï¼‰ã€‚&lt;br&gt;\nè¿™äº›è„šæ‰‹æ¶æä¾›çš„éƒ½æ˜¯æ™®éæ„ä¹‰ä¸Šçš„æœ€ä½³å®è·µï¼Œä½†æ˜¯æˆ‘åœ¨å¼€å‘ä¸­å‘ç°ï¼Œéšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•ï¼Œå¿…ç„¶ä¼šå‡ºç°éœ€è¦é’ˆå¯¹ä¸šåŠ¡å¼€å‘çš„å®é™…æƒ…å†µæ¥è¿›è¡Œè°ƒæ•´ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;é¡¹ç›®æ¶æ„çš„é…ç½®&lt;br&gt;\na. webpack/gulpçš„é…ç½®&lt;br&gt;\nâ…°. style/less/sassçš„é€‰æ‹©å’Œå¤„ç†é…ç½®ã€‚&lt;br&gt;\nâ…±. Typescriptå’ŒJavaScriptçš„loaderå’Œbabelçš„é…ç½®ï¼Œæ¯”å¦‚babel-loaderå’Œtscã€‚&lt;br&gt;\nâ…². å›¾ç‰‡çš„é…ç½®ï¼Œæ¯”å¦‚éœ€è¦file-loaderæˆ–è€…url-loaderã€‚&lt;br&gt;\nâ…³. é™æ€èµ„æºçš„é…ç½®ã€‚&lt;br&gt;\nâ…´. ä¼ä¸šå†…éƒ¨ï¼ŒçœŸå¯¹äºæŸäº›ç‰¹å®šåŠŸèƒ½çš„webpack-loader/webpack-pluginï¼Œæ¯”å¦‚æ‰“åŒ…å®Œå›¾ç‰‡ä¸Šä¼ ã€‚&lt;br&gt;\nb. æ˜¯å¦å†…ç½®ä¸€äº›ç¬¬ä¸‰æ–¹æ¡†æ¶ä¾›ä¸Šæ‰‹ä½¿ç”¨ï¼Œæ¯”å¦‚Element-UIï¼ŒAntdç­‰ã€‚&lt;br&gt;\nc. é¡¹ç›®çš„è·¯ç”±çš„è®¾è®¡å’Œé…ç½®ã€‚&lt;br&gt;\nd. é¡¹ç›®ç›®å½•ç»“æ„çš„è®¾è®¡å’Œé…ç½®ã€‚&lt;br&gt;\ne. é¡¹ç›®é€šç”¨åŠŸèƒ½çš„æœ‰å…³ä»£ç ï¼Œæ¯”å¦‚ç™»é™†å’Œæ¬¢è¿é¡µç­‰ã€‚&lt;br&gt;\nf.é€šè¿‡è°ƒæ•´æ’ä»¶ä¸é…ç½®å®ç° Webpack æ‰“åŒ…æ€§èƒ½ä¼˜åŒ–&lt;br&gt;\ng.é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒåšçš„å•ç‹¬å¤„ç†&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;é¡¹ç›®å¼€å‘ä¸­çš„é…ç½®&lt;br&gt;\na. eslintã€‚&lt;br&gt;\nb. style-lintã€‚&lt;br&gt;\nc. prettierã€‚&lt;br&gt;\nd. å•å…ƒæµ‹è¯•jestæˆ–è€…å…¶ä»–å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚&lt;br&gt;\ne. é¡¹ç›®æ–‡æ¡£çš„è‡ªåŠ¨ç”Ÿæˆï¼Œæ¯”å¦‚doczã€‚&lt;br&gt;\nf. gitç›¸å…³çš„ï¼Œæ¯”å¦‚gitæäº¤çš„æ ¡éªŒï¼Œç”Ÿæˆchangelog&lt;br&gt;\ng. npmç›¸å…³ï¼Œé™¤éæ˜¯å¼€å‘npmåŒ…ï¼Œå¦åˆ™npmç›¸å…³çš„ä¸æ˜¯é‚£ä¹ˆé‡è¦&lt;br&gt;\nh. ä¸å¼€å‘æœ‰å…³çš„å·¥å…·ï¼Œæ¯”å¦‚æ‰“åŒ…æ„å»ºç»“æœçš„åŒ…åˆ†æã€æ¯”å¦‚ç›¸ä¼¼ä»£ç è‡ªåŠ¨ç”Ÿæˆ&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;é¡¹ç›®ä¸Šçº¿è„šæœ¬ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯å¯é€‰é¡¹ï¼Ÿæ›´ä¼˜çš„æ–¹æ³•åº”è¯¥æ˜¯ä½¿ç”¨å†…éƒ¨çš„ä¾‹å¦‚å‘å¸ƒå¹³å°ä¹‹ç±»çš„å·¥å…·å®Œæˆï¼Œæˆ–è€…é€šè¿‡jekinsæˆ–è€…gitlab-ciè¿›è¡Œè‡ªåŠ¨åŒ–å‘å¸ƒï¼Œå›æ»šç­‰æ“ä½œã€‚ä¸Šçº¿å‘å¸ƒå›æ»šçš„åŠ¨ä½œå¯ä»¥å®Œå…¨äº¤ç»™éå¼€å‘äººå‘˜å®Œæˆã€‚&lt;br&gt;\na. æ¯”å¦‚ç”±nodejsç¼–å†™çš„ä¸Šçº¿è„šæœ¬ï¼Œæˆ–è€…æ˜¯ç”¨äºä¸Šçº¿çš„shellè„šæœ¬ã€‚&lt;br&gt;\nb. gitlab-ciçš„é…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;â€¦â€¦&lt;br&gt;\næ€»è€Œè¨€ä¹‹ï¼Œéšç€ä¸šåŠ¡å‘å±•ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæ²‰æ·€å‡ºä¸€å¥—æ›´â€œä¸ªæ€§åŒ–â€çš„ä¸šåŠ¡æ–¹æ¡ˆã€‚è¿™æ—¶å€™æˆ‘ä»¬æœ€ç›´æ¥çš„åšæ³•å°±æ˜¯å¼€å‘å‡ºä¸€ä¸ªè¯¥æ–¹æ¡ˆçš„è„šæ‰‹æ¶æ¥ï¼Œä»¥ä¾¿ä»Šåèƒ½å¤ç”¨è¿™äº›æœ€ä½³å®è·µä¸æ–¹æ¡ˆã€‚&lt;br&gt;\né‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ä¸€ä¸ªå·¥å…·æ¥å¸®æˆ‘ä»¬åšè¿™äº›å¤„ç†ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å°±æ˜¯yomanã€‚&lt;a href=\&#34;https://yeoman.io/\&#34;&gt;å®˜ç½‘åœ°å€&lt;/a&gt;&lt;br&gt;\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨yeomanå’Œyeomançš„generatoræ¥æ›´åŠ ä¾¿æ·å®ç°æˆ‘ä»¬çš„è„šæ‰‹æ¶ï¼Œå¯ä»¥è¯´åŸºæœ¬æ˜¯é›¶æˆæœ¬ã€‚&lt;br&gt;\nå…ˆè¯´è¯´Yeomanæ˜¯ä»€ä¹ˆï¼Œå®ƒæƒ³åšä»€ä¹ˆï¼Ÿ&lt;br&gt;\nYeamonå¸®åŠ©ä½ å¿«é€Ÿçš„å¼€å±•ä¸€ä¸ªé¡¹ç›®å·¥ç¨‹ï¼Œæä¾›æœ€ä½³å®è·µå’Œå·¥å…·ï¼Œæ¥è®©ä½ ä¿æŒé«˜æ•ˆç‡ç¼–ç ã€‚&lt;/p&gt;\n&lt;p&gt;ä»–ä»¬è‡ªå·±æä¾›äº†ä¸€ä¸ªæ„å»ºç”Ÿæ€ç³»ç»Ÿï¼Œä¸»è¦é€šè¿‡â€˜yoâ€™è¿™ä¸ªå‘½ä»¤æ¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®æˆ–è€…é¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;\n&lt;p&gt;é€šè¿‡å®˜æ–¹çš„ç”Ÿæˆå™¨ï¼Œä»–ä»¬å»ºç«‹äº†ä¸€ä¸ªYeomançš„å·¥ä½œæµï¼Œè¿™ä¸ªæµæ˜¯ç”±ä¸€ä¸ªå¼ºå¤§çš„,å›ºå®šçš„å®¢æˆ·ç«¯ç»„å»ºï¼ŒåŒ…å«å·¥å…·å’Œæ¡†æ¶å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå»ºç«‹ç‰›é€¼çš„webåº”ç”¨ã€‚ä»–ä»¬å°½é‡æä¾›äº†å¼€å‘è€…æ‰€éœ€çš„ä¸œè¥¿ã€‚æ¯”å¦‚å…ˆä¸‹è½½å¯¹åº”æ¨¡ç‰ˆé¡¹ç›®ï¼Œç„¶åä¸‹è½½æ¨¡ç‰ˆé¡¹ç›®ä¸­çš„package.jsonä¸­çš„åŒ…&lt;/p&gt;\n&lt;p&gt;ä½œä¸ºè‰¯å¥½æ–‡æ¡£å’Œæ·±å…¥æ€è€ƒæ„å»ºè¿‡ç¨‹çš„æ€æƒ³è€…ï¼ŒYeomanåŒ…å«äº†æ£€æµ‹ï¼ˆé™æ€æ£€æµ‹ï¼‰ã€æµ‹è¯•ä»¥åŠå‹ç¼©ç­‰ç­‰ä¸€ç³»åˆ—å·¥å…·ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºæ€è€ƒè§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;å¦‚ä½•ä½¿ç”¨\&#34;&gt;å¦‚ä½•ä½¿ç”¨ï¼š&lt;/h3&gt;\n&lt;p&gt;1ã€npm install -g yo //æƒé™ä¸å¤Ÿï¼Œè¯·åŠ ä¸Š sudoï¼Œä¸€èˆ¬æ¥è¯´macéƒ½éœ€è¦ã€‚&lt;br&gt;\nå®‰è£…å®Œæˆä¹‹åï¼Œä½ å°±æ‹¥æœ‰äº†1ä¸ªå‘½ä»¤ -- yo å¯ä»¥é€‰æ‹©è‡ªå®šä¹‰çš„ï¼Œä¹Ÿå¯ä»¥æœç´¢ä½ æƒ³è¦çš„ç°æˆçš„ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©è‡ªå·±çš„ã€‚ å®˜ç½‘æä¾›çš„åœ°å€ï¼šhttp://yeoman.io/generators/&lt;br&gt;\né‚£æˆ‘ä»¬å¼€å§‹ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„generatorsã€‚&lt;br&gt;\n2ã€å¼€å‘è‡ªå·±çš„generator&lt;br&gt;\nåˆ›å»ºé¡¹ç›®&lt;br&gt;\nå…¨å±€å®‰è£…generator-generatorï¼Œç„¶åä½¿ç”¨åˆ›å»ºé¡¹ç›®ï¼Œæ ¹æ®æç¤ºè¾“å‡ºæˆ‘ä»¬çš„generatoré¡¹ç›®çš„åå­—ï¼Œyeomanè§„å®šé¡¹ç›®åå­—å¿…é¡»ä»¥generatorå¼€å¤´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€‰æ‹©generator-xxxä½œä¸ºæˆ‘ä»¬çš„é¡¹ç›®å&lt;br&gt;\nnpm i -g generator-generator&lt;br&gt;\nyo generator&lt;br&gt;\nåˆ›å»ºå¥½é¡¹ç›®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å·²ç»è‡ªåŠ¨ä¸ºæˆ‘ä»¬é…ç½®å¥½äº†eslintï¼Œjestï¼Œhusky&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬ä¸»è¦éœ€è¦ä¿®æ”¹çš„ä»£ç ä½äºgenerators/appå†…&lt;br&gt;\nâ— index.jså®šä¹‰äº†æˆ‘ä»¬ä½¿ç”¨æ­¤generatoræ—¶çš„ä¸€äº›æ“ä½œé…ç½®é¡¹&lt;br&gt;\nâ— templateså†…å­˜æ”¾çš„æ˜¯è¦ç”Ÿæˆçš„é¡¹ç›®çš„é¡¹ç›®æ¨¡æ¿ï¼Œé¡¹ç›®æ¨¡æ¿ä¹Ÿå¯ä»¥æ”¾åœ¨gitä¸Šï¼Œç„¶åé€šè¿‡download-git-repoä¸‹è½½åˆ°æœ¬åœ°&lt;br&gt;\néªŒè¯æˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;åœ¨å½“å‰é¡¹ç›®æ‰§è¡Œnpm linkä½¿å…¶è¢«é“¾æ¥åˆ°å…¨å±€&lt;/li&gt;\n&lt;li&gt;ç„¶åæ‰¾ä¸€ä¸ªç›®å½•ï¼Œç»ˆç«¯æ‰§è¡Œyoï¼Œæ­¤æ—¶ä¾¿å¯ä»¥å‘ç°æˆ‘ä»¬çš„generatorå·²ç»å‡ºç°åœ¨äº†é€‰æ‹©åˆ—è¡¨ä¸­ã€‚ç„¶åé€‰æ‹©æˆ‘ä»¬çš„generatorè¿è¡Œå³å¯ã€‚ç­‰å¾…å®Œæˆï¼Œä¼šå‘ç°æˆåŠŸçš„åˆ›å»ºäº†ä¸€ä¸ªå«åšdummyfile.txtçš„æ–‡ä»¶å¤¹ã€‚&lt;br&gt;\ngenerators/app/index.js&lt;br&gt;\nåˆå§‹åŒ–çš„æ–‡ä»¶å¦‚ä¸‹ã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;pre&gt;&lt;code&gt;&amp;quot;use strict&amp;quot;;\nconst Generator = require(&amp;quot;yeoman-generator&amp;quot;);\nconst chalk = require(&amp;quot;chalk&amp;quot;);\nconst yosay = require(&amp;quot;yosay&amp;quot;);\n\nmodule.exports = class extends Generator {\n  prompting() {\n    // Have Yeoman greet the user.\n    this.log(\n      yosay(\n        `Welcome to the fantastic ${chalk.red(&amp;quot;generator-rc-op&amp;quot;)} generator!`\n      )\n    );\n\n    const prompts = [\n      {\n        type: &amp;quot;confirm&amp;quot;,\n        name: &amp;quot;someAnswer&amp;quot;,\n        message: &amp;quot;Would you like to enable this option?&amp;quot;,\n        default: true\n      }\n    ];\n\n    return this.prompt(prompts).then(props =&amp;gt; {\n      // To access props later use this.props.someAnswer;\n      this.props = props;\n    });\n  }\n\n  writing() {\n    this.fs.copy(\n      this.templatePath(&amp;quot;dummyfile.txt&amp;quot;),\n      this.destinationPath(&amp;quot;dummyfile.txt&amp;quot;)\n    );\n  }\n\n  install() {\n    this.installDependencies();\n  }\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä»æ–‡ä»¶çš„å†…å®¹å¯ä»¥çœ‹å‡ºä¸»è¦æ“ä½œæ˜¯æš´éœ²å‡ºä¸€ä¸ªç»§æ‰¿è‡ªGeneratorçš„ç±»ï¼Œåœ¨ç±»çš„å†…éƒ¨å®šä¹‰äº†éƒ¨åˆ†ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä¾›yoemanåœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨ã€‚æˆ‘ä»¬åªéœ€è¦å®Œå–„è¿™äº›æ–¹æ³•å°±å¯ä»¥äº†ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;yeomanæä¾›çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹\&#34;&gt;yeomanæä¾›çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;initializingï¼šåˆå§‹åŒ–å¿…è¦çš„ä¾èµ–ï¼Œæˆ–è€…æ¯”å¦‚æ£€æµ‹æ–°ç‰ˆæœ¬&lt;/li&gt;\n&lt;li&gt;promptingï¼šç”¨æ¥å¤„ç†ç»ˆç«¯çš„äº¤äº’&lt;/li&gt;\n&lt;li&gt;defaultï¼šè¿™é‡ŒæŒ‡çš„æ˜¯è‡ªå·±è‡ªå®šä¹‰çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯åä¸ºdefaultçš„æ–¹æ³•ï¼Œè‡ªå·±å®šä¹‰çš„æ–¹æ³•å¦‚æœä¸æƒ³è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆéœ€è¦ç¡®ä¿æ–¹æ³•åä»¥_ä¸ºå¼€å¤´ã€‚&lt;/li&gt;\n&lt;li&gt;writingï¼šå°†ç»è¿‡ejsæ¨¡æ¿æ¸²æŸ“åçš„å†…å®¹å†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/li&gt;\n&lt;li&gt;conflictsï¼šå‹‡äºè§£å†³å°†æ–‡ä»¶å†…å®¹å†™å…¥æ–‡ä»¶ç³»ç»Ÿæ—¶å¯èƒ½é€ æˆçš„å†²çª&lt;/li&gt;\n&lt;li&gt;installï¼šå®‰è£…é¡¹ç›®çš„ä¾èµ–ï¼Œæ¯”å¦‚npm install æˆ–è€… bower install&lt;/li&gt;\n&lt;li&gt;endï¼šåšä¸€äº›æ”¶å°¾çš„å·¥ä½œã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;è¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å‡æ”¯æŒè¿”å›Promiseæ¥è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;å†…ç½®å¸¸ç”¨å·¥å…·\&#34;&gt;å†…ç½®å¸¸ç”¨å·¥å…·&lt;/h3&gt;\n&lt;p&gt;ç»ˆç«¯äº¤äº’ï¼šå†…ç½®äº†Inquireræä¾›ç»ˆç«¯äº¤äº’&lt;br&gt;\næ¨¡æ¿å¡«å……ï¼šå†…ç½®äº†ejsæ¨¡æ¿&lt;br&gt;\næ–‡ä»¶æ“ä½œ&lt;br&gt;\nâ— this.fs.copyTplï¼šç”¨äºæ‹·è´å¹¶ä¸”æ ¹æ®æ•°æ®ä½¿ç”¨ejsæ¨¡æ¿æ¸²æŸ“æ–‡ä»¶ã€‚æ­¤å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œæºæ–‡ä»¶è·¯å¾„ï¼Œç›®æ ‡æ–‡ä»¶è·¯å¾„ï¼Œä¼ ç»™ejsç”¨äºæ¸²æŸ“ç›®æ ‡é—®ä»·çš„æ•°æ®ã€‚&lt;br&gt;\nâ— this.fs.copyï¼šå°†æ–‡ä»¶ä¸›æºè·¯å¾„å¤åˆ¶åˆ°ç›®æ ‡è·¯å¾„ã€‚&lt;br&gt;\nâ— this.destinationPath() ï¼šæ­¤å‡½æ•°è¿”å›æœ€ç»ˆç”Ÿæˆé¡¹ç›®çš„è·¯å¾„&lt;br&gt;\nå…¶ä»–&lt;br&gt;\nâ— this.npmInstallï¼šå®ç°npm isntall&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// éƒ¨åˆ†ä»£ç ï¼Œå®Œæ•´ä»£ç è§æœ€ä¸‹æ–¹é“¾æ¥\nwriting() {\n    const done = this.async();\n    this.log(&amp;quot;âš™  Finish basic configuration.&amp;quot;, chalk.green(&amp;quot;âœ”&amp;quot;));\n    this.log(&amp;quot;ğŸ“‚ Generate the project template and configuration...&amp;quot;);\n    let spinner = ora({\n      text: `Download the template from ${GIT_BASE}${TPL_REPOSITORY}...`,\n      spinner: ORA_SPINNER\n    }).start();\n    this._downloadTemplate(TPL_REPOSITORY)\n      .then(() =&amp;gt; {\n        spinner.stopAndPersist({\n          symbol: chalk.green(&amp;quot;   âœ”&amp;quot;),\n          text: `Finish downloading the template from ${GIT_BASE}${TPL_REPOSITORY}`\n        });\n        spinner = ora({\n          text: `Copy files into the project folder...`,\n          spinner: ORA_SPINNER\n        }).start();\n        const templateRoot = this.destinationPath(this.dirName, &amp;quot;.tmp&amp;quot;);\n        this.log(`\\n${templateRoot}`, &amp;quot;templateRoot&amp;quot;);\n        const resoPath = path.resolve(templateRoot, &amp;quot;../&amp;quot;);\n        this.log(resoPath, &amp;quot;resoPath&amp;quot;);\n        spinner.stopAndPersist({\n          symbol: chalk.green(&amp;quot;   âœ”&amp;quot;),\n          text: `Finish copying files into the project folder`\n        });\n        execSync(`cp -R ${resoPath}/.tmp/* ${resoPath}`, { stdio: &amp;quot;inherit&amp;quot; });\n        spinner = ora({\n          text: `Clean tmp files and folders...`,\n          spinner: ORA_SPINNER\n        }).start();\n        fs.removeSync(templateRoot);\n        spinner.stopAndPersist({\n          symbol: chalk.green(&amp;quot;   âœ”&amp;quot;),\n          text: `Finish cleaning tmp files and folders`\n        });\n        // ExecSync(`rm -R ${resoPath}/.tmp`, { stdio: &amp;quot;inherit&amp;quot; });\n        // å°†æ–°ç”Ÿæˆçš„é¡¹ç›®çš„titleæ¢æˆè‡ªå®šä¹‰çš„é¡¹ç›®åç§°\n        ejs.renderFile(\n          `${resoPath}/public/index.html`,\n          { dirName: this.dirName },\n          function(err, str) {\n            // Str =&amp;gt; è¾“å‡ºæ¸²æŸ“åçš„ HTML å­—ç¬¦ä¸²\n            fs.writeFile(`${resoPath}/public/index.html`, str);\n          }\n        );\n        // å°†æ–°ç”Ÿæˆçš„é¡¹ç›®çš„package.jsonçš„nameæ¢æˆè‡ªå®šä¹‰çš„é¡¹ç›®åç§°\n        ejs.renderFile(\n          `${resoPath}/package.json`,\n          { dirName: this.dirName },\n          function(err, str) {\n            // Str =&amp;gt; è¾“å‡ºæ¸²æŸ“åçš„ HTML å­—ç¬¦ä¸²\n            fs.writeFile(`${resoPath}/package.json`, str);\n          }\n        );\n        done();\n      })\n      .catch(err =&amp;gt; this.env.error(err));\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å…¶ä»–å¯èƒ½ç”¨åˆ°çš„å·¥å…·\&#34;&gt;å…¶ä»–å¯èƒ½ç”¨åˆ°çš„å·¥å…·&lt;/h3&gt;\n&lt;p&gt;â— oraï¼šç”¨äºåˆ›å»ºSpinnerï¼Œå³æ¯”å¦‚ä¸‹è½½æ¨¡æ¿æ–‡ä»¶æ—¶éœ€è¦å±•ç¤ºçš„laodingæ•ˆæœã€‚&lt;br&gt;\nâ— chalkï¼šç”¨äºæ‰“å°å½©è‰²çš„ä¿¡æ¯&lt;br&gt;\nâ— update-notifier&lt;br&gt;\nâ— beeper&lt;br&gt;\nâ— boxen&lt;br&gt;\nè°ƒè¯•&lt;br&gt;\nç”±äºyeomanæ˜¯é€šè¿‡npmåŒ…çš„å½¢å¼è¿›è¡Œä½¿ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬å¼€å‘çš„generatoré¡¹ç›®çš„è·Ÿç›®å½•ä¸‹ï¼Œæ‰§è¡Œnpm link å°†æˆ‘ä»¬å¼€å‘çš„generatoré“¾æ¥åˆ°å…¨å±€ï¼Œè¿™æ ·æˆ‘ä»¬ç›´æ¥ä½¿ç”¨yoå‘½ä»¤æŸ¥çœ‹å¯ä»¥ä½¿ç”¨çš„generatorï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ‰€å¼€å‘çš„generatoräº†ï¼Œå¹¶ä¸”æ˜¯å®æ—¶ç”Ÿæ•ˆçš„&lt;/p&gt;\n&lt;h3 id=\&#34;æˆ‘çš„ä»£ç æ˜¯åœ¨æœ¬åœ°çš„ç”¨çš„npm-linkæ²¡æœ‰ä¸Šä¼ åˆ°githubæˆ–npmæ­¤å¤„è´´å‡ºå…¶ä»–å¤§ä½¬çš„é¡¹ç›®ä»£ç -å¿«åŠ¨æ‰‹è¯•ä¸€ä¸‹å§~\&#34;&gt;æˆ‘çš„ä»£ç æ˜¯åœ¨æœ¬åœ°çš„ï¼Œç”¨çš„npm linkï¼Œæ²¡æœ‰ä¸Šä¼ åˆ°githubæˆ–npmï¼Œæ­¤å¤„è´´å‡ºå…¶ä»–å¤§ä½¬çš„é¡¹ç›®ä»£ç ã€‚å¿«åŠ¨æ‰‹è¯•ä¸€ä¸‹å§ï½&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://github.com/alienzhou/webpack-kickoff-template\&#34;&gt;æ¨¡ç‰ˆå®Œæ•´ä»£ç &lt;/a&gt;   æ³¨æ„è¦ç»™ejså†™å…¥çš„ç©ºä½&lt;br&gt;\n&lt;a href=\&#34;https://github.com/alienzhou/generator-webpack-kickoff\&#34;&gt;è„šæ‰‹æ¶å®Œæ•´ä»£ç &lt;/a&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;å‚è€ƒæ–‡ç« \&#34;&gt;å‚è€ƒæ–‡ç« ï¼š&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://www.yuque.com/kongdepeng/rgpm60/qrluup\&#34;&gt;å‰ç«¯è‡ªåŠ¨åŒ–å·¥å…· - yeoman&lt;/a&gt;&lt;br&gt;\n&lt;a href=\&#34;https://zhuanlan.zhihu.com/p/66190308\&#34;&gt;å¦‚ä½•å¿«é€Ÿå¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶ï¼Ÿ&lt;/a&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;kai-fa-yi-ge-zi-ji-de-xiang-mu-jiao-shou-jia&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ç”¨yeomanå¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å·¥ç¨‹åŒ–&#34;,&#34;slug&#34;:&#34;_l9fydARk&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/_l9fydARk&#34;}],&#34;date&#34;:&#34;2021-10-19 20:37:02&#34;,&#34;dateFormat&#34;:&#34;2021-10-19&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/kai-fa-yi-ge-zi-ji-de-xiang-mu-jiao-shou-jia&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;10 min read&#34;,&#34;time&#34;:559000,&#34;words&#34;:2362,&#34;minutes&#34;:10},&#34;description&#34;:&#34;\nä¸Šé¢æ˜¯ä¸€ä¸ªä½¿ç”¨è„šæ‰‹æ¶æ¥åˆå§‹åŒ–é¡¹ç›®çš„å…¸å‹ä¾‹å­ã€‚\néšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ç†å¿µä¸æ–­æ·±å…¥ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­å¤§å®¶æœ€ç†Ÿæ‚‰çš„å°±æ˜¯create-react-appå’Œvue-cliï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8\&#34;&gt;å¦‚ä½•ä½¿ç”¨ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#yeoman%E6%8F%90%E4%BE%9B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%A6%82%E4%B8%8B\&#34;&gt;yeomanæä¾›çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%86%85%E7%BD%AE%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7\&#34;&gt;å†…ç½®å¸¸ç”¨å·¥å…·&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B6%E4%BB%96%E5%8F%AF%E8%83%BD%E7%94%A8%E5%88%B0%E7%9A%84%E5%B7%A5%E5%85%B7\&#34;&gt;å…¶ä»–å¯èƒ½ç”¨åˆ°çš„å·¥å…·&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%88%91%E7%9A%84%E4%BB%A3%E7%A0%81%E6%98%AF%E5%9C%A8%E6%9C%AC%E5%9C%B0%E7%9A%84%E7%94%A8%E7%9A%84npm-link%E6%B2%A1%E6%9C%89%E4%B8%8A%E4%BC%A0%E5%88%B0github%E6%88%96npm%E6%AD%A4%E5%A4%84%E8%B4%B4%E5%87%BA%E5%85%B6%E4%BB%96%E5%A4%A7%E4%BD%AC%E7%9A%84%E9%A1%B9%E7%9B%AE%E4%BB%A3%E7%A0%81-%E5%BF%AB%E5%8A%A8%E6%89%8B%E8%AF%95%E4%B8%80%E4%B8%8B%E5%90%A7~\&#34;&gt;æˆ‘çš„ä»£ç æ˜¯åœ¨æœ¬åœ°çš„ï¼Œç”¨çš„npm linkï¼Œæ²¡æœ‰ä¸Šä¼ åˆ°githubæˆ–npmï¼Œæ­¤å¤„è´´å‡ºå…¶ä»–å¤§ä½¬çš„é¡¹ç›®ä»£ç ã€‚å¿«åŠ¨æ‰‹è¯•ä¸€ä¸‹å§ï½&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0\&#34;&gt;å‚è€ƒæ–‡ç« ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å¼€å‘Cç«¯æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ä¸è§£å†³æ–¹æ³•ï¼Œéƒ½è®°å½•ä¸‹æ¥ï¼Œå¸Œæœ›å¯¹ä½ ä¹Ÿæœ‰å¸®åŠ©ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;1éƒ¨åˆ†æœºå‹æ‹ç…§ä¸Šä¼ å›¾ç‰‡æ—‹è½¬é—®é¢˜\&#34;&gt;1.éƒ¨åˆ†æœºå‹æ‹ç…§ä¸Šä¼ å›¾ç‰‡æ—‹è½¬é—®é¢˜ï¼š&lt;/h3&gt;\n&lt;p&gt;ç›´æ¥ä»å›¾ç‰‡åé¢åŠ å‚æ•°â€˜?x-oss-process=image/auto-orient,1/resize,m_fixedâ€™ï¼ˆåŠ ä¸Šå‚æ•°ä¹‹åä¼šè‡ªåŠ¨æ—‹è½¬å›æ¥ï¼Œå…¶ä»–å‚æ•°å¯å‚è€ƒé˜¿é‡ŒOSSå®˜æ–¹æ–‡æ¡£https://help.aliyun.com/document_detail/44691.html?spm=a2c4g.11186623.6.1390.750ac1f6HTe92Qï¼‰&lt;/p&gt;\n&lt;h3 id=\&#34;2swiper3dä¸¤è¾¹ç•™ç™½æ•ˆæœ\&#34;&gt;2.swiper3Dä¸¤è¾¹ç•™ç™½æ•ˆæœï¼š&lt;/h3&gt;\n&lt;p&gt;ï¼ˆå°ç¨‹åºh5å‡é€‚ç”¨ï¼‰ï¼Œä»£ç å¦‚ä¸‹ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¿…é¡»ç»™swiperçˆ¶çº§å…ƒç´ åŠ overflow-x:hidden&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;.swiper-container {\n  height: 100%;\n  width: 600px;\n  perspective: 1600px;\n  overflow: visible;\n  img {\n    width: 100%;\n    height: 720px;\n    border-radius: 20px;\n  }\n}\n.swiper-slide {\n  padding: 0 24px;\n  box-sizing: border-box;\n  text-align: center;\n  transition: transform 0.5s;\n  transform-origin: 50% 50%;\n  transform: scale(0.9);\n  &amp;amp;.swiper-slide-active {\n    transform: scale(1);\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;3å°ç¨‹åºçš„è·³è½¬åå±‚é™åˆ¶ä¸è¦ä¸€ç›´ç”¨navigatetoè¿™æ ·å±äºä¸€ç›´å‰è¿›å¦‚æœéœ€è¦è·³è½¬å›é¦–é¡µæˆ–è€…å…¶ä»–å¯ä»¥ä½¿ç”¨relaunché€»è¾‘å¤æ‚æ—¶å¯è‡ªå·±å†™é¡¶éƒ¨å¯¼èˆªæ åŒ…æ‹¬è¿”å›æŒ‰é’®\&#34;&gt;3.å°ç¨‹åºçš„è·³è½¬åå±‚é™åˆ¶ï¼Œä¸è¦ä¸€ç›´ç”¨navigateToï¼Œè¿™æ ·å±äºä¸€ç›´å‰è¿›ï¼Œå¦‚æœéœ€è¦è·³è½¬å›é¦–é¡µæˆ–è€…å…¶ä»–å¯ä»¥ä½¿ç”¨reLaunchï¼Œé€»è¾‘å¤æ‚æ—¶å¯è‡ªå·±å†™é¡¶éƒ¨å¯¼èˆªæ åŒ…æ‹¬è¿”å›æŒ‰é’®ã€‚&lt;/h3&gt;\n&lt;h3 id=\&#34;4ä¿å­˜æµ·æŠ¥åˆ°æœ¬åœ°æ¨èä¸€æ³¢ç”Ÿæˆå°ç¨‹åºæµ·æŠ¥çš„æ’ä»¶éå¸¸ç®€å•æ–¹ä¾¿\&#34;&gt;4.ä¿å­˜æµ·æŠ¥åˆ°æœ¬åœ°ï¼šæ¨èä¸€æ³¢ç”Ÿæˆå°ç¨‹åºæµ·æŠ¥çš„æ’ä»¶ï¼Œéå¸¸ç®€å•æ–¹ä¾¿&lt;/h3&gt;\n&lt;p&gt;taro-plugin-canvas (Taroç¯å¢ƒä½¿ç”¨)ä¸wxa-plugin-canvasï¼ˆæ™®é€šå°ç¨‹åºä½¿ç”¨ï¼‰&lt;br&gt;\ntip:å¦‚æœé‡åˆ°éå¸¸è§„çš„æƒ…å†µï¼Œéœ€è¦æ‰‹å†™canvaså¹¶ä¸”å®½é«˜å°ºå¯¸ä¹˜2ä¿è¯æ¸…æ™°åº¦ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;5inputå…‰æ ‡æ°¸è¿œåœç•™åœ¨æœ€å\&#34;&gt;5.inputå…‰æ ‡æ°¸è¿œåœç•™åœ¨æœ€åï¼š&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;var el = document.getElementById(&amp;quot;IPTname&amp;quot;);\nvar range = document.createRange();\nrange.selectNodeContents(el);\nrange.collapse(false);\nvar sel = window.getSelection();\nsel.removeAllRanges();\nsel.addRange(range);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;6å°ç¨‹åºè·å–ç”¨æˆ·æˆæƒç”¨æˆ·ä¿¡æ¯ç”¨æˆ·å®šä½ç”¨æˆ·ç›¸å†Œè®¿é—®æƒé™ç­‰æ—¶éœ€è¦å¤„ç†æ‹’ç»æ—¶çš„æƒ…å†µ-ç”Ÿæˆæµ·æŠ¥åˆ°è‡ªå·±ç›¸å†Œçš„æ—¶å€™å¦‚æœç”¨æˆ·åœ¨æˆæƒçš„æ—¶å€™ç‚¹å‡»äº†æ‹’ç»å¦‚æœä¸å…¼å®¹æ‹’ç»æˆæƒåˆ™ç›´æ¥ç”Ÿæˆå¤±è´¥\&#34;&gt;6.å°ç¨‹åºè·å–ç”¨æˆ·æˆæƒï¼ˆç”¨æˆ·ä¿¡æ¯/ç”¨æˆ·å®šä½/ç”¨æˆ·ç›¸å†Œè®¿é—®æƒé™ç­‰ï¼‰æ—¶éœ€è¦å¤„ç†æ‹’ç»æ—¶çš„æƒ…å†µã€‚ç”Ÿæˆæµ·æŠ¥åˆ°è‡ªå·±ç›¸å†Œçš„æ—¶å€™å¦‚æœç”¨æˆ·åœ¨æˆæƒçš„æ—¶å€™ç‚¹å‡»äº†æ‹’ç»ï¼Œå¦‚æœä¸å…¼å®¹æ‹’ç»æˆæƒåˆ™ç›´æ¥ç”Ÿæˆå¤±è´¥ã€‚&lt;/h3&gt;\n&lt;h3 id=\&#34;7ç›‘å¬ç§»åŠ¨ç«¯é”®ç›˜å¼¹å‡ºå’Œæ”¶èµ·äº‹ä»¶\&#34;&gt;7.ç›‘å¬ç§»åŠ¨ç«¯é”®ç›˜å¼¹å‡ºå’Œæ”¶èµ·äº‹ä»¶ã€‚&lt;/h3&gt;\n&lt;p&gt;åœ¨iosè®¾å¤‡ä¸Š,æ“ä½œè¡¨å•è¾“å…¥æ—¶,é”®ç›˜å¼¹å‡ºæ—¶ä¼šæŠŠé¡µé¢é¡¶èµ·æ¥,é”®ç›˜æ”¶èµ·æ—¶å¹¶ä¸ä¼šæŠŠé¡µé¢æ¢å¤æˆåŸæ¥çš„æ ·å­,é€ æˆé¡µé¢æ ·å¼é”™ä¹±,åˆ©ç”¨focusoutå’Œfocusinäº‹ä»¶,å¯ä»¥é—´æ¥åœ°ç›‘å¬åˆ°é”®ç›˜çš„æ”¶èµ·å’Œå¼¹å‡ºäº‹ä»¶,ç„¶åæ“ä½œé¡µé¢æ»šåŠ¨åˆ°æƒ³è¦çš„ä½ç½®.&lt;/p&gt;\n&lt;p&gt;focusoutè§¦å‘æ—¶æœº:  å½“å…ƒç´ å³å°†å¤±å»ç„¦ç‚¹æ—¶ï¼Œfocusout äº‹ä»¶è¢«è§¦å‘ã€‚focusout äº‹ä»¶å’Œ blur äº‹ä»¶ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºåè€…ä¸ä¼šå†’æ³¡ã€‚&lt;/p&gt;\n&lt;p&gt;focusinè§¦å‘æ—¶æœº:    å½“å…ƒç´ å³å°†æ¥æ”¶ focus äº‹ä»¶æ—¶ï¼Œfocusin äº‹ä»¶è¢«è§¦å‘ã€‚ è¿™ä¸ªäº‹ä»¶å’Œ focus äº‹ä»¶çš„ä¸»è¦åŒºåˆ«åœ¨äºåè€…ä¸ä¼šå†’æ³¡ã€‚&lt;/p&gt;\n&lt;p&gt;ç›‘å¬æ–¹å¼:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;let scrollTop = 0\n//é”®ç›˜æ”¶èµ·\ndocument.body.addEventListener(&#39;focusout&#39;,()=&amp;gt;{\n   document.body.scrollTop=document.documentElement.scrollTop=scrollTop\n})\n//é”®ç›˜å¼¹å‡º\ndocument.body.addEventListener(&#39;focusin&#39;,()=&amp;gt;{\n   scrollTop = document.body.scrollTop || document.documentElement.scrollTop\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;8ç§»åŠ¨ç«¯ä»£ç è¿”å›ä¸Šä¸€é¡µwindowlocationbackå¤±æ•ˆ\&#34;&gt;8.ç§»åŠ¨ç«¯ä»£ç è¿”å›ä¸Šä¸€é¡µï¼ˆwindow.location.back()å¤±æ•ˆï¼‰&lt;/h3&gt;\n&lt;p&gt;å°¼ç›ã€‚ã€‚ç§»åŠ¨ç«¯è¿”å›ä¸Šä¸€é¡µæœ‰æ—¶å€™ç”¨window.location.back()ä¸å¥½ä½¿ï¼Œæ— è§£ã€‚å¯ä»¥ä½¿ç”¨window.location.href = document.referrerã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;9å•é¡µé¢åº”ç”¨è·³è½¬è·¯ç”±ä¹‹åå†æ¬¡ä½¿ç”¨echartsæ—¶ä¸å±•ç¤º\&#34;&gt;9.å•é¡µé¢åº”ç”¨è·³è½¬è·¯ç”±ä¹‹åå†æ¬¡ä½¿ç”¨echartsæ—¶ä¸å±•ç¤º&lt;/h3&gt;\n&lt;p&gt;é¦–æ¬¡ä½¿ç”¨ä¸å±•ç¤ºï¼Œå¯ä»¥å»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯å½“è·¯ç”±è·³è½¬å›æ¥ä¹‹åå»¶è¿Ÿéƒ½ä¸ç®¡ç”¨ï¼Œé‚£ä¹ˆéœ€è¦åœ¨init Echartsä¹‹å‰åŠ¨æ€è®¾ç½®å®¹å™¨å®½é«˜ï¼Œå¹¶ä¸”æ¸…ç©ºçˆ¶å…ƒç´ ï¼Œå› ä¸ºå†æ¬¡å›æ¥çš„æ—¶å€™ä¹‹å‰çš„echartså®ä¾‹å·²ç»æ˜¯å­˜åœ¨çš„äº†ï¼Œå¯åœ¨è°ƒè¯•ä¸­æŸ¥çœ‹è¯¦æƒ…ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;10-è§†é¢‘é»‘è¾¹é—®é¢˜\&#34;&gt;10. è§†é¢‘é»‘è¾¹é—®é¢˜&lt;/h3&gt;\n&lt;p&gt;ç»™videoæ ‡ç­¾ï¼ˆåŸç”Ÿvideoæ ‡ç­¾ï¼‰åŠ ä¸€ä¸ªobject-fit:fillå±æ€§å³å¯è§£å†³ã€‚è¦å¼ºè°ƒçš„æ˜¯ï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨Taroçš„Videoæ ‡ç­¾ï¼Œå¾ˆå‘ï¼Œè§£å†³äº†é»‘è¾¹ï¼Œå…¨å±æ—¶åˆä¼šå¯¼è‡´è§†é¢‘å˜å½¢ï¼Œä¸ç”¨object:fillçš„è¯ä¹Ÿèƒ½è§£å†³é»‘è¾¹ï¼Œä½†æ˜¯å…¨å±æ—¶è§†é¢‘çš„é€€å‡ºå…¨å±æ ·å¼åˆä¼šè¢«è¦†ç›–ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;11-æ‰‹æœºé”å±æ—¶å€’è®¡æ—¶åœæ­¢\&#34;&gt;11. æ‰‹æœºé”å±æ—¶å€’è®¡æ—¶åœæ­¢&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;window.addEventListener(&#39;visibilitychange&#39;,() =&amp;gt; {\n   if (\n     //hiddenä¸ºé”å±æ—¶æˆ–é¡µé¢ä¸å±•ç¤ºæ—¶ï¼Œå¯é‡æ–°è·å–æ—¶é—´å¼€å§‹å€’è®¡æ—¶ã€‚\n      document.visibilityState ==&#39;hidden&#39;\n   ) \n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;12ç§»åŠ¨ç«¯å®ç°çœ-å¸‚-åŒº-è¡—é“å››çº§è”åŠ¨\&#34;&gt;12.ç§»åŠ¨ç«¯å®ç°çœ-å¸‚-åŒº-è¡—é“å››çº§è”åŠ¨&lt;/h3&gt;\n&lt;p&gt;éœ€æ±‚æ˜¯è¦å®ç°åœ°åŒºå››çº§è”åŠ¨ï¼Œä½†æ˜¯vantçš„æ’ä»¶åªæ”¯æŒä¸‰çº§åœ°åŒºè”åŠ¨ï¼Œå°±å¾ˆå°´å°¬ï¼Œåªèƒ½è‡ªå·±å†™ï¼Œä½†æ˜¯è‡ªå·±å†™çš„è¯UIä¸äº¤äº’ä½“éªŒä¼šå¾ˆå·®ï¼Œæ‰€ä»¥å°±æƒ³åŠæ³•å»å’Œåç«¯å¯¹æ¥ã€‚å…¶å®å¾ˆç®€å•ï¼Œå†™å‡ºæ¥åªæ˜¯æé†’å¤§å®¶å¯ä»¥è¿™ä¹ˆå®ç°ï¼Œå‡å°‘æ€è€ƒä¸è¸©å‘çš„æ—¶é—´ã€‚ä¸‰çº§è”åŠ¨é€‰æ‹©å®Œä¹‹åä¼šè¿”å›åœ°åŒºç¼–ç ï¼Œeg:Array&amp;lt;{code:&#39;110101&#39;,name:&#39;ä¸œåŸåŒº&#39;}&amp;gt;,ç„¶åå»è¯·æ±‚åç«¯çš„æ¥å£å°†åœ°åŒºç¼–ç ä¼ è¿‡å»ï¼Œå°±èƒ½å¾—åˆ°å…¶è¡—é“çš„ç›¸å…³ä¿¡æ¯ï¼Œç„¶åç®€å•è¿‡æ»¤ä¸€ä¸‹ï¼Œæ”¾åœ¨Pickeré€‰æ‹©å™¨ä¸­å°±å¯ä»¥å®ç°ã€‚æ¥ä¸‹æ¥å°±å¯ä»¥å†™ä¸šåŠ¡é€»è¾‘äº†ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;13ioså†…webviewä¸­vueé¡¹ç›®ä¼šå‡ºç°å¤§å—ç™½è‰²é®ç½©\&#34;&gt;13.ioså†…webviewä¸­vueé¡¹ç›®ä¼šå‡ºç°å¤§å—ç™½è‰²é®ç½©&lt;/h3&gt;\n&lt;p&gt;é—®é¢˜æè¿°ï¼š&lt;/p&gt;\n&lt;p&gt;Aé¡µé¢â€”â€”&amp;gt;Bé¡µé¢â€”â€”&amp;gt;iosè‡ªå¸¦çš„è¿”å›â€”â€”&amp;gt;ç™½å±å‡ºç°(åƒä¸ªé­”é¬¼)â€”â€”&amp;gt;ç‚¹å‡»æˆ–æ»‘åŠ¨é¡µé¢â€”â€”&amp;gt;é—®é¢˜è§£å†³&lt;/p&gt;\n&lt;p&gt;åŸå› æ˜¯ï¼Œç»è¿‡æ’æŸ¥ï¼Œå‘ç°åœ¨ios æœºå™¨ä¸Šä½¿ç”¨webview å¼€å‘Vueé¡¹ç›®æ—¶å€™ï¼Œgo history (-1)ï¼Œæ— æ³•å°†body çš„é«˜åº¦æ‹‰æ‰ï¼Œä½¿å¾—é®ä½ï¼Œè§¦å‘è½»ç‚¹å‡»ï¼Œæ–¹å¯æ¶ˆé™¤è¯¥é®ç½©&lt;/p&gt;\n&lt;p&gt;è§£å†³çš„ç†è®ºï¼šç”¨äºæœ€é‡è¦çš„html å®¹å™¨æ˜¯containerï¼Œç„¶è€Œå› ä¸ºè®¾ç½®htmlã€bodyé«˜åº¦æ˜¯100%ï¼Œä»è€Œé€ æˆäº† container æ’‘å¼€çˆ¶çº§ï¼Œä½†æµè§ˆå™¨é»˜è®¤æ»šåŠ¨çš„scroll å¹¶ä¸æ˜¯ containerï¼Œè€Œæ˜¯bodyï¼ŒæŸäº›å› ç´ ï¼Œé€ æˆè¿”å›history åï¼Œæ— æ³•å¤åŸï¼ˆios çš„é”…ï¼‰ï¼Œä¸ºæ­¤ï¼Œå°† container(app.vueä¸­åŒ…è£¹çš„divï¼Œä¹Ÿå¯ä»¥æ˜¯#app) è¿›è¡Œäº†ç»å¯¹å®šä½ï¼Œå¹¶è®©å®ƒé‡æ–°æˆä¸º scroll çš„å¯¹è±¡ï¼Œä»è€Œè§£å†³é—®é¢˜ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;html, body {\n\n width: 100%;\n\n height: 100%;\n min-height: 100vh;\n\n margin: 0;\n\n padding: 0;\n\n position: relative;\n\n}\n\n.container {\n\n width: 100%;\n\nheight: 100vh;\n min-height: 100vh;\n\n background: #fff;\n\n overflow: scroll;\n\n -webkit-overflow-scrolling: touch;\n\n position: absolute;\n\n left:0;\n\n top:0;\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;14åœ¨iosä¸Šaé¡µé¢åˆ†äº«æœ‹å‹åœˆä¹‹åè·³è½¬åˆ°-b-é¡µé¢æˆ–è¿›è¡Œåˆ«çš„æ“ä½œ\&#34;&gt;14.åœ¨iosä¸ŠAé¡µé¢åˆ†äº«æœ‹å‹åœˆä¹‹åï¼Œè·³è½¬åˆ° B é¡µé¢ï¼ˆæˆ–è¿›è¡Œåˆ«çš„æ“ä½œï¼‰&lt;/h3&gt;\n&lt;p&gt;æ³¨ï¼šç¦»å¼€ appçš„ A é¡µé¢å»å¾®ä¿¡ï¼Œå†æ¬¡å›åˆ° app çš„æ—¶å€™è·³è½¬åˆ° B é¡µé¢&lt;/p&gt;\n&lt;p&gt;visibilitychangeï¼šå½“ç”¨æˆ·æœ€å°åŒ–çª—å£æˆ–è€…åˆ‡æ¢é€‰é¡¹å¡çš„æ—¶å€™ï¼Œapi å°±ä¼šå‘é€visibilitychangeäº‹ä»¶ï¼Œè®©å¼€å‘è€…çŸ¥é“é¡µé¢çŠ¶æ€å·²æ›´æ”¹ã€‚ä½ å¯ä»¥æ£€æµ‹äº‹ä»¶å¹¶æ‰§è¡ŒæŸäº›æ“ä½œæˆ–è¡Œä¸ºã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;//è¿™ä¸ªæ–¹æ³•åœ¨åˆ†äº«è¢«è§¦å‘çš„æ—¶å€™æ‰§è¡Œ\ninitVisibilityChange() {\n      if (typeof document.visibilityState != &amp;quot;undefined&amp;quot;) {\n        this.visibleChange = &amp;quot;visibilitychange&amp;quot;;\n        this.vibibleState = &amp;quot;visibilityState&amp;quot;;\n      } else if (\n        typeof (document as any).webkitVisibilityState != &amp;quot;undefined&amp;quot;\n      ) {\n        this.visibleChange = &amp;quot;webkitvisibilitychange&amp;quot;;\n        this.vibibleState = &amp;quot;webkitVisibilityState&amp;quot;;\n      }\n      if (this.visibleChange) {\n        document.addEventListener(\n          this.visibleChange,\n          this.onVisibilityChanged,\n          false\n        );\n      }\n    },\n      /**\n     * ä»å¾®ä¿¡è¿”å›appå¯ä»¥åœ¨è¿™é‡Œé¢å¤„ç†äº‹æƒ…\n     */\n    onVisibilityChanged(event: any) {\n      var hidden = event.target.webkitHidden;\n      if ((document as any)[this.vibibleState] == &amp;quot;visible&amp;quot;) {\n          this.goRun(); // åšè‡ªå·±éœ€è¦çš„é€»è¾‘å¤„ç†\n          this.removeVisibilityChange();\n      }\n    },\n     // ç§»é™¤appåå°ç›‘å¬äº‹ä»¶\n    removeVisibilityChange() {\n      document.removeEventListener(\n        this.visibleChange,\n        this.onVisibilityChanged,\n        false\n      );\n    },\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;15-ä»vueé¡µé¢è·³è½¬åˆ°évueé¡µé¢ç‚¹å‡»è¿”å›iosè®¾å¤‡ä¸Šé¡µé¢æ•°æ®ä¸åˆ·æ–°\&#34;&gt;15. ä»vueé¡µé¢è·³è½¬åˆ°évueé¡µé¢ï¼Œç‚¹å‡»è¿”å›ï¼Œiosè®¾å¤‡ä¸Šé¡µé¢æ•°æ®ä¸åˆ·æ–°ã€‚&lt;/h3&gt;\n&lt;p&gt;æ¯”å¦‚Aé¡µé¢å®šä¹‰äº†ä¸€ä¸ªå˜é‡ä¸ºtrueï¼Œç‚¹å‡»è·³è½¬åˆ°évueé¡¹ç›®é¡µé¢ï¼ˆphpï¼‰ï¼Œç‚¹å‡»è¿”å›ï¼ŒæŸ¥çœ‹è¿™ä¸ªå˜é‡ï¼Œåœ¨å®‰å“ä¸Šä¾ç„¶ä¸ºtureï¼Œä½†æ˜¯åœ¨iosä¸Šå°±å˜æˆäº†falseã€‚&lt;/p&gt;\n&lt;p&gt;è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;window.onpageshow=function(e){\nã€€ã€€if(e.persisted) {\nã€€ã€€ã€€ã€€window.location.reload()\nã€€ã€€}\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;16-appç‚¹å‡»è‡ªå¸¦è¿”å›æŒ‰é’®å…³é—­é¡µé¢ä»¥åŠç¦ç”¨è¿”å›çš„è¸©å‘è®°å½•\&#34;&gt;16. appç‚¹å‡»è‡ªå¸¦è¿”å›æŒ‰é’®å…³é—­é¡µé¢ä»¥åŠç¦ç”¨è¿”å›çš„è¸©å‘è®°å½•&lt;/h3&gt;\n&lt;p&gt;http://note.youdao.com/s/4qUINhV0 ï¼ˆæ¯”è¾ƒå¤šï¼Œæœ‰é“äº‘é“¾æ¥å‘å‡ºæ¥ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ï¼‰&lt;/p&gt;\n&lt;h3 id=\&#34;17-wxchooseimageæ–¹æ³•åœ¨å®‰å“ä¸iosä¸Šå–åˆ°çš„base64æ ¼å¼ä¸ä¸€æ ·å®‰å“æ²¡æœ‰dataimagejpgbase64å‰ç¼€éœ€è¦å•ç‹¬å¤„ç†\&#34;&gt;17. wx.chooseImageæ–¹æ³•åœ¨å®‰å“ä¸iosä¸Šå–åˆ°çš„base64æ ¼å¼ä¸ä¸€æ ·ï¼Œå®‰å“æ²¡æœ‰data:image/jpg;base64å‰ç¼€ï¼Œéœ€è¦å•ç‹¬å¤„ç†&lt;/h3&gt;\n&lt;h3 id=\&#34;18-æ‰‹æœºå†…h5ç‚¹å‡»inputæ— æ³•å”¤èµ·è‡ªå¸¦é”®ç›˜å¯ä»¥ç»™inputæ·»åŠ clickäº‹ä»¶æ‰‹åŠ¨è§¦å‘focusäº‹ä»¶\&#34;&gt;18. æ‰‹æœºå†…h5ç‚¹å‡»inputæ— æ³•å”¤èµ·è‡ªå¸¦é”®ç›˜ï¼šå¯ä»¥ç»™inputæ·»åŠ clickäº‹ä»¶æ‰‹åŠ¨è§¦å‘focusäº‹ä»¶ã€‚&lt;/h3&gt;\n&lt;h3 id=\&#34;19-canvasç»˜åˆ¶åœ†è§’çŸ©å½¢æ–¹æ³•\&#34;&gt;19. canvasç»˜åˆ¶åœ†è§’çŸ©å½¢æ–¹æ³•&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;// xã€yã€wã€hä¸canvasçš„rectæ–¹æ³•å‚æ•°ç›¸åŒ\n//rä»£è¡¨åœ†è§’å¤§å°ï¼Œ1ã€2ã€3ã€4åˆ†åˆ«ä»£è¡¨ä¸Šå·¦ã€ä¸Šå³ã€ä¸‹å³ã€ä¸‹å·¦\nfunction drawRoundRect(ctx, x, y, w, h, r1, r2, r3, r4) {\n  ctx.beginPath()\n  ctx.moveTo(x + r1, y)\n  ctx.arcTo(x + w, y, x + w, y + h, r2)\n  ctx.arcTo(x + w, y + h, x, y + h, r3)\n  ctx.arcTo(x, y + h, x, y, r4)\n  ctx.arcTo(x, y, x + w, y, r1)\n  ctx.closePath()\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;20-postå¯¼å‡ºæ–‡ä»¶å¤„ç†\&#34;&gt;20. POSTå¯¼å‡ºæ–‡ä»¶å¤„ç†&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;fetchè¯·æ±‚æ–¹æ³•ä¸­ï¼Œå¢åŠ ç±»å‹å¤„ç†ï¼Œé¢„è®¾è¯·æ±‚ä¼ å…¥å­—æ®µæ§åˆ¶ï¼Œè¿”å›ä¸ºï¼šresponse.blob()ï¼›&lt;/li&gt;\n&lt;li&gt;è¿”å›å€¼å¤„ç†ï¼š&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code&gt;const blob = new Blob([data], {type: &amp;quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&amp;quot;})\n    const a = document.createElement(&amp;quot;a&amp;quot;);\n    const filename ={\n      exportDetail: &#39;æ¨å¹¿äººå‘˜ç”¨æˆ·æ˜ç»†&#39;,\n      exportRecord: &#39;æ¨å¹¿äººå‘˜è·Ÿè¿›è®°å½•æ˜ç»†&#39;\n    }\n    a.href = URL.createObjectURL(data)\n    a.download = filename[type] // è¿™é‡Œå¡«ä¿å­˜æˆçš„æ–‡ä»¶å\n    a.click()\n    URL.revokeObjectURL(a.href)\nã€€ã€€ a.remove();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;21-è§£å†³cssç€‘å¸ƒæµåªèƒ½ç«–å‘å±•ç¤ºé—®é¢˜éæ’åæˆ–æ’åºæ—¶å¯ç”¨\&#34;&gt;21. è§£å†³cssç€‘å¸ƒæµåªèƒ½ç«–å‘å±•ç¤ºé—®é¢˜(éæ’åæˆ–æ’åºæ—¶å¯ç”¨)&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-css\&#34;&gt;// çˆ¶å…ƒç´ \ncolumn-count: 2;\nwidth: 100%;\n// å­å…ƒç´ \nbreak-inside: avoid;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const oldList = lists;\nconst newList = [].concat(\n  ...Array.from(\n    oldList.reduce(\n      (total, cur, index) =&amp;gt; {\n        total[index % 2].push(cur);\n        return total;\n      },\n      { 0: [], 1: [], length: 2 }\n    )\n  )\n);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;22-mpvueçš„å‘\&#34;&gt;22. mpvueçš„å‘&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;ä¸€å®šè¦éµå¾ªmpvueå®˜æ–¹æ–‡æ¡£å»ºè®®ï¼Œä¸è¦å°†v-forç”¨åœ¨ç»„ä»¶ä¸Šé¢ï¼Œæˆ–è€…åœ¨v-forå†…åµŒå¥—ç»„ä»¶ï¼Œè¿™æ ·æˆå€å¢åŠ wx.setDataçš„æ•°æ®é‡&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;åœ¨å¼€å‘ä¸Šæ‹‰åŠ è½½æ›´å¤šçš„éœ€æ±‚æ—¶ä¸è¦ä½¿ç”¨å°ç¨‹åºåŸç”Ÿçš„scroll-viewï¼Œç›´æ¥ä½¿ç”¨pageçš„onReachBottomäº‹ä»¶&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ä½¿ç”¨swiperæ—¶ï¼Œä¸è¦åµŒå¥—è¿‡å¤šswiper-itemï¼Œä¸è¦åœ¨swiper-itemä¸­æ”¾å…¥å¤ªå¤šå…ƒç´ ï¼Œæœ‰ç€‘å¸ƒæµç­‰æ— é™åŠ è½½åˆ—è¡¨éœ€æ±‚æ—¶ï¼Œç¦æ­¢ä½¿ç”¨swiperï¼Œä¼šå¯¼è‡´å°ç¨‹åºå¡æ­»é—ªé€€&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;slotåªèƒ½ä½¿ç”¨åŒ¿åï¼Œå…·åslotåŠscoped slotä¸èƒ½ä½¿ç”¨&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;åœ¨å®šä¹‰ç»„ä»¶dataæ—¶ï¼Œä¸è¦å°†ä¸viewæ— å…³çš„æ•°æ®å®šä¹‰åˆ°dataä¸­ï¼Œç›´æ¥å®šä¹‰åˆ°å¤–éƒ¨ï¼Œç‰¹åˆ«æ—¶ç›‘å¬scrolläº‹ä»¶çš„æ—¶å€™&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;wxå¯¹è±¡çš„æ–¹æ³•å…¨éƒ¨éƒ½æŒ‚åœ¨mpvueå¯¹è±¡ä¸‹ï¼Œä¸éœ€è¦ç›´æ¥è°ƒç”¨wxçš„æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯åœ¨å…¼å®¹h5çš„æ—¶å€™&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;button open-typeæ˜¯è·å–ç”¨æˆ·æ‰‹æœºå·ç­‰éœ€è¦ç»‘å®šäº‹ä»¶çš„ç±»å‹æ—¶ï¼Œä¸è¦ä½¿ç”¨click.stopæˆ–catch:tapï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸ä¼šè§¦å‘è·å–ç”¨æˆ·æ‰‹æœºå·çš„å›è°ƒæ–¹æ³•&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ‰€æœ‰ç»„ä»¶çš„createdç”Ÿå‘½å‘¨æœŸåªåœ¨å°ç¨‹åºåŠ è½½çš„æ—¶å€™ç»Ÿä¸€æ‰§è¡Œï¼Œå³ä½¿ä½¿ç”¨äº†v-ifä¹Ÿä¸èƒ½åœ¨æ¯æ¬¡åŠ è½½ç»„ä»¶çš„æ—¶å€™è§¦å‘&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¦‚æœè¦è‡ªå®šä¹‰tabbaræœ€å¥½è‡ªå·±å®ç°ä¸€ä¸ªï¼Œä¸è¦ä½¿ç”¨åŸç”Ÿçš„customå®šä¹‰ï¼ŒåŸç”Ÿcustomé™åˆ¶å¤ªå¤šä¸”ä¸èƒ½ä½¿ç”¨mpvueå®ç°&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;23-taro-hookså­ç»„ä»¶æ¡ä»¶æ¸²æŸ“\&#34;&gt;23. Taro hookså­ç»„ä»¶æ¡ä»¶æ¸²æŸ“&lt;/h3&gt;\n&lt;p&gt;è‹¥æ˜¯å¸Œæœ›å­ç»„ä»¶propsæœªè¢«é‡æ–°èµ‹å€¼çš„æƒ…å†µä¸‹ä¸æ¸²æŸ“ï¼Œä½¿ç”¨memoåŒ…è£¹ï¼Œå®ƒå®ç°äº†classä¸­PureComponentçš„æ•ˆæœï¼Œæµ…æ¯”è¾ƒäº†ä¸€æ¬¡ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// å­ç»„ä»¶\nimport Taro, { memo } from &amp;quot;@tarojs/taro&amp;quot;;\nimport { View } from &amp;quot;@tarojs/components&amp;quot;;\n \nconst Index = ({ data }) =&amp;gt; {\n  return (\n    &amp;lt;View&amp;gt;\n      {console.log(&amp;quot;Test -- rander2&amp;quot;, data)}\n      {data.map((item, index) =&amp;gt; {\n        return &amp;lt;View key={index}&amp;gt;{item}&amp;lt;/View&amp;gt;;\n      })}\n    &amp;lt;/View&amp;gt;\n  );\n};\n \nexport default memo(Index);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è‹¥æ˜¯å¸Œæœ›åœ¨æŸäº›ç‰¹å®šçš„propæ”¹å˜çš„æ—¶å€™æ›´æ–°å­ç»„ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// utils\nimport Taro from &amp;quot;@tarojs/taro&amp;quot;;\n \n/**\n  * å­ç»„ä»¶æ¡ä»¶æ¸²æŸ“\n  * @param {Function} render - è¦æ¸²æŸ“çš„ç»„ä»¶å‡½æ•°\n  * @param {Array}  observe - æ¸²æŸ“ä¾æ®ï¼Œä»propsæ¥æ”¶çš„æ•°æ®keyï¼Œ\n  */\nexport const compareRender = (render, observe=[]) =&amp;gt; {\n  const compare = (prevProps, nextProps) =&amp;gt; {\n    let keep = true;\n    for (let i = 0; i &amp;lt; observe.length; i++) {\n      if (prevProps[observe[i]] !== nextProps[observe[i]]) {\n        keep = false;\n        break;\n      }\n    }\n    return keep;\n  };\n  return Taro.memo(render, compare);\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;// å­ç»„ä»¶\nimport Taro from &amp;quot;@tarojs/taro&amp;quot;;\nimport { View } from &amp;quot;@tarojs/components&amp;quot;;\n \nimport { compareRender } from &amp;quot;@utils&amp;quot;;\n \nconst Index = ({ data }) =&amp;gt; {\n  return (\n    &amp;lt;View&amp;gt;\n      {console.log(&amp;quot;Test -- rander&amp;quot;, data)}\n      {data.map((item, index) =&amp;gt; {\n        return &amp;lt;View key={index}&amp;gt;{item}&amp;lt;/View&amp;gt;;\n      })}\n    &amp;lt;/View&amp;gt;\n  );\n};\n \nexport default compareRender(Index, [&amp;quot;data&amp;quot;]);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;24-å…³äºåœ¨dvaå‰¯ä½œç”¨ä¸­å¤šä¸ªè¯·æ±‚åŒæ­¥æ‰§è¡Œçš„ä¼˜åŒ–\&#34;&gt;24. å…³äºåœ¨dvaå‰¯ä½œç”¨ä¸­å¤šä¸ªè¯·æ±‚åŒæ­¥æ‰§è¡Œçš„ä¼˜åŒ–&lt;/h3&gt;\n&lt;p&gt;ç»æµ‹è¯•ï¼š&lt;br&gt;\nconst res1 = yield call(req1); const res2 = yield call (req2); const res3 = yield call (req3);  ä¸‰ä¸ªè¯·æ±‚åŒæ­¥æ‰§è¡Œï¼Œå¹³å‡è€—æ—¶å¤§çº¦ä¸º120msï¼Œé¡µé¢åŠ è½½ã€æ•°æ®ç­‰å¾…æ—¶é—´è¾ƒé•¿ã€‚&lt;br&gt;\nä¼˜åŒ–ï¼š&lt;br&gt;\nconst [ res1, res2, res3] =  yield [ call(req1), call(req2), call(req3) ],  å¹¶å‘è¯·æ±‚ï¼Œå¹³å‡è€—æ—¶å¤§çº¦ä¸º20ms&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;c-duan-h5-huo-xiao-cheng-xu-chang-jian-wen-ti-zong-jie&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Cç«¯H5æˆ–å°ç¨‹åºå¸¸è§é—®é¢˜æ€»ç»“&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;H5å¼€å‘&#34;,&#34;slug&#34;:&#34;f3AJuGu9k&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/f3AJuGu9k&#34;}],&#34;date&#34;:&#34;2021-10-13 21:59:28&#34;,&#34;dateFormat&#34;:&#34;2021-10-13&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/c-duan-h5-huo-xiao-cheng-xu-chang-jian-wen-ti-zong-jie&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;12 min read&#34;,&#34;time&#34;:708000,&#34;words&#34;:2848,&#34;minutes&#34;:12},&#34;description&#34;:&#34;å¼€å‘Cç«¯æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ä¸è§£å†³æ–¹æ³•ï¼Œéƒ½è®°å½•ä¸‹æ¥ï¼Œå¸Œæœ›å¯¹ä½ ä¹Ÿæœ‰å¸®åŠ©ã€‚\n1.éƒ¨åˆ†æœºå‹æ‹ç…§ä¸Šä¼ å›¾ç‰‡æ—‹è½¬é—®é¢˜ï¼š\nç›´æ¥ä»å›¾ç‰‡åé¢åŠ å‚æ•°â€˜?x-oss-process=image/auto-orient,1/resize,m_fixedâ€™ï¼ˆåŠ ä¸Šå‚æ•°ä¹‹å...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1%E9%83%A8%E5%88%86%E6%9C%BA%E5%9E%8B%E6%8B%8D%E7%85%A7%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%97%8B%E8%BD%AC%E9%97%AE%E9%A2%98\&#34;&gt;1.éƒ¨åˆ†æœºå‹æ‹ç…§ä¸Šä¼ å›¾ç‰‡æ—‹è½¬é—®é¢˜ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2swiper3d%E4%B8%A4%E8%BE%B9%E7%95%99%E7%99%BD%E6%95%88%E6%9E%9C\&#34;&gt;2.swiper3Dä¸¤è¾¹ç•™ç™½æ•ˆæœï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B7%B3%E8%BD%AC%E5%8D%81%E5%B1%82%E9%99%90%E5%88%B6%E4%B8%8D%E8%A6%81%E4%B8%80%E7%9B%B4%E7%94%A8navigateto%E8%BF%99%E6%A0%B7%E5%B1%9E%E4%BA%8E%E4%B8%80%E7%9B%B4%E5%89%8D%E8%BF%9B%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%E8%B7%B3%E8%BD%AC%E5%9B%9E%E9%A6%96%E9%A1%B5%E6%88%96%E8%80%85%E5%85%B6%E4%BB%96%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8relaunch%E9%80%BB%E8%BE%91%E5%A4%8D%E6%9D%82%E6%97%B6%E5%8F%AF%E8%87%AA%E5%B7%B1%E5%86%99%E9%A1%B6%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%8C%85%E6%8B%AC%E8%BF%94%E5%9B%9E%E6%8C%89%E9%92%AE\&#34;&gt;3.å°ç¨‹åºçš„è·³è½¬åå±‚é™åˆ¶ï¼Œä¸è¦ä¸€ç›´ç”¨navigateToï¼Œè¿™æ ·å±äºä¸€ç›´å‰è¿›ï¼Œå¦‚æœéœ€è¦è·³è½¬å›é¦–é¡µæˆ–è€…å…¶ä»–å¯ä»¥ä½¿ç”¨reLaunchï¼Œé€»è¾‘å¤æ‚æ—¶å¯è‡ªå·±å†™é¡¶éƒ¨å¯¼èˆªæ åŒ…æ‹¬è¿”å›æŒ‰é’®ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4%E4%BF%9D%E5%AD%98%E6%B5%B7%E6%8A%A5%E5%88%B0%E6%9C%AC%E5%9C%B0%E6%8E%A8%E8%8D%90%E4%B8%80%E6%B3%A2%E7%94%9F%E6%88%90%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B5%B7%E6%8A%A5%E7%9A%84%E6%8F%92%E4%BB%B6%E9%9D%9E%E5%B8%B8%E7%AE%80%E5%8D%95%E6%96%B9%E4%BE%BF\&#34;&gt;4.ä¿å­˜æµ·æŠ¥åˆ°æœ¬åœ°ï¼šæ¨èä¸€æ³¢ç”Ÿæˆå°ç¨‹åºæµ·æŠ¥çš„æ’ä»¶ï¼Œéå¸¸ç®€å•æ–¹ä¾¿&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5input%E5%85%89%E6%A0%87%E6%B0%B8%E8%BF%9C%E5%81%9C%E7%95%99%E5%9C%A8%E6%9C%80%E5%90%8E\&#34;&gt;5.inputå…‰æ ‡æ°¸è¿œåœç•™åœ¨æœ€åï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#6%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E7%94%A8%E6%88%B7%E5%AE%9A%E4%BD%8D%E7%94%A8%E6%88%B7%E7%9B%B8%E5%86%8C%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E7%AD%89%E6%97%B6%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%8B%92%E7%BB%9D%E6%97%B6%E7%9A%84%E6%83%85%E5%86%B5-%E7%94%9F%E6%88%90%E6%B5%B7%E6%8A%A5%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9B%B8%E5%86%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A6%82%E6%9E%9C%E7%94%A8%E6%88%B7%E5%9C%A8%E6%8E%88%E6%9D%83%E7%9A%84%E6%97%B6%E5%80%99%E7%82%B9%E5%87%BB%E4%BA%86%E6%8B%92%E7%BB%9D%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%85%BC%E5%AE%B9%E6%8B%92%E7%BB%9D%E6%8E%88%E6%9D%83%E5%88%99%E7%9B%B4%E6%8E%A5%E7%94%9F%E6%88%90%E5%A4%B1%E8%B4%A5\&#34;&gt;6.å°ç¨‹åºè·å–ç”¨æˆ·æˆæƒï¼ˆç”¨æˆ·ä¿¡æ¯/ç”¨æˆ·å®šä½/ç”¨æˆ·ç›¸å†Œè®¿é—®æƒé™ç­‰ï¼‰æ—¶éœ€è¦å¤„ç†æ‹’ç»æ—¶çš„æƒ…å†µã€‚ç”Ÿæˆæµ·æŠ¥åˆ°è‡ªå·±ç›¸å†Œçš„æ—¶å€™å¦‚æœç”¨æˆ·åœ¨æˆæƒçš„æ—¶å€™ç‚¹å‡»äº†æ‹’ç»ï¼Œå¦‚æœä¸å…¼å®¹æ‹’ç»æˆæƒåˆ™ç›´æ¥ç”Ÿæˆå¤±è´¥ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#7%E7%9B%91%E5%90%AC%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%94%AE%E7%9B%98%E5%BC%B9%E5%87%BA%E5%92%8C%E6%94%B6%E8%B5%B7%E4%BA%8B%E4%BB%B6\&#34;&gt;7.ç›‘å¬ç§»åŠ¨ç«¯é”®ç›˜å¼¹å‡ºå’Œæ”¶èµ·äº‹ä»¶ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#8%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%BF%94%E5%9B%9E%E4%B8%8A%E4%B8%80%E9%A1%B5windowlocationback%E5%A4%B1%E6%95%88\&#34;&gt;8.ç§»åŠ¨ç«¯ä»£ç è¿”å›ä¸Šä¸€é¡µï¼ˆwindow.location.back()å¤±æ•ˆï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#9%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E8%B7%B3%E8%BD%AC%E8%B7%AF%E7%94%B1%E4%B9%8B%E5%90%8E%E5%86%8D%E6%AC%A1%E4%BD%BF%E7%94%A8echarts%E6%97%B6%E4%B8%8D%E5%B1%95%E7%A4%BA\&#34;&gt;9.å•é¡µé¢åº”ç”¨è·³è½¬è·¯ç”±ä¹‹åå†æ¬¡ä½¿ç”¨echartsæ—¶ä¸å±•ç¤º&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#10-%E8%A7%86%E9%A2%91%E9%BB%91%E8%BE%B9%E9%97%AE%E9%A2%98\&#34;&gt;10. è§†é¢‘é»‘è¾¹é—®é¢˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#11-%E6%89%8B%E6%9C%BA%E9%94%81%E5%B1%8F%E6%97%B6%E5%80%92%E8%AE%A1%E6%97%B6%E5%81%9C%E6%AD%A2\&#34;&gt;11. æ‰‹æœºé”å±æ—¶å€’è®¡æ—¶åœæ­¢&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#12%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%AE%9E%E7%8E%B0%E7%9C%81-%E5%B8%82-%E5%8C%BA-%E8%A1%97%E9%81%93%E5%9B%9B%E7%BA%A7%E8%81%94%E5%8A%A8\&#34;&gt;12.ç§»åŠ¨ç«¯å®ç°çœ-å¸‚-åŒº-è¡—é“å››çº§è”åŠ¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#13ios%E5%86%85webview%E4%B8%ADvue%E9%A1%B9%E7%9B%AE%E4%BC%9A%E5%87%BA%E7%8E%B0%E5%A4%A7%E5%9D%97%E7%99%BD%E8%89%B2%E9%81%AE%E7%BD%A9\&#34;&gt;13.ioså†…webviewä¸­vueé¡¹ç›®ä¼šå‡ºç°å¤§å—ç™½è‰²é®ç½©&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#14%E5%9C%A8ios%E4%B8%8Aa%E9%A1%B5%E9%9D%A2%E5%88%86%E4%BA%AB%E6%9C%8B%E5%8F%8B%E5%9C%88%E4%B9%8B%E5%90%8E%E8%B7%B3%E8%BD%AC%E5%88%B0-b-%E9%A1%B5%E9%9D%A2%E6%88%96%E8%BF%9B%E8%A1%8C%E5%88%AB%E7%9A%84%E6%93%8D%E4%BD%9C\&#34;&gt;14.åœ¨iosä¸ŠAé¡µé¢åˆ†äº«æœ‹å‹åœˆä¹‹åï¼Œè·³è½¬åˆ° B é¡µé¢ï¼ˆæˆ–è¿›è¡Œåˆ«çš„æ“ä½œï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#15-%E4%BB%8Evue%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E5%88%B0%E9%9D%9Evue%E9%A1%B5%E9%9D%A2%E7%82%B9%E5%87%BB%E8%BF%94%E5%9B%9Eios%E8%AE%BE%E5%A4%87%E4%B8%8A%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%88%B7%E6%96%B0\&#34;&gt;15. ä»vueé¡µé¢è·³è½¬åˆ°évueé¡µé¢ï¼Œç‚¹å‡»è¿”å›ï¼Œiosè®¾å¤‡ä¸Šé¡µé¢æ•°æ®ä¸åˆ·æ–°ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#16-app%E7%82%B9%E5%87%BB%E8%87%AA%E5%B8%A6%E8%BF%94%E5%9B%9E%E6%8C%89%E9%92%AE%E5%85%B3%E9%97%AD%E9%A1%B5%E9%9D%A2%E4%BB%A5%E5%8F%8A%E7%A6%81%E7%94%A8%E8%BF%94%E5%9B%9E%E7%9A%84%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95\&#34;&gt;16. appç‚¹å‡»è‡ªå¸¦è¿”å›æŒ‰é’®å…³é—­é¡µé¢ä»¥åŠç¦ç”¨è¿”å›çš„è¸©å‘è®°å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#17-wxchooseimage%E6%96%B9%E6%B3%95%E5%9C%A8%E5%AE%89%E5%8D%93%E4%B8%8Eios%E4%B8%8A%E5%8F%96%E5%88%B0%E7%9A%84base64%E6%A0%BC%E5%BC%8F%E4%B8%8D%E4%B8%80%E6%A0%B7%E5%AE%89%E5%8D%93%E6%B2%A1%E6%9C%89dataimagejpgbase64%E5%89%8D%E7%BC%80%E9%9C%80%E8%A6%81%E5%8D%95%E7%8B%AC%E5%A4%84%E7%90%86\&#34;&gt;17. wx.chooseImageæ–¹æ³•åœ¨å®‰å“ä¸iosä¸Šå–åˆ°çš„base64æ ¼å¼ä¸ä¸€æ ·ï¼Œå®‰å“æ²¡æœ‰data:image/jpg;base64å‰ç¼€ï¼Œéœ€è¦å•ç‹¬å¤„ç†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#18-%E6%89%8B%E6%9C%BA%E5%86%85h5%E7%82%B9%E5%87%BBinput%E6%97%A0%E6%B3%95%E5%94%A4%E8%B5%B7%E8%87%AA%E5%B8%A6%E9%94%AE%E7%9B%98%E5%8F%AF%E4%BB%A5%E7%BB%99input%E6%B7%BB%E5%8A%A0click%E4%BA%8B%E4%BB%B6%E6%89%8B%E5%8A%A8%E8%A7%A6%E5%8F%91focus%E4%BA%8B%E4%BB%B6\&#34;&gt;18. æ‰‹æœºå†…h5ç‚¹å‡»inputæ— æ³•å”¤èµ·è‡ªå¸¦é”®ç›˜ï¼šå¯ä»¥ç»™inputæ·»åŠ clickäº‹ä»¶æ‰‹åŠ¨è§¦å‘focusäº‹ä»¶ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#19-canvas%E7%BB%98%E5%88%B6%E5%9C%86%E8%A7%92%E7%9F%A9%E5%BD%A2%E6%96%B9%E6%B3%95\&#34;&gt;19. canvasç»˜åˆ¶åœ†è§’çŸ©å½¢æ–¹æ³•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#20-post%E5%AF%BC%E5%87%BA%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86\&#34;&gt;20. POSTå¯¼å‡ºæ–‡ä»¶å¤„ç†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#21-%E8%A7%A3%E5%86%B3css%E7%80%91%E5%B8%83%E6%B5%81%E5%8F%AA%E8%83%BD%E7%AB%96%E5%90%91%E5%B1%95%E7%A4%BA%E9%97%AE%E9%A2%98%E9%9D%9E%E6%8E%92%E5%90%8D%E6%88%96%E6%8E%92%E5%BA%8F%E6%97%B6%E5%8F%AF%E7%94%A8\&#34;&gt;21. è§£å†³cssç€‘å¸ƒæµåªèƒ½ç«–å‘å±•ç¤ºé—®é¢˜(éæ’åæˆ–æ’åºæ—¶å¯ç”¨)&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#22-mpvue%E7%9A%84%E5%9D%91\&#34;&gt;22. mpvueçš„å‘&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#23-taro-hooks%E5%AD%90%E7%BB%84%E4%BB%B6%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93\&#34;&gt;23. Taro hookså­ç»„ä»¶æ¡ä»¶æ¸²æŸ“&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#24-%E5%85%B3%E4%BA%8E%E5%9C%A8dva%E5%89%AF%E4%BD%9C%E7%94%A8%E4%B8%AD%E5%A4%9A%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%90%8C%E6%AD%A5%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BC%98%E5%8C%96\&#34;&gt;24. å…³äºåœ¨dvaå‰¯ä½œç”¨ä¸­å¤šä¸ªè¯·æ±‚åŒæ­¥æ‰§è¡Œçš„ä¼˜åŒ–&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;a href=\&#34;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new\&#34;&gt;MDN new&lt;/a&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;ä¸€-newçš„ä»‹ç»\&#34;&gt;ä¸€ã€newçš„ä»‹ç»&lt;/h3&gt;\n&lt;p&gt;newæ˜¯å¹²ä»€ä¹ˆçš„ï¼š&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;new è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;ä½¿ç”¨newå¯ä»¥å°‘åšå››ä»¶äº‹æƒ…ï¼š&lt;/p&gt;\n&lt;p&gt;ä¸ç”¨åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼ˆä½ ä½¿ç”¨ã€Œthisã€å°±å¯ä»¥è®¿é—®åˆ°ä¸´æ—¶å¯¹è±¡ï¼‰ï¼›&lt;br&gt;\nä¸ç”¨ç»‘å®šåŸå‹ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼ˆnew ä¸ºäº†çŸ¥é“åŸå‹åœ¨å“ªï¼Œæ‰€ä»¥æŒ‡å®šåŸå‹çš„åå­—ä¸º prototypeï¼‰ï¼›&lt;br&gt;\nä¸ç”¨ return ä¸´æ—¶å¯¹è±¡ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼›&lt;br&gt;\nä¸è¦ç»™åŸå‹æƒ³åå­—äº†ï¼Œå› ä¸º new æŒ‡å®šåå­—ä¸º prototypeã€‚&lt;/p&gt;\n&lt;p&gt;new å…³é”®å­—ä¼šè¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š&lt;/p&gt;\n&lt;p&gt;åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•JavaScriptå¯¹è±¡ï¼ˆå³{}ï¼‰ï¼›&lt;br&gt;\nä¸ºæ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡æ·»åŠ å±æ€§__proto__ï¼Œå°†è¯¥å±æ€§é“¾æ¥è‡³æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ ï¼›&lt;br&gt;\nå°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ ï¼›&lt;br&gt;\nå¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚&lt;br&gt;\nï¼ˆè¯‘æ³¨ï¼šå…³äºå¯¹è±¡çš„ constructorï¼Œå‚è§ Object.prototype.constructorï¼‰&lt;/p&gt;\n&lt;p&gt;åˆ›å»ºä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„å¯¹è±¡éœ€è¦ä¸¤æ­¥ï¼š&lt;/p&gt;\n&lt;p&gt;é€šè¿‡ç¼–å†™å‡½æ•°æ¥å®šä¹‰å¯¹è±¡ç±»å‹ã€‚&lt;br&gt;\né€šè¿‡ new æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚&lt;br&gt;\nåˆ›å»ºä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…¶åç§°å’Œå±æ€§çš„å‡½æ•°ï¼›å¯¹è±¡çš„å±æ€§å¯ä»¥æŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;\n&lt;p&gt;å½“ä»£ç  new Foo(...) æ‰§è¡Œæ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹äº‹æƒ…ï¼š&lt;/p&gt;\n&lt;p&gt;ä¸€ä¸ªç»§æ‰¿è‡ª Foo.prototype çš„æ–°å¯¹è±¡è¢«åˆ›å»ºã€‚&lt;br&gt;\nä½¿ç”¨æŒ‡å®šçš„å‚æ•°è°ƒç”¨æ„é€ å‡½æ•° Fooï¼Œå¹¶å°† this ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚new Foo ç­‰åŒäº new Foo()ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æŒ‡å®šå‚æ•°åˆ—è¡¨ï¼ŒFoo ä¸å¸¦ä»»ä½•å‚æ•°è°ƒç”¨çš„æƒ…å†µã€‚&lt;br&gt;\nç”±æ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡å°±æ˜¯ new è¡¨è¾¾å¼çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ­¥éª¤1åˆ›å»ºçš„å¯¹è±¡ã€‚ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ„é€ å‡½æ•°ä¸è¿”å›å€¼ï¼Œä½†æ˜¯ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸»åŠ¨è¿”å›å¯¹è±¡ï¼Œæ¥è¦†ç›–æ­£å¸¸çš„å¯¹è±¡åˆ›å»ºæ­¥éª¤ï¼‰&lt;br&gt;\nä½ å§‹ç»ˆå¯ä»¥å¯¹å·²å®šä¹‰çš„å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ã€‚ä¾‹å¦‚ï¼Œcar1.color = &amp;quot;black&amp;quot; è¯­å¥ç»™ car1 æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å±æ€§ colorï¼Œå¹¶ç»™è¿™ä¸ªå±æ€§èµ‹å€¼ &amp;quot;black&amp;quot;ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ä¼šå½±å“ä»»ä½•å…¶ä»–å¯¹è±¡ã€‚è¦å°†æ–°å±æ€§æ·»åŠ åˆ°ç›¸åŒç±»å‹çš„æ‰€æœ‰å¯¹è±¡ï¼Œä½ å¿…é¡»å°†è¯¥å±æ€§æ·»åŠ åˆ° Car å¯¹è±¡ç±»å‹çš„å®šä¹‰ä¸­ã€‚&lt;/p&gt;\n&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ Function.prototype å±æ€§å°†å…±äº«å±æ€§æ·»åŠ åˆ°ä»¥å‰å®šä¹‰çš„å¯¹è±¡ç±»å‹ã€‚è¿™å®šä¹‰äº†ä¸€ä¸ªç”±è¯¥å‡½æ•°åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡å…±äº«çš„å±æ€§ï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹è±¡ç±»å‹çš„å…¶ä¸­ä¸€ä¸ªå®ä¾‹ã€‚ä¸‹é¢çš„ä»£ç å°†ä¸€ä¸ªå€¼ä¸º null çš„ color å±æ€§æ·»åŠ åˆ° car ç±»å‹çš„æ‰€æœ‰å¯¹è±¡ï¼Œç„¶åä»…åœ¨å®ä¾‹å¯¹è±¡ car1 ä¸­ç”¨å­—ç¬¦ä¸² &amp;quot;black&amp;quot; è¦†ç›–è¯¥å€¼&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;function Car() {}\ncar1 = new Car();\ncar2 = new Car();\n\nconsole.log(car1.color);    // undefined\n\nCar.prototype.color = &amp;quot;original color&amp;quot;;\nconsole.log(car1.color);    // original color\n\ncar1.color = &#39;black&#39;;\nconsole.log(car1.color);   // black\n\nconsole.log(car1.__proto__.color) //original color\nconsole.log(car2.__proto__.color) //original color\nconsole.log(car1.color)  // black\nconsole.log(car2.color) // original color\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ new è¿ç®—ç¬¦ï¼Œ æ„é€ å‡½æ•°ä¼šåƒå…¶ä»–çš„å¸¸è§„å‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼Œ å¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ this çš„æŒ‡å‘ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;äºŒ-è‡ªå®šä¹‰ä¸€ä¸ªnew\&#34;&gt;äºŒã€è‡ªå®šä¹‰ä¸€ä¸ªnew&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;  // æ„é€ å™¨å‡½æ•°\n  let Parent = function (name, age) {\n    this.name = name;\n    this.age = age;\n  };\n  Parent.prototype.sayName = function () {\n    console.log(this.name);\n  };\n  //è‡ªå·±å®šä¹‰çš„newæ–¹æ³•\n  let newMethod = function (Parent, ...rest) {\n    // 1.ä»¥æ„é€ å™¨çš„prototypeå±æ€§ä¸ºåŸå‹ï¼Œåˆ›å»ºæ–°å¯¹è±¡ï¼›\n    let child = Object.create(Parent.prototype);\n    // 2.å°†thiså’Œè°ƒç”¨å‚æ•°ä¼ ç»™æ„é€ å™¨æ‰§è¡Œ\n    Parent.apply(child, rest);\n    // 3.è¿”å›ç¬¬ä¸€æ­¥çš„å¯¹è±¡\n    return child;\n  };\n  //åˆ›å»ºå®ä¾‹ï¼Œå°†æ„é€ å‡½æ•°Parentä¸å½¢å‚ä½œä¸ºå‚æ•°ä¼ å…¥\n  const child = newMethod(Parent, &#39;echo&#39;, 26);\n  child.sayName() //&#39;echo&#39;;\n\n  //æœ€åæ£€éªŒï¼Œä¸ä½¿ç”¨newçš„æ•ˆæœç›¸åŒ\n  child instanceof Parent//true\n  child.hasOwnProperty(&#39;name&#39;)//true\n  child.hasOwnProperty(&#39;age&#39;)//true\n  child.hasOwnProperty(&#39;sayName&#39;)//false\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;zi-ding-yi-yi-ge-new-fang-fa&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;è‡ªå®šä¹‰ä¸€ä¸ªnewæ–¹æ³•&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;js&#34;,&#34;slug&#34;:&#34;3uoOai8za&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/3uoOai8za&#34;}],&#34;date&#34;:&#34;2021-10-07 20:36:51&#34;,&#34;dateFormat&#34;:&#34;2021-10-07&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/zi-ding-yi-yi-ge-new-fang-fa&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:229000,&#34;words&#34;:981,&#34;minutes&#34;:4},&#34;description&#34;:&#34;MDN new\nä¸€ã€newçš„ä»‹ç»\nnewæ˜¯å¹²ä»€ä¹ˆçš„ï¼š\n\nnew è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚\n\nä½¿ç”¨newå¯ä»¥å°‘åšå››ä»¶äº‹æƒ…ï¼š\nä¸ç”¨åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼ˆä½ ä½¿ç”¨ã€Œthisã€å°±å¯ä»¥è®¿é—®åˆ°...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80-new%E7%9A%84%E4%BB%8B%E7%BB%8D\&#34;&gt;ä¸€ã€newçš„ä»‹ç»&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AAnew\&#34;&gt;äºŒã€è‡ªå®šä¹‰ä¸€ä¸ªnew&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;é¦–å…ˆå¾—ä»‹ç»ä¸€ä¸‹æ·±æ‹·è´å’Œæµ…æ‹·è´\&#34;&gt;é¦–å…ˆå¾—ä»‹ç»ä¸€ä¸‹æ·±æ‹·è´å’Œæµ…æ‹·è´&lt;/h3&gt;\n&lt;p&gt;ç®€å•ç‚¹æ¥è¯´ï¼Œå°±æ˜¯å‡è®¾Bå¤åˆ¶äº†Aï¼Œå½“ä¿®æ”¹Aæ—¶ï¼Œçœ‹Bæ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœBä¹Ÿè·Ÿç€å˜äº†ï¼Œè¯´æ˜è¿™æ˜¯æµ…æ‹·è´ï¼Œæ‹¿äººæ‰‹çŸ­ï¼Œå¦‚æœBæ²¡å˜ï¼Œé‚£å°±æ˜¯æ·±æ‹·è´ï¼Œè‡ªé£Ÿå…¶åŠ›ã€‚&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬æ¥ä¸¾ä¸ªæµ…æ‹·è´ä¾‹å­:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;let a=[0,1,2,3,4],\n    b=a;\nconsole.log(a===b);\na[0]=1;\nconsole.log(a,b);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645179982030.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå—¯ï¼Ÿæ˜æ˜bå¤åˆ¶äº†aï¼Œä¸ºå•¥ä¿®æ”¹æ•°ç»„aï¼Œæ•°ç»„bä¹Ÿè·Ÿç€å˜äº†ï¼Œè¿™é‡Œæˆ‘ä¸ç¦é™·å…¥äº†æ²‰æ€ã€‚&lt;br&gt;\né‚£ä¹ˆè¿™é‡Œï¼Œå°±å¾—å¼•å…¥åŸºæœ¬æ•°æ®ç±»å‹ä¸å¼•ç”¨æ•°æ®ç±»å‹çš„æ¦‚å¿µäº†ã€‚&lt;br&gt;\né¢è¯•å¸¸é—®ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Œnumberï¼Œstringï¼Œbooleanï¼Œnullï¼Œundefinedï¼Œsymbolä»¥åŠæœªæ¥ES10æ–°å¢çš„BigInt(ä»»æ„ç²¾åº¦æ•´æ•°)ä¸ƒç±»ã€‚&lt;/p&gt;\n&lt;p&gt;å¼•ç”¨æ•°æ®ç±»å‹(Objectç±»)æœ‰å¸¸è§„åå€¼å¯¹çš„æ— åºå¯¹è±¡{a:1}ï¼Œæ•°ç»„[1,2,3]ï¼Œä»¥åŠå‡½æ•°ç­‰ã€‚&lt;/p&gt;\n&lt;p&gt;è€Œè¿™ä¸¤ç±»æ•°æ®å­˜å‚¨åˆ†åˆ«æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;åŸºæœ¬ç±»å‹--åå€¼å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œä¾‹å¦‚let a=1;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180053377.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå½“ä½ b=aå¤åˆ¶æ—¶ï¼Œæ ˆå†…å­˜ä¼šæ–°å¼€è¾Ÿä¸€ä¸ªå†…å­˜ï¼Œä¾‹å¦‚è¿™æ ·ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180068077.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\næ‰€ä»¥å½“ä½ æ­¤æ—¶ä¿®æ”¹a=2ï¼Œå¯¹bå¹¶ä¸ä¼šé€ æˆå½±å“ï¼Œå› ä¸ºæ­¤æ—¶çš„bå·²è‡ªé£Ÿå…¶åŠ›ï¼Œç¿…è†€ç¡¬äº†ï¼Œä¸å—açš„å½±å“äº†ã€‚å½“ç„¶ï¼Œlet a=1,b=a;è™½ç„¶bä¸å—aå½±å“ï¼Œä½†è¿™ä¹Ÿç®—ä¸ä¸Šæ·±æ‹·è´ï¼Œå› ä¸ºæ·±æ‹·è´æœ¬èº«åªé’ˆå¯¹è¾ƒä¸ºå¤æ‚çš„objectç±»å‹æ•°æ®ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¼•ç”¨æ•°æ®ç±»å‹--åå­˜åœ¨æ ˆå†…å­˜ä¸­ï¼Œå€¼å­˜åœ¨äºå †å†…å­˜ä¸­ï¼Œä½†æ˜¯æ ˆå†…å­˜ä¼šæä¾›ä¸€ä¸ªå¼•ç”¨çš„åœ°å€æŒ‡å‘å †å†…å­˜ä¸­çš„å€¼ï¼Œæˆ‘ä»¬ä»¥ä¸Šé¢æµ…æ‹·è´çš„ä¾‹å­ç”»ä¸ªå›¾ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180120847.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå½“b=aè¿›è¡Œæ‹·è´æ—¶ï¼Œå…¶å®å¤åˆ¶çš„æ˜¯açš„å¼•ç”¨åœ°å€ï¼Œè€Œå¹¶éå †é‡Œé¢çš„å€¼ã€‚&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180132383.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè€Œå½“æˆ‘ä»¬a[0]=1æ—¶è¿›è¡Œæ•°ç»„ä¿®æ”¹æ—¶ï¼Œç”±äºaä¸bæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥è‡ªç„¶bä¹Ÿå—äº†å½±å“ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„æµ…æ‹·è´äº†ã€‚&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180430014.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\né‚£ï¼Œè¦æ˜¯åœ¨å †å†…å­˜ä¸­ä¹Ÿå¼€è¾Ÿä¸€ä¸ªæ–°çš„å†…å­˜ä¸“é—¨ä¸ºbå­˜æ”¾å€¼ï¼Œå°±åƒåŸºæœ¬ç±»å‹é‚£æ ·ï¼Œå²‚ä¸å°±è¾¾åˆ°æ·±æ‹·è´çš„æ•ˆæœäº†&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180475298.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;å®ç°ç®€å•çš„æ·±æ‹·è´\&#34;&gt;å®ç°ç®€å•çš„æ·±æ‹·è´&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;function deepClone(obj){\n    let objClone = Array.isArray(obj)?[]:{};\n    if(obj &amp;amp;&amp;amp; typeof obj===&amp;quot;object&amp;quot;){\n        for(key in obj){\n            if(obj.hasOwnProperty(key)){\n                //åˆ¤æ–­ojbå­å…ƒç´ æ˜¯å¦ä¸ºå¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œé€’å½’å¤åˆ¶\n                if(obj[key]&amp;amp;&amp;amp;typeof obj[key] ===&amp;quot;object&amp;quot;){\n                    objClone[key] = deepClone(obj[key]);\n                }else{\n                    //å¦‚æœä¸æ˜¯ï¼Œç®€å•å¤åˆ¶\n                    objClone[key] = obj[key];\n                }\n            }\n        }\n    }\n    return objClone;\n}    \nlet a=[1,2,3,4],\n    b=deepClone(a);\na[0]=2;\nconsole.log(a,b);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¯ä»¥çœ‹åˆ°&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180524777.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè·Ÿä¹‹å‰æƒ³è±¡çš„ä¸€æ ·ï¼Œç°åœ¨bè„±ç¦»äº†açš„æ§åˆ¶ï¼Œä¸å†å—aå½±å“äº†ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;è¿™é‡Œå†æ¬¡å¼ºè°ƒæ·±æ‹·è´æ˜¯æ‹·è´å¯¹è±¡å„ä¸ªå±‚çº§çš„å±æ€§\&#34;&gt;è¿™é‡Œå†æ¬¡å¼ºè°ƒï¼Œæ·±æ‹·è´ï¼Œæ˜¯æ‹·è´å¯¹è±¡å„ä¸ªå±‚çº§çš„å±æ€§ã€‚&lt;/h4&gt;\n&lt;p&gt;é‚£æ˜¯ä¸æ˜¯è¯´sliceæ–¹æ³•ä¹Ÿæ˜¯æ·±æ‹·è´äº†ï¼Œæ¯•ç«Ÿbä¹Ÿæ²¡å—açš„å½±å“ï¼Œä¸Šé¢è¯´äº†ï¼Œæ·±æ‹·è´æ˜¯ä¼šæ‹·è´æ‰€æœ‰å±‚çº§çš„å±æ€§ï¼Œè¿˜æ˜¯è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æŠŠaæ”¹æ”¹&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;let a=[0,1,[2,3],4],\n        b=a.slice();\na[0]=1;\na[2][0]=1;\nconsole.log(a,b);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180593582.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\næ‹·è´çš„ä¸å½»åº•å•Šï¼Œbå¯¹è±¡çš„ä¸€çº§å±æ€§ç¡®å®ä¸å—å½±å“äº†ï¼Œä½†æ˜¯äºŒçº§å±æ€§è¿˜æ˜¯æ²¡èƒ½æ‹·è´æˆåŠŸï¼Œä»ç„¶è„±ç¦»ä¸äº†açš„æ§åˆ¶ï¼Œè¯´æ˜sliceæ ¹æœ¬ä¸æ˜¯çœŸæ­£çš„æ·±æ‹·è´ã€‚&lt;br&gt;\nç¬¬ä¸€å±‚çš„å±æ€§ç¡®å®æ·±æ‹·è´ï¼Œæ‹¥æœ‰äº†ç‹¬ç«‹çš„å†…å­˜ï¼Œä½†æ›´æ·±çš„å±æ€§å´ä»ç„¶å…¬ç”¨äº†åœ°å€ï¼Œæ‰€ä»¥æ‰ä¼šé€ æˆä¸Šé¢çš„é—®é¢˜ã€‚&lt;/p&gt;\n&lt;p&gt;åŒç†ï¼Œconcatæ–¹æ³•ä¸sliceä¹Ÿå­˜åœ¨è¿™æ ·çš„æƒ…å†µï¼Œä»–ä»¬éƒ½ä¸æ˜¯çœŸæ­£çš„æ·±æ‹·è´ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;é™¤äº†é€’å½’æˆ‘ä»¬è¿˜å¯ä»¥å€Ÿç”¨jsonå¯¹è±¡çš„parseå’Œstringify\&#34;&gt;é™¤äº†é€’å½’ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€Ÿç”¨JSONå¯¹è±¡çš„parseå’Œstringify&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;function deepClone(obj){\n    let _obj = JSON.stringify(obj),\n        objClone = JSON.parse(_obj);\n    return objClone\n}    \nlet a=[0,1,[2,3],4],\n    b=deepClone(a);\na[0]=1;\na[2][0]=1;\nconsole.log(a,b);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1645180680861.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè¯´äº†è¿™ä¹ˆå¤šï¼Œäº†è§£æ·±æ‹·è´ä¹Ÿä¸ä»…ä»…æ˜¯ä¸ºäº†åº”ä»˜é¢è¯•é¢˜ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä¹Ÿæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¾‹å¦‚åå°è¿”å›äº†ä¸€å †æ•°æ®ï¼Œä½ éœ€è¦å¯¹è¿™å †æ•°æ®åšæ“ä½œï¼Œä½†å¤šäººå¼€å‘æƒ…å†µä¸‹ï¼Œä½ æ˜¯æ²¡åŠæ³•æ˜ç¡®è¿™å †æ•°æ®æ˜¯å¦æœ‰å…¶å®ƒåŠŸèƒ½ä¹Ÿéœ€è¦ä½¿ç”¨ï¼Œç›´æ¥ä¿®æ”¹å¯èƒ½ä¼šé€ æˆéšæ€§é—®é¢˜ï¼Œæ·±æ‹·è´èƒ½å¸®ä½ æ›´å®‰å…¨å®‰å¿ƒçš„å»æ“ä½œæ•°æ®ï¼Œæ ¹æ®å®é™…æƒ…å†µæ¥ä½¿ç”¨æ·±æ‹·è´ï¼Œå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ„æ€ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;é—®ä¸‹å¤§å®¶objectassignå±äºæµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´\&#34;&gt;é—®ä¸‹å¤§å®¶object.assignå±äºæµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´&lt;/h3&gt;\n&lt;p&gt;Object.assign() æ–¹æ³•åªèƒ½æ‹·è´æºå¯¹è±¡çš„å¯æšä¸¾çš„è‡ªèº«å±æ€§ï¼ŒåŒæ—¶æ‹·è´æ—¶æ— æ³•æ‹·è´å±æ€§çš„ç‰¹æ€§ä»¬ï¼Œè€Œä¸”è®¿é—®å™¨å±æ€§ä¼šè¢«è½¬æ¢æˆæ•°æ®å±æ€§ï¼Œä¹Ÿæ— æ³•æ‹·è´æºå¯¹è±¡çš„åŸå‹ï¼Œæ‰€ä»¥å±äºæµ…æ‹·è´&lt;/p&gt;\n&lt;h3 id=\&#34;objectgetownpropertydescriptorsæ–¹æ³•é…åˆ-objectcreate-æ–¹æ³•å¯ä»¥å®ç°æµ…æ‹·è´\&#34;&gt;Object.getOwnPropertyDescriptorsæ–¹æ³•é…åˆ Object.create() æ–¹æ³•å¯ä»¥å®ç°æµ…æ‹·è´ã€‚&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;Object.create(\n  Object.getPrototypeOf(obj),\n  Object.getOwnPropertyDescriptors(obj)\n);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æœ¬æ–‡å‚è€ƒï¼šhttps://www.cnblogs.com/echolun/p/7889848.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;ru-he-yong-objectcreate-qian-kao-bei-yi-ge-dui-xiang&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å¦‚ä½•ç”¨Object.createæµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;js&#34;,&#34;slug&#34;:&#34;3uoOai8za&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/3uoOai8za&#34;}],&#34;date&#34;:&#34;2021-09-23 20:41:42&#34;,&#34;dateFormat&#34;:&#34;2021-09-23&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/ru-he-yong-objectcreate-qian-kao-bei-yi-ge-dui-xiang&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;5 min read&#34;,&#34;time&#34;:280000,&#34;words&#34;:1209,&#34;minutes&#34;:5},&#34;description&#34;:&#34;é¦–å…ˆå¾—ä»‹ç»ä¸€ä¸‹æ·±æ‹·è´å’Œæµ…æ‹·è´\nç®€å•ç‚¹æ¥è¯´ï¼Œå°±æ˜¯å‡è®¾Bå¤åˆ¶äº†Aï¼Œå½“ä¿®æ”¹Aæ—¶ï¼Œçœ‹Bæ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœBä¹Ÿè·Ÿç€å˜äº†ï¼Œè¯´æ˜è¿™æ˜¯æµ…æ‹·è´ï¼Œæ‹¿äººæ‰‹çŸ­ï¼Œå¦‚æœBæ²¡å˜ï¼Œé‚£å°±æ˜¯æ·±æ‹·è´ï¼Œè‡ªé£Ÿå…¶åŠ›ã€‚\næˆ‘ä»¬æ¥ä¸¾ä¸ªæµ…æ‹·è´ä¾‹å­:\nlet a=[0,1,2,3,4],\n ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%A6%96%E5%85%88%E5%BE%97%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D\&#34;&gt;é¦–å…ˆå¾—ä»‹ç»ä¸€ä¸‹æ·±æ‹·è´å’Œæµ…æ‹·è´&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D\&#34;&gt;å®ç°ç®€å•çš„æ·±æ‹·è´&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BF%99%E9%87%8C%E5%86%8D%E6%AC%A1%E5%BC%BA%E8%B0%83%E6%B7%B1%E6%8B%B7%E8%B4%9D%E6%98%AF%E6%8B%B7%E8%B4%9D%E5%AF%B9%E8%B1%A1%E5%90%84%E4%B8%AA%E5%B1%82%E7%BA%A7%E7%9A%84%E5%B1%9E%E6%80%A7\&#34;&gt;è¿™é‡Œå†æ¬¡å¼ºè°ƒï¼Œæ·±æ‹·è´ï¼Œæ˜¯æ‹·è´å¯¹è±¡å„ä¸ªå±‚çº§çš„å±æ€§ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%99%A4%E4%BA%86%E9%80%92%E5%BD%92%E6%88%91%E4%BB%AC%E8%BF%98%E5%8F%AF%E4%BB%A5%E5%80%9F%E7%94%A8json%E5%AF%B9%E8%B1%A1%E7%9A%84parse%E5%92%8Cstringify\&#34;&gt;é™¤äº†é€’å½’ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€Ÿç”¨JSONå¯¹è±¡çš„parseå’Œstringify&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%97%AE%E4%B8%8B%E5%A4%A7%E5%AE%B6objectassign%E5%B1%9E%E4%BA%8E%E6%B5%85%E6%8B%B7%E8%B4%9D%E8%BF%98%E6%98%AF%E6%B7%B1%E6%8B%B7%E8%B4%9D\&#34;&gt;é—®ä¸‹å¤§å®¶object.assignå±äºæµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#objectgetownpropertydescriptors%E6%96%B9%E6%B3%95%E9%85%8D%E5%90%88-objectcreate-%E6%96%B9%E6%B3%95%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E6%B5%85%E6%8B%B7%E8%B4%9D\&#34;&gt;Object.getOwnPropertyDescriptorsæ–¹æ³•é…åˆ Object.create() æ–¹æ³•å¯ä»¥å®ç°æµ…æ‹·è´ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;èƒŒæ™¯ï¼šä»Šå¤© æ¯å‘¨ä¾‹è¡ŒæŠ€æœ¯åˆ†äº« çš„æ—¶å€™ï¼Œæœ‰ä½åŒäº‹è¯´ js è·å–ä¸åˆ°æ–‡ä»¶å¤§å°ï¼šæµè§ˆå™¨é»˜è®¤ä¸å…è®¸js æ‰§è¡ŒIOæ“ä½œã€‚ ä¸¾äº†ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æƒ³è·å–ä¸€ä¸ªå›¾ç‰‡åœ°å€çš„æ–‡ä»¶å¤§å°ï¼Œå› ä¸ºä¹‹å‰åšè¿‡å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æ‰€ä»¥æ¯”è¾ƒæ•æ„Ÿï¼Œæ„Ÿè§‰åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œè™½ç„¶ä»–è¯´ç½‘ä¸Šæ‰¾è¿‡å¾ˆå¤šèµ„æ–™ä½†æ˜¯éƒ½ä¸è¡Œï¼Œä½†æ˜¯è¿™ç§ä¸œè¥¿ åªæœ‰è‡ªå·±è¯•è¯•æ‰å®‰å¿ƒå˜›~~&lt;/p&gt;\n&lt;h3 id=\&#34;å¤±è´¥æ–¹æ¡ˆ-canvastoblob\&#34;&gt;å¤±è´¥æ–¹æ¡ˆ canvas.toBlob&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;function loadImg(url){\n    return new Promise((res, rej) =&amp;gt; {\n        const img = new Image()\n        img.crossOrigin = &#39;&#39;   // é˜²æ­¢img ç”»åœ¨canvasä¸Šæ—¶æŠ¥è·¨åŸŸé”™è¯¯\n        img.onload = function() {\n            res(this)\n        }\n        img.onerror = function() {\n            rej()\n        }\n        img.src = url\n    })\n}\n\nasync function getImgSize(url) {\n    const urlArr = url.split(&#39;.&#39;)\n    const mime = &amp;quot;image/&amp;quot; + urlArr[urlArr.length-1]\n    const img = await loadImg(url)\n    const {width,height} = img\n    const canvas = document.createElement(&#39;canvas&#39;)\n    const ctx = canvas.getContext(&#39;2d&#39;);\n    canvas.width = width;\n    canvas.height = height;\n    ctx.drawImage(img,0,0,width,height)\n    canvas.toBlob(\n        blob =&amp;gt; {\n            console.log(url,blob,(blob.size / 1000)+&#39;KB&#39;)\n        },\n        mime\n    );\n}\n\ngetImgSize(&#39;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&#39;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;çœ‹æ—¥å¿—è¾“å‡º&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644227403808.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nçœ‹ç€æˆäº†ï¼Œä½†å®é™….... ä¸ æœ¬åœ° å’Œ Network å·® åä¸‡å…«åƒé‡Œ&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644227440435.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644227452558.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\næˆ‘å°è¯•äº†å‡ ä¸ªå›¾ç‰‡,æ¯ä¸ªå›¾ç‰‡éƒ½æ¯”ä¹‹å‰è¦å¤§ï¼Œè€Œä¸”å¢å¤§ç¨‹åº¦ä¸ä¸€å®š,è¿™å—ä¼°è®¡æ˜¯canvasç”»äº†ä¸€éçš„åŸå› ã€‚ã€‚ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;å¤±è´¥æ–¹æ³•-canvastodataurl-dataurltoblob\&#34;&gt;å¤±è´¥æ–¹æ³• canvas.toDataURL + dataURLtoBlob&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;function loadImg(url){\n    return new Promise((res, rej) =&amp;gt; {\n        const img = new Image()\n        img.crossOrigin = &#39;&#39;   // é˜²æ­¢img ç”»åœ¨canvasä¸Šæ—¶æŠ¥è·¨åŸŸé”™è¯¯\n        img.onload = function() {\n            res(this)\n        }\n        img.onerror = function() {\n            rej()\n        }\n        img.src = url\n    })\n}\n\nasync function getImgSize(url) {\n    const urlArr = url.split(&#39;.&#39;)\n    const mime = &amp;quot;image/&amp;quot; + urlArr[urlArr.length-1]\n    const img = await loadImg(url)\n    const {width,height} = img\n    const canvas = document.createElement(&#39;canvas&#39;)\n    const ctx = canvas.getContext(&#39;2d&#39;);\n    canvas.width = width;\n    canvas.height = height;\n    ctx.drawImage(img,0,0,width,height);\n    const blob =  dataURLtoBlob(canvas.toDataURL(mime));\n    console.log(url,blob,(blob.size / 1000)+&#39;KB&#39;)\n}\nfunction dataURLtoBlob(dataurl) {\n    var arr = dataurl.split(&#39;,&#39;);\n    var _arr = arr[1].substring(0,arr[1].length-2);\n    var mime = arr[0].match(/:(.*?);/)[1],\n        bstr =atob(_arr),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n    while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new Blob([u8arr], {\n        type: mime\n    });\n}\n\ngetImgSize(&#39;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&#39;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;çœ‹ç»“æœâ¬‡ï¸&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644227621781.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nã€‚ã€‚ã€‚çœ‹æ¥ä¸èƒ½èµ°canvasè¿™æ¡è·¯äº†&lt;/p&gt;\n&lt;h3 id=\&#34;æˆåŠŸæ–¹æ¡ˆ-performance\&#34;&gt;æˆåŠŸæ–¹æ¡ˆ performance&lt;/h3&gt;\n&lt;p&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644227695711.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\néš¾é“çœŸçš„æ²¡æœ‰åŠæ³•äº†å˜›ï¼Ÿæˆ‘ç›¯ç€ æµè§ˆå™¨Network é™·å…¥æ²‰æ€, çªç„¶ Network èµ„æºåŠ è½½ çš„sizeåœ¨æˆ‘çœ¼é‡Œ è¶Šæ¥è¶ŠæŠ¢çœ¼ï¼Œè²Œä¼¼æœ‰ä¸ªapiå¯ä»¥è·å–åˆ°èµ„æºåŠ è½½~~~~~ èµ°èµ·&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;function getImgSize(url){\n    return new Promise((res, rej) =&amp;gt; {\n        var performance = window.performance || \n            window.msPerformance || \n            window.webkitPerformance;\n        if (performance) {\n            const img = new Image()\n            img.crossOrigin = &#39;&#39;\n            img.onload = function() {\n                let [imgEntries] = performance.getEntriesByName(url)\n                res(imgEntries)\n            }\n            img.onerror = function() {\n                rej(&#39;å›¾ç‰‡åŠ è½½å¤±è´¥&#39;)\n            }\n            img.src = url\n        }else{\n            rej(&#39;æµè§ˆå™¨ä¸æŒæ”¯æŒperformance&#39;)\n        }\n    })\n}\nlet url = &#39;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&#39;\ngetImgSize(url).then(v=&amp;gt;{\n    console.log(v)\n    console.log(v.decodedBodySize)\n    console.log((v.decodedBodySize / 1000),&#39;KB&#39;)\n    // transferSize  åˆ¤æ–­æ˜¯å¦ç¼“å­˜\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;è¿™å—ä½¿ç”¨ decodedBodySizeï¼Œå› ä¸º css jsç­‰èµ„æº decodedBodySize ä¸æœ¬åœ°å¤§å°ä¸€è‡´&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644227863370.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;a href=\&#34;https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/decodedBodySize\&#34;&gt;decodedBodySize-MDNæ–‡æ¡£&lt;/a&gt;&lt;br&gt;\n&lt;a href=\&#34;https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/encodedBodySize\&#34;&gt;encodedBodySize-MDN æ–‡æ¡£&lt;/a&gt;&lt;br&gt;\n&lt;a href=\&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Performance/getEntriesByName\&#34;&gt;performance.getEntriesByName-MDNæ–‡æ¡£&lt;/a&gt;&lt;br&gt;\nå“ˆå“ˆå“ˆå“ˆï¼Œæˆäº†ï½&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;å¤šç»„æ•°æ®éªŒè¯\&#34;&gt;å¤šç»„æ•°æ®éªŒè¯&lt;/h3&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th style=\&#34;text-align:left\&#34;&gt;å›¾ç‰‡åœ°å€&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;æœ¬åœ°size&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;canvas.toBlob&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;canvas.toDataURL + dataURLtoBlob&lt;/th&gt;\n&lt;th style=\&#34;text-align:center\&#34;&gt;performance&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:left\&#34;&gt;https://images.daojia.com/changsha/banner/pic/25675a8d10bfa08e9599d2deb9a44eae.jpeg&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;20519&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;36345&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;36343&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;20519&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:left\&#34;&gt;https://images.daojia.com/dop/custom/dda52b42212b6bdea3e12d03ac97ffbe.png&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;65511&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;164303&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;164302&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;65511&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\&#34;text-align:left\&#34;&gt;https://images.daojia.com/dop/custom/f8f0528c61e243699c309f5f25eab513.png&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;14638&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;36394&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;36391&lt;/td&gt;\n&lt;td style=\&#34;text-align:center\&#34;&gt;14638&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;h4 id=\&#34;æ²¡æœ‰çœ‹é”™-performance-ä¸æœ¬åœ°çš„å®Œå…¨ä¸€æ ·\&#34;&gt;æ²¡æœ‰çœ‹é”™ performance ä¸æœ¬åœ°çš„å®Œå…¨ä¸€æ ·&lt;/h4&gt;\n&lt;h3 id=\&#34;ä¸é™åˆ¶äºå›¾ç‰‡\&#34;&gt;ä¸é™åˆ¶äºå›¾ç‰‡&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;function loadJSFile(source) {\n    return new Promise((res, rej) =&amp;gt; {\n        const node = document.createElement(&#39;script&#39;)\n        node.async = false\n        node.src = source\n\n        const supportOnload = &#39;onload&#39; in node\n        if (supportOnload) {\n            node.onload = function(){\n                res(this)\n            }\n            node.onerror = () =&amp;gt; {\n                rej(`${source}åŠ è½½å¤±è´¥`)\n            }\n        } else {\n            node.onreadystatechange = function(){\n                if (/loaded|complete/i.test(node.readyState)) {\n                    res(this)\n                }\n            }\n        }\n        document.getElementsByTagName(&#39;head&#39;)[0].appendChild(node)\n    })\n}\nfunction loadImgFile(url){\n    return new Promise((res, rej) =&amp;gt; {\n        const img = new Image()\n        img.crossOrigin = &#39;&#39;\n        img.onload = function() {\n            res(this)\n        }\n        img.onerror = function() {\n            rej(&#39;å›¾ç‰‡åŠ è½½å¤±è´¥&#39;)\n        }\n        img.src = url\n    })\n}\n\nfunction loadCSSFile(source) {\n    return new Promise((res, rej) =&amp;gt; {\n        var head = document.getElementsByTagName(&#39;head&#39;)[0];\n        var link = document.createElement(&#39;link&#39;);\n        link.type = &#39;text/css&#39;;\n        link.rel = &#39;stylesheet&#39;;\n        link.href = source;\n        const supportOnload = &#39;onload&#39; in link\n        if (supportOnload) {\n            link.onload = function(){\n                res(this)\n            }\n            link.onerror = () =&amp;gt; {\n                rej(`${source}åŠ è½½å¤±è´¥`)\n            }\n        } else {\n            link.onreadystatechange = function(){\n                if (/loaded|complete/i.test(link.readyState)) {\n                    res(this)\n                }\n            }\n        }\n        head.appendChild(link);\n    })\n}\nfunction getFileSize(url){\n    return new Promise((res, rej) =&amp;gt; {\n    var performance = window.performance || \n        window.msPerformance || \n        window.webkitPerformance;\n    if (performance) {\n        let [imgEntries] = performance.getEntriesByName(url)\n        if(imgEntries){\n            console.log(imgEntries)\n            console.log(imgEntries.decodedBodySize)\n            console.log((imgEntries.decodedBodySize / 1000),&#39;KB&#39;)\n            res(imgEntries)\n        }else{\n            rej(&#39;èµ„æºåŠ è½½æœ‰é—®é¢˜&#39;)\n        }\n    }else{\n        rej(&#39;æµè§ˆå™¨ä¸æŒæ”¯æŒperformance&#39;)\n    }\n})\n}\n(async function (){\n    const css = &#39;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css&#39;;\n    await loadCSSFile(css)\n    await getFileSize(css)\n\n    const js = &#39;https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.min.js&#39;;\n    await loadJSFile(js)\n    await getFileSize(js)\n\n    const img = &#39;https://images.daojia.com/dop/custom/f8f0528c61e243699c309f5f25eab513.png&#39;;\n    await loadImgFile(img)\n    await getFileSize(img)\n})()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644228526757.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h3 id=\&#34;å…¼å®¹æ€§\&#34;&gt;å…¼å®¹æ€§&lt;/h3&gt;\n&lt;p&gt;æœ€åè®°å¾—ä½¿ç”¨&lt;a href=\&#34;https://caniuse.com/?search=encodedBodySize\&#34;&gt;caniuse - performance&lt;/a&gt;æŸ¥çœ‹ä¸€ä¸‹å…¼å®¹æ€§&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;js-huo-qu-wen-jian-da-xiao&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;jsè·å–æ–‡ä»¶å¤§å° window.performance&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;js&#34;,&#34;slug&#34;:&#34;3uoOai8za&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/3uoOai8za&#34;}],&#34;date&#34;:&#34;2021-09-22 21:49:49&#34;,&#34;dateFormat&#34;:&#34;2021-09-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/js-huo-qu-wen-jian-da-xiao&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;6 min read&#34;,&#34;time&#34;:324000,&#34;words&#34;:1051,&#34;minutes&#34;:6},&#34;description&#34;:&#34;èƒŒæ™¯ï¼šä»Šå¤© æ¯å‘¨ä¾‹è¡ŒæŠ€æœ¯åˆ†äº« çš„æ—¶å€™ï¼Œæœ‰ä½åŒäº‹è¯´ js è·å–ä¸åˆ°æ–‡ä»¶å¤§å°ï¼šæµè§ˆå™¨é»˜è®¤ä¸å…è®¸js æ‰§è¡ŒIOæ“ä½œã€‚ ä¸¾äº†ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æƒ³è·å–ä¸€ä¸ªå›¾ç‰‡åœ°å€çš„æ–‡ä»¶å¤§å°ï¼Œå› ä¸ºä¹‹å‰åšè¿‡å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æ‰€ä»¥æ¯”è¾ƒæ•æ„Ÿï¼Œæ„Ÿè§‰åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œè™½ç„¶ä»–è¯´ç½‘ä¸Šæ‰¾è¿‡å¾ˆå¤šèµ„æ–™ä½†...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%B1%E8%B4%A5%E6%96%B9%E6%A1%88-canvastoblob\&#34;&gt;å¤±è´¥æ–¹æ¡ˆ canvas.toBlob&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%B1%E8%B4%A5%E6%96%B9%E6%B3%95-canvastodataurl-dataurltoblob\&#34;&gt;å¤±è´¥æ–¹æ³• canvas.toDataURL + dataURLtoBlob&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%88%90%E5%8A%9F%E6%96%B9%E6%A1%88-performance\&#34;&gt;æˆåŠŸæ–¹æ¡ˆ performance&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%9A%E7%BB%84%E6%95%B0%E6%8D%AE%E9%AA%8C%E8%AF%81\&#34;&gt;å¤šç»„æ•°æ®éªŒè¯&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B2%A1%E6%9C%89%E7%9C%8B%E9%94%99-performance-%E4%B8%8E%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%AE%8C%E5%85%A8%E4%B8%80%E6%A0%B7\&#34;&gt;æ²¡æœ‰çœ‹é”™ performance ä¸æœ¬åœ°çš„å®Œå…¨ä¸€æ ·&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%8D%E9%99%90%E5%88%B6%E4%BA%8E%E5%9B%BE%E7%89%87\&#34;&gt;ä¸é™åˆ¶äºå›¾ç‰‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%BC%E5%AE%B9%E6%80%A7\&#34;&gt;å…¼å®¹æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;docker attach :è¿æ¥åˆ°æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨ã€‚&lt;br&gt;\nè¦attachä¸Šå»çš„å®¹å™¨å¿…é¡»æ­£åœ¨è¿è¡Œï¼Œå¯ä»¥åŒæ—¶è¿æ¥ä¸ŠåŒä¸€ä¸ªcontaineræ¥å…±äº«å±å¹•ï¼ˆä¸screenå‘½ä»¤çš„attachç±»ä¼¼ï¼‰ã€‚&lt;/p&gt;\n&lt;p&gt;å®˜æ–¹æ–‡æ¡£ä¸­è¯´attachåå¯ä»¥é€šè¿‡CTRL-Cæ¥detachï¼Œä½†å®é™…ä¸Šç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œå¦‚æœcontainerå½“å‰åœ¨è¿è¡Œbashï¼ŒCTRL-Cè‡ªç„¶æ˜¯å½“å‰è¡Œçš„è¾“å…¥ï¼Œæ²¡æœ‰é€€å‡ºï¼›å¦‚æœcontainerå½“å‰æ­£åœ¨å‰å°è¿è¡Œè¿›ç¨‹ï¼Œå¦‚è¾“å‡ºnginxçš„access.logæ—¥å¿—ï¼ŒCTRL-Cä¸ä»…ä¼šå¯¼è‡´é€€å‡ºå®¹å™¨ï¼Œè€Œä¸”è¿˜stopäº†ğŸ˜¨&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;p&gt;ã€‚è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œdetachçš„æ„æ€æŒ‰ç†åº”è¯¥æ˜¯è„±ç¦»å®¹å™¨ç»ˆç«¯ï¼Œä½†å®¹å™¨ä¾ç„¶è¿è¡Œã€‚å¥½åœ¨attachæ˜¯å¯ä»¥å¸¦ä¸Š--sig-proxy=falseæ¥ç¡®ä¿CTRL-Dæˆ–CTRL-Cä¸ä¼šå…³é—­å®¹å™¨ã€‚&lt;br&gt;\nrunoob@runoob:~$ docker attach --sig-proxy=false mynginx&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;docker-attach-ming-ling&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;docker attach :è¿æ¥åˆ°æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨ã€‚&lt;br&gt;\nè¦attachä¸Šå»çš„å®¹å™¨å¿…é¡»æ­£åœ¨è¿è¡Œï¼Œå¯ä»¥åŒæ—¶è¿æ¥ä¸ŠåŒä¸€ä¸ªcontaineræ¥å…±äº«å±å¹•ï¼ˆä¸screenå‘½ä»¤çš„attachç±»ä¼¼ï¼‰ã€‚&lt;/p&gt;\n&lt;p&gt;å®˜æ–¹æ–‡æ¡£ä¸­è¯´attachåå¯ä»¥é€šè¿‡CTRL-Cæ¥detachï¼Œä½†å®é™…ä¸Šç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œå¦‚æœcontainerå½“å‰åœ¨è¿è¡Œbashï¼ŒCTRL-Cè‡ªç„¶æ˜¯å½“å‰è¡Œçš„è¾“å…¥ï¼Œæ²¡æœ‰é€€å‡ºï¼›å¦‚æœcontainerå½“å‰æ­£åœ¨å‰å°è¿è¡Œè¿›ç¨‹ï¼Œå¦‚è¾“å‡ºnginxçš„access.logæ—¥å¿—ï¼ŒCTRL-Cä¸ä»…ä¼šå¯¼è‡´é€€å‡ºå®¹å™¨ï¼Œè€Œä¸”è¿˜stopäº†ğŸ˜¨&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Docker attach å‘½ä»¤&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;docker&#34;,&#34;slug&#34;:&#34;r0XBmVMNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/r0XBmVMNv&#34;},{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-09-21 23:34:57&#34;,&#34;dateFormat&#34;:&#34;2021-09-21&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/docker-attach-ming-ling&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:44000,&#34;words&#34;:194,&#34;minutes&#34;:1},&#34;description&#34;:&#34;docker attach :è¿æ¥åˆ°æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨ã€‚\nè¦attachä¸Šå»çš„å®¹å™¨å¿…é¡»æ­£åœ¨è¿è¡Œï¼Œå¯ä»¥åŒæ—¶è¿æ¥ä¸ŠåŒä¸€ä¸ªcontaineræ¥å…±äº«å±å¹•ï¼ˆä¸screenå‘½ä»¤çš„attachç±»ä¼¼ï¼‰ã€‚\nå®˜æ–¹æ–‡æ¡£ä¸­è¯´attachåå¯ä»¥é€šè¿‡CTRL-Cæ¥det...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å®˜ç½‘ä»‹ç»ï¼šä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚&lt;br&gt;\n&lt;a href=\&#34;https://nacos.io/zh-cn/docs/what-is-nacos.html\&#34;&gt;Nacosä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;æ¦‚è§ˆ&lt;br&gt;\næ¬¢è¿æ¥åˆ° Nacos çš„ä¸–ç•Œï¼&lt;br&gt;\nNacos è‡´åŠ›äºå¸®åŠ©æ‚¨å‘ç°ã€é…ç½®å’Œç®¡ç†å¾®æœåŠ¡ã€‚Nacos æä¾›äº†ä¸€ç»„ç®€å•æ˜“ç”¨çš„ç‰¹æ€§é›†ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå®ç°åŠ¨æ€æœåŠ¡å‘ç°ã€æœåŠ¡é…ç½®ã€æœåŠ¡å…ƒæ•°æ®åŠæµé‡ç®¡ç†ã€‚&lt;br&gt;\nNacos å¸®åŠ©æ‚¨æ›´æ•æ·å’Œå®¹æ˜“åœ°æ„å»ºã€äº¤ä»˜å’Œç®¡ç†å¾®æœåŠ¡å¹³å°ã€‚ Nacos æ˜¯æ„å»ºä»¥â€œæœåŠ¡â€ä¸ºä¸­å¿ƒçš„ç°ä»£åº”ç”¨æ¶æ„ (ä¾‹å¦‚å¾®æœåŠ¡èŒƒå¼ã€äº‘åŸç”ŸèŒƒå¼) çš„æœåŠ¡åŸºç¡€è®¾æ–½ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;è¿™ä¸ªä¸œè¥¿ä¸»è¦ç”¨äºå¾®æœåŠ¡ï¼Œä½†æˆ‘ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œåªç”¨äº†å®ƒçš„é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œè™½ç„¶æœ‰ç‚¹å¤§æå°ç”¨ï¼Œä½†ç¡®å®æ–¹ä¾¿,è€Œä¸”è¿˜å¯ä»¥é€šè¿‡ç½‘é¡µå»ç›´æ¥æŸ¥çœ‹æ•°æ®ç»“æ„ã€‚&lt;/p&gt;\n&lt;p&gt;å‡è®¾å‰ç«¯è¦æä¸€ä¸ªå¹³å°ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åç«¯æ”¯æŒï¼Œé‚£ä¹ˆæƒé™ç®¡ç†ä»¥åŠä¸€äº›å¿…è¦çš„æ•°æ®è·å–è¯¥æ€ä¹ˆåšå‘¢ï¼Œæˆ‘ä»¬æƒ³åˆ°çš„è‚¯å®šæ˜¯nodeèµ·æœåŠ¡ï¼Œç„¶åå†™æ¥å£ï¼Œç„¶åè¿æ¥æ•°æ®åº“ã€‚ä»è€Œå®ç°æ•°æ®çš„å¢åˆ æ”¹æŸ¥ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼Œå°±æ˜¯åœ¨æœåŠ¡å™¨çš„dockerä¸­ä¸‹è½½ä¸€ä¸ªnacos,æŠŠæ•°æ®æ”¾åˆ°nacosä¸­ç®¡ç†ï¼Œè¿™æ ·æ•°æ®ä¾ç„¶åœ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œå¹¶ä¸”ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å»å†™æ¥å£ï¼Œnacosæä¾›äº†openApiï¼Œæˆ‘ä»¬ç›´æ¥è°ƒç”¨æ¥å£å°±å¯ä»¥ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ã€‚ä¸‹é¢å¼€å§‹å®‰è£…ï¼š&lt;/p&gt;\n&lt;h3 id=\&#34;nacos-docker-å¿«é€Ÿå¼€å§‹\&#34;&gt;Nacos Docker å¿«é€Ÿå¼€å§‹&lt;/h3&gt;\n&lt;p&gt;æ“ä½œæ­¥éª¤&lt;br&gt;\nClone é¡¹ç›®&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;git clone https://github.com/nacos-group/nacos-docker.git\ncd nacos-docker\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å•æœºæ¨¡å¼ Derby&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;docker-compose -f example/standalone-derby.yaml up\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å•æœºæ¨¡å¼ MySQL&lt;/p&gt;\n&lt;p&gt;å¦‚æœå¸Œæœ›ä½¿ç”¨MySQL5.7&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;docker-compose -f example/standalone-mysql-5.7.yaml up\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¦‚æœå¸Œæœ›ä½¿ç”¨MySQL8&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;docker-compose -f example/standalone-mysql-8.yaml up\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;é›†ç¾¤æ¨¡å¼&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;docker-compose -f example/cluster-hostname.yaml up \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æœåŠ¡æ³¨å†Œ&lt;/p&gt;\n&lt;p&gt;curl -X POST &#39;http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;amp;ip=20.18.7.10&amp;amp;port=8080&#39;&lt;br&gt;\næœåŠ¡å‘ç°&lt;/p&gt;\n&lt;p&gt;curl -X GET &#39;http://127.0.0.1:8848/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName&#39;&lt;br&gt;\nå‘å¸ƒé…ç½®&lt;/p&gt;\n&lt;p&gt;curl -X POST &amp;quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;amp;group=test&amp;amp;content=helloWorld&amp;quot;&lt;br&gt;\nè·å–é…ç½®&lt;/p&gt;\n&lt;p&gt;curl -X GET &amp;quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;amp;group=test&amp;quot;&lt;br&gt;\nNacos æ§åˆ¶å°&lt;/p&gt;\n&lt;p&gt;linkï¼šhttp://127.0.0.1:8848/nacos/ï¼ˆå› ä¸ºæ˜¯åœ¨æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹åº”çš„åŸŸåæˆ–è€…ipæ¥è®¿é—®ï¼‰&lt;/p&gt;\n&lt;h3 id=\&#34;æ³¨æ„è¿™é‡Œè¦ç”¨openapiæä¾›çš„å­—æ®µä¿¡æ¯å¤šäº†tenantå­—æ®µ-æœ‰å“ªé‡Œä¸æ˜ç™½çš„å¯ä»¥çœ‹ä¸‹å¼€å¤´çš„å®˜æ–¹æ–‡æ¡£å“ˆ\&#34;&gt;æ³¨æ„ï¼Œè¿™é‡Œè¦ç”¨openApiæä¾›çš„å­—æ®µä¿¡æ¯ï¼Œå¤šäº†tenantå­—æ®µã€‚æœ‰å“ªé‡Œä¸æ˜ç™½çš„å¯ä»¥çœ‹ä¸‹å¼€å¤´çš„å®˜æ–¹æ–‡æ¡£å“ˆã€‚&lt;/h3&gt;\n&#34;,&#34;fileName&#34;:&#34;sequelize&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å‰ç«¯ä½¿ç”¨Nacos&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-08-30 23:36:06&#34;,&#34;dateFormat&#34;:&#34;2021-08-30&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/sequelize&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:162000,&#34;words&#34;:664,&#34;minutes&#34;:3},&#34;description&#34;:&#34;å®˜ç½‘ä»‹ç»ï¼šä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚\nNacosä¸­æ–‡æ–‡æ¡£\n\næ¦‚è§ˆ\næ¬¢è¿æ¥åˆ° Nacos çš„ä¸–ç•Œï¼\nNacos è‡´åŠ›äºå¸®åŠ©æ‚¨å‘ç°ã€é…ç½®å’Œç®¡ç†å¾®æœåŠ¡ã€‚Nacos æä¾›äº†ä¸€ç»„ç®€å•æ˜“ç”¨çš„ç‰¹æ€§é›†ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå®ç°åŠ¨...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#nacos-docker-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B\&#34;&gt;Nacos Docker å¿«é€Ÿå¼€å§‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8C%E8%A6%81%E7%94%A8openapi%E6%8F%90%E4%BE%9B%E7%9A%84%E5%AD%97%E6%AE%B5%E4%BF%A1%E6%81%AF%E5%A4%9A%E4%BA%86tenant%E5%AD%97%E6%AE%B5-%E6%9C%89%E5%93%AA%E9%87%8C%E4%B8%8D%E6%98%8E%E7%99%BD%E7%9A%84%E5%8F%AF%E4%BB%A5%E7%9C%8B%E4%B8%8B%E5%BC%80%E5%A4%B4%E7%9A%84%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E5%93%88\&#34;&gt;æ³¨æ„ï¼Œè¿™é‡Œè¦ç”¨openApiæä¾›çš„å­—æ®µä¿¡æ¯ï¼Œå¤šäº†tenantå­—æ®µã€‚æœ‰å“ªé‡Œä¸æ˜ç™½çš„å¯ä»¥çœ‹ä¸‹å¼€å¤´çš„å®˜æ–¹æ–‡æ¡£å“ˆã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;a href=\&#34;https://www.itying.com/koa/article-index-id-90.html\&#34;&gt;koa2ä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;ä¸€-ä»€ä¹ˆæ˜¯koaçš„ä¸­é—´ä»¶\&#34;&gt;ä¸€ã€ä»€ä¹ˆæ˜¯Koaçš„ä¸­é—´ä»¶&lt;/h3&gt;\n&lt;p&gt;é€šä¿—çš„è®²ï¼šä¸­é—´ä»¶å°±æ˜¯åŒ¹é…è·¯ç”±ä¹‹å‰æˆ–è€…åŒ¹é…è·¯ç”±å®Œæˆåšçš„ä¸€ç³»åˆ—çš„æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒå«åšä¸­é—´ä»¶ã€‚&lt;/p&gt;\n&lt;p&gt;åœ¨expressä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡ï¼ˆrequest object (req)ï¼‰, å“åº”å¯¹è±¡ï¼ˆresponse object (res)ï¼‰, å’Œ web åº”ç”¨ä¸­å¤„ç†è¯·æ±‚-å“åº”å¾ªç¯æµç¨‹ä¸­çš„ä¸­é—´ä»¶ï¼Œä¸€èˆ¬è¢«å‘½åä¸º next çš„å˜é‡ã€‚åœ¨Koaä¸­ä¸­é—´ä»¶å’Œexpressæœ‰ç‚¹ç±»ä¼¼ã€‚&lt;/p&gt;\n&lt;p&gt;ä¸­é—´ä»¶çš„åŠŸèƒ½åŒ…æ‹¬ï¼š&lt;/p&gt;\n&lt;p&gt;æ‰§è¡Œä»»ä½•ä»£ç ã€‚&lt;br&gt;\nä¿®æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ã€‚&lt;br&gt;\nç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯ã€‚&lt;br&gt;\nè°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚æœæˆ‘çš„getã€postå›è°ƒå‡½æ•°ä¸­ï¼Œæ²¡æœ‰nextå‚æ•°ï¼Œé‚£ä¹ˆå°±åŒ¹é…ä¸Šç¬¬ä¸€ä¸ªè·¯ç”±ï¼Œå°±ä¸ä¼šå¾€ä¸‹åŒ¹é…äº†ã€‚å¦‚æœæƒ³å¾€ä¸‹åŒ¹é…çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦å†™next()&lt;/p&gt;\n&lt;h3 id=\&#34;äºŒ-koaåº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶\&#34;&gt;äºŒã€Koaåº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶ï¼š&lt;/h3&gt;\n&lt;p&gt;åº”ç”¨çº§ä¸­é—´ä»¶&lt;br&gt;\nè·¯ç”±çº§ä¸­é—´ä»¶&lt;br&gt;\né”™è¯¯å¤„ç†ä¸­é—´ä»¶&lt;br&gt;\nç¬¬ä¸‰æ–¹ä¸­é—´ä»¶&lt;/p&gt;\n&lt;h3 id=\&#34;ä¸‰-ä½¿ç”¨\&#34;&gt;ä¸‰ã€ä½¿ç”¨&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ol&gt;\n&lt;li&gt;asyncå’Œawait&lt;br&gt;\nåœ¨koaä¸­ä½¿ç”¨å…³é”®è¯ async æ ‡è®°çš„å‡½æ•°æ˜¯å¼‚æ­¥å‡½æ•°ï¼Œ&lt;br&gt;\nåœ¨å¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨ await next(); å¤„ç†ä¸‹ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;ol start=\&#34;2\&#34;&gt;\n&lt;li&gt;app.use(async func())&lt;br&gt;\nkoaçš„ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œå°†ä¸€ç³»åˆ—è¦å¤„ç†çš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªä¸ªå¼‚æ­¥å‡½æ•°ä¸­ï¼Œç„¶åç”¨Koaçš„å®ä¾‹appé€šè¿‡ app.use(async func()) çš„å½¢å¼è°ƒç”¨&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;ä¸€ä¸ªkoaåº”ç”¨ç¨‹åºå¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// å¯¼å…¥koaï¼Œå’Œkoa 1.xä¸åŒï¼Œåœ¨koa2ä¸­ï¼Œæˆ‘ä»¬å¯¼å…¥çš„æ˜¯ä¸€ä¸ªclassï¼Œå› æ­¤ç”¨å¤§å†™çš„Koaè¡¨ç¤º:\nconst Koa = require(&#39;koa&#39;);\nconst app = new Koa(); // åˆ›å»ºä¸€ä¸ªKoaå¯¹è±¡è¡¨ç¤ºweb appæœ¬èº«:\n\n// å¯¹äºä»»ä½•è¯·æ±‚ï¼Œappå°†è°ƒç”¨è¯¥å¼‚æ­¥å‡½æ•°å¤„ç†è¯·æ±‚ï¼š\napp.use(async (ctx, next) =&amp;gt; {\n    await next();\n    ctx.response.type = &#39;text/html&#39;;\n    ctx.response.body = &#39;&amp;lt;h1&amp;gt;Hello, koa2!&amp;lt;/h1&amp;gt;&#39;;\n});\n\n// åœ¨ç«¯å£3000ç›‘å¬:\napp.listen(3000);\nconsole.log(&#39;app started at port 3000...&#39;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¯ä»¥çœ‹åˆ° app.use() æ‹¬å·é‡Œé¢çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°ç”¨äº†å¼‚æ­¥ä¿®é¥°ç¬¦ async ï¼Œåœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨ï¼Œåˆé€šè¿‡å…³é”®å­— await next() è°ƒç”¨ä¸‹ä¸€ä¸ªapp.useçš„å¼‚æ­¥å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå‡½æ•°æ˜¯æœ€åä¸€ä¸ªéœ€è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œåˆ™å†…éƒ¨ä¸éœ€è¦å†å†™await nextï¼ˆï¼‰ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;å››-koaä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåº\&#34;&gt;å››ã€koaä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåº&lt;/h3&gt;\n&lt;p&gt;Expressçš„ä¸­é—´ä»¶æ˜¯é¡ºåºæ‰§è¡Œï¼Œä»ç¬¬ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œåˆ°æœ€åä¸€ä¸ªä¸­é—´ä»¶ï¼Œå‘å‡ºå“åº”ã€‚&lt;br&gt;\nKoaæ˜¯ä»ç¬¬ä¸€ä¸ªä¸­é—´ä»¶å¼€å§‹æ‰§è¡Œ,é‡åˆ° await next() å°±è¿›å…¥ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œä¸€ç›´åˆ°æ‰§è¡Œåˆ°æœ€åä¸€ä¸ªä¸­é—´ä»¶ã€‚ç„¶åå†é€†åºæ‰§è¡Œä¸Šä¸€ä¸ªä¸­é—´ä»¶ await next() åé¢çš„ä»£ç ï¼Œä¸€ç›´åˆ°ç¬¬ä¸€ä¸ªä¸­é—´ä»¶ await next() åé¢çš„ä»£ç æ‰§è¡Œå®Œæ¯•æ‰å‘å‡ºå“åº”ã€‚&lt;/p&gt;\n&lt;p&gt;koaæŠŠå¾ˆå¤šasyncå‡½æ•°ç»„æˆä¸€ä¸ªå¤„ç†é“¾ï¼Œæ¯ä¸ªasyncå‡½æ•°éƒ½å¯ä»¥åšä¸€äº›è‡ªå·±çš„äº‹æƒ…ï¼Œç„¶åç”¨await next()æ¥è°ƒç”¨ä¸‹ä¸€ä¸ªasyncå‡½æ•°ã€‚æˆ‘ä»¬æŠŠæ¯ä¸ªasyncå‡½æ•°ç§°ä¸ºmiddlewareï¼Œè¿™äº›middlewareå¯ä»¥ç»„åˆèµ·æ¥ï¼Œå®Œæˆå¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ã€‚&lt;/p&gt;\n&lt;p&gt;ä¾‹å­ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;app.use(async (ctx, next) =&amp;gt; {\n    console.log(&#39;1&#39;); \n    await next(); // è°ƒç”¨ä¸‹ä¸€ä¸ªmiddleware\n    console.log(&#39;5&#39;)\n});\n\napp.use(async (ctx, next) =&amp;gt; {\n    console.log(&#39;2&#39;);\n    await next(); // è°ƒç”¨ä¸‹ä¸€ä¸ªmiddleware\n    console.log(&#39;4&#39;);\n});\n\napp.use(async (ctx, next) =&amp;gt; {\n    console.log(&#39;3&#39;);\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¾“å‡ºç»“æœï¼š 12345&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;koa-zhong-jian-jian-yu-zhi-xing-shun-xu&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;KOAä¸­é—´ä»¶ä¸æ‰§è¡Œé¡ºåº&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-08-23 20:59:26&#34;,&#34;dateFormat&#34;:&#34;2021-08-23&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/koa-zhong-jian-jian-yu-zhi-xing-shun-xu&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:188000,&#34;words&#34;:808,&#34;minutes&#34;:4},&#34;description&#34;:&#34;koa2ä¸­æ–‡æ–‡æ¡£\nä¸€ã€ä»€ä¹ˆæ˜¯Koaçš„ä¸­é—´ä»¶\né€šä¿—çš„è®²ï¼šä¸­é—´ä»¶å°±æ˜¯åŒ¹é…è·¯ç”±ä¹‹å‰æˆ–è€…åŒ¹é…è·¯ç”±å®Œæˆåšçš„ä¸€ç³»åˆ—çš„æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒå«åšä¸­é—´ä»¶ã€‚\nåœ¨expressä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡ï¼ˆrequest obj...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AFkoa%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6\&#34;&gt;ä¸€ã€ä»€ä¹ˆæ˜¯Koaçš„ä¸­é—´ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C-koa%E5%BA%94%E7%94%A8%E5%8F%AF%E4%BD%BF%E7%94%A8%E5%A6%82%E4%B8%8B%E5%87%A0%E7%A7%8D%E4%B8%AD%E9%97%B4%E4%BB%B6\&#34;&gt;äºŒã€Koaåº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%89-%E4%BD%BF%E7%94%A8\&#34;&gt;ä¸‰ã€ä½¿ç”¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9B%9B-koa%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F\&#34;&gt;å››ã€koaä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåº&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;a href=\&#34;https://github.com/node-modules/parameter\&#34;&gt;parameteråœ°å€&lt;/a&gt;&lt;br&gt;\n// Koaæ¥å£å‚æ•°æ ¡éªŒä¸è¿”å›å€¼ç»Ÿä¸€å¤„ç†  å°†å‚æ•°æ ¡éªŒå˜æˆä¸€ä¸ªè·¯ç”±ä¸­é—´ä»¶ï¼Œæ­£ç¡®çš„è¯ç»§ç»­æ‰§è¡Œï¼Œé”™è¯¯çš„è¯æŠ›å‡ºé”™è¯¯å¼‚å¸¸ã€‚&lt;br&gt;\n// åœ¨ç¬¬ä¸€ä¸ªä¸­é—´ä»¶ä¸­è‡ªå®šä¹‰è¿”å›æ ¼å¼è¿™é‡Œå«ctx.DATAï¼ˆctxä¸Šè‡ªå®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åŒ…å«codeé»˜è®¤200,msgé»˜è®¤â€˜æˆåŠŸâ€™,dataé»˜è®¤ç©ºå¯¹è±¡ï¼‰&lt;br&gt;\n// è¿™é‡Œå¯¹é”™è¯¯å¼‚å¸¸åšäº†å¤„ç†ï¼ŒæŠ›å‡ºçš„æ˜¯å¸¦codeç ä»¥åŠä¸codeç å¯¹åº”çš„msgå’Œé”™è¯¯åŸå› dataçš„å¯¹è±¡ï¼Œæ­¤æ—¶æˆ‘ä»¬å°†é”™è¯¯ä¿¡æ¯èµ‹å€¼ç»™ctx.DATA.dataã€‚appä¸­å…ˆå†™ä¸€ä¸ªæ•è·é”™è¯¯çš„ä¸­é—´ä»¶ï¼Œè¿™æ ·æŠ›å‡ºçš„é”™è¯¯æˆ‘ä»¬èƒ½å¤Ÿæ•è·åˆ°ï¼Œç„¶åä»è¿™é‡Œæˆ‘ä»¬ç»™bodyèµ‹å€¼ï¼Œè¿™æ ·é”™è¯¯æ—¶è¿”å›çš„å°±æ˜¯codeç å’Œmessageéƒ½æœ‰çš„è¿”å›å€¼&lt;br&gt;\n// å½“æˆåŠŸæŸ¥æ‰¾åˆ°æ•°æ®åº“ä¸­çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ•°æ®ç»™ctx.DATA.dataï¼Œé‚£ä¹ˆè¿”å›å€¼å°±æ˜¯codeç ä¸º200ï¼Œmsgä¸ºæˆåŠŸï¼Œdataä¸ºæ­£ç¡®æ•°æ®çš„å¯¹è±¡äº†ã€‚ä¸‡ä¸€å‡ºç°äº†ç™»é™†å¤±è´¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¹å˜ctx.DATA.messageä¸ºç™»é™†å¤±è´¥ï¼Œæ”¹å˜codeç ç­‰&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;/**\n * æ•°æ®æ ¡éªŒ\n * wikiï¼šhttps://github.com/node-modules/parameter/blob/master/example.js\n * @type {Parameter}\n */\n// const { HttpError } = require(&#39;../../utils/tool/error&#39;)\nconst util = require(&#39;util&#39;)\n// const ERROR_MSG = require(&#39;./errorMsg&#39;)\nconst ERROR_MSG = Object.freeze({\n  // en\n  // 0: &#39;fail&#39;,\n  // 1: &#39;validation error&#39;,\n  // 200: &#39;ok&#39;,\n  // 400: &#39;invalid param&#39;,\n  // 401: &#39;unauthorized&#39;,\n  // 403: &#39;forbidden&#39;,\n  // 404: &#39;not found&#39;,\n  // 500: &#39;internal server error&#39;,\n  // 503: &#39;service busy&#39;,\n\n  // zh-cn\n  0: &#39;å¤±è´¥&#39;,\n  1: &#39;éªŒè¯ç é”™è¯¯&#39;,\n  200: &#39;æˆåŠŸ&#39;,\n  400: &#39;è¯·æ±‚å‡ºé”™&#39;,\n  401: &#39;æœªæˆæƒçš„è¯·æ±‚&#39;,\n  403: &#39;ç¦æ­¢ï¼šç¦æ­¢æ‰§è¡Œè®¿é—®&#39;,\n  404: &#39;æ‰¾ä¸åˆ°ï¼šè¯·æ£€æŸ¥URLä»¥ç¡®ä¿è·¯å¾„æ­£ç¡®&#39;,\n  500: &#39;æœåŠ¡å™¨çš„å†…éƒ¨é”™è¯¯&#39;,\n  503: &#39;æœåŠ¡ä¸å¯ç”¨&#39;\n})\n\nfunction CustomError(code, msg) {\n  Error.call(this, &#39;&#39;)\n\n  this.code = code\n  this.msg = msg || ERROR_MSG[code] || &#39;unknown error&#39;\n\n  this.getCodeMsg = function() {\n    return {\n      code: this.code,\n      msg: this.msg\n    }\n  }\n}\n\nutil.inherits(CustomError, Error)\n\nfunction HttpError(code, msg) {\n  if ([0, 1, 200, 400, 401, 403, 404, 500, 503].indexOf(code) &amp;lt; 0) {\n    throw Error(&#39;not an invalid http code&#39;)\n  }\n\n  CustomError.call(this, code, msg)\n}\n\nutil.inherits(HttpError, CustomError)\n\nconst Parameter = require(&#39;parameter&#39;)\nconst parm = new Parameter()\n\n// è‡ªå®šä¹‰æ ¡éªŒ\nparm.addRule(&#39;name&#39;, function(e, v) {\n  let sta = /^[a-z]$/.test(v)\n  return sta || &#39;åªèƒ½è¾“å…¥ä¸€ä¸ªå­—æ¯&#39;\n})\n\n// è·¯ç”±æ ¡éªŒåˆ—è¡¨\nconst ruleList = {\n  // ç™»å½•\n  &#39;post/api/login&#39;: {\n    mobile: { type: &#39;string&#39;, required: true },\n    password: { type: &#39;string&#39;, required: true }\n  },\n  // è·å–é…ç½®\n  &#39;get/api/setting&#39;: {\n    id: { type: &#39;string&#39;, required: true }\n  },\n  // ä¿å­˜é…ç½®\n  &#39;post/api/setting&#39;: {\n    id: { type: &#39;number&#39;, required: true },\n    title: { type: &#39;string&#39;, required: false },\n    report_fix_id: { type: &#39;string&#39;, required: false },\n    fix_url: { type: &#39;string&#39;, required: false },\n    env: { type: &#39;string&#39;, required: false },\n    report: { type: &#39;number&#39;, required: false },\n    report_interval: { type: &#39;number&#39;, required: false }\n  },\n  // CICD\n  &#39;post/api/deploy&#39;: {\n    name: { type: &#39;string&#39;, required: true },\n    branch: { type: &#39;string&#39;, required: false },\n    env: { type: &#39;string&#39;, required: false }\n  },\n  // ç”¨æˆ·è¯¦æƒ…\n  &#39;get/api/user-details&#39;: {\n    user_id: { type: &#39;string&#39;, required: true }\n  }\n}\n\n/**\n * æ ¡éªŒæ–¹æ³•\n * @param ctx\n * @param next\n * @returns {Promise&amp;lt;void&amp;gt;}\n */\nconst parameter = async (ctx, next) =&amp;gt; {\n  let errors, data\n  let method = &#39;get&#39;\n  if (ctx.request.method === &#39;GET&#39;) {\n    data = ctx.query\n  } else {\n    method = &#39;post&#39;\n    data = ctx.request.body\n  }\n  console.log(method, data)\n  try {\n    let name = ctx.req._parsedUrl.pathname\n    errors = parm.validate(ruleList[method + name], data)\n  } catch (e) {\n    throw new HttpError(0, e.toString())\n  }\n  if (errors &amp;amp;&amp;amp; errors.length) {\n    ctx.DATA.data = errors\n    throw new HttpError(0, &#39;æ•°æ®æ ¡éªŒæœªé€šè¿‡&#39;)\n  }\n  await next()\n}\nmodule.exports = parameter\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;router.js&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// æ•°æ®æ ¡éªŒ\nconst router = require(&#39;koa-router&#39;)()\nconst parameter = require(&#39;../utils/parameter&#39;)\n// project\nrouter.get(&#39;/api/user-details&#39;, parameter, userDetail)\nrouter.get(&#39;/api/setting&#39;, parameter, getSetting)\nrouter.post(&#39;/api/setting&#39;, parameter, setSetting)\n// common\nrouter.post(&#39;/api/login&#39;, parameter, login)\n// devops\nrouter.post(&#39;/api/deploy&#39;, parameter, checkToken, deploy)\n// swagger\nrouter.get(&#39;/api/swagger.json&#39;, async function (ctx) {\n  ctx.set(&#39;Content-Type&#39;, &#39;application/json&#39;)\n  ctx.body = openapiSpecification\n})\n// index\nrouter.get(&#39;/&#39;, index)\n\nmodule.exports = router\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;app.js&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const Koa = require(&#39;koa&#39;)\nconst app = new Koa()\nconst views = require(&#39;koa-views&#39;)\nconst json = require(&#39;koa-json&#39;)\nconst favicon = require(&#39;koa-favicon&#39;)\nconst koaBody = require(&#39;koa-body&#39;)\nconst logger = require(&#39;koa-logger&#39;)\nconst colors = require(&#39;colors&#39;)\nconst { resolve } = require(&#39;path&#39;)\nconst { koaSwagger } = require(&#39;koa2-swagger-ui&#39;)\nconst mysql = require(&#39;mysql2&#39;)\n\nconst conf = require(&#39;./config&#39;)\nconst index = require(&#39;./routes&#39;)\n\n// å…è®¸ä¸Šä¼ æ–‡ä»¶\napp.use(\n  koaBody({\n    multipart: true,\n    formidable: {\n      maxFileSize: 1000 * 1024 * 1024 // è®¾ç½®ä¸Šä¼ æ–‡ä»¶å¤§å°æœ€å¤§é™åˆ¶\n    }\n  })\n)\n\n// ç½‘ç«™å›¾æ ‡\napp.use(favicon(resolve(__dirname, &#39;./public&#39;, &#39;favicon.ico&#39;)))\n\n// è¿”å›ç¾åŒ–json\napp.use(json())\n\n// koa-logger\napp.use(logger())\n\n// èµ„æºæ–‡ä»¶\napp.use(require(&#39;koa-static&#39;)(resolve(__dirname, &#39;./public&#39;)))\n\n// æ¨¡æ¿å¼•æ“\napp.use(views(resolve(__dirname, &#39;./views&#39;), { map: { html: &#39;nunjucks&#39; } }))\n\n// sqlç‰¹æ®Šå­—ç¬¦å¤„ç†\nconst toEscapeString = val =&amp;gt; {\n  return mysql.escape(val)\n}\nconst toEscapeObject = dat =&amp;gt; {\n  for (let key in dat) {\n    typeof dat[key] === &#39;string&#39; &amp;amp;&amp;amp; (dat[key] = toEscapeString(dat[key]))\n    typeof dat[key] === &#39;object&#39; &amp;amp;&amp;amp; toEscapeObject(dat[key])\n  }\n  return dat\n}\n\n// åŠ å…¥cookie.getã€setåŠè‡ªå®šä¹‰è¿”å›æ ¼å¼\napp.use(async (ctx, next) =&amp;gt; {\n  ctx.cookie = {\n    set: (k, v, opt) =&amp;gt; {\n      opt = Object.assign({}, conf.cookieOptions, opt)\n      return ctx.cookies.set(k, v, opt)\n    },\n    get: (k, opt) =&amp;gt; {\n      opt = Object.assign({}, conf.cookieOptions, opt)\n      return ctx.cookies.get(k, opt)\n    }\n  }\n\n  let msg = {\n    0: &#39;å¤±è´¥&#39;,\n    1: &#39;éªŒè¯ç é”™è¯¯&#39;,\n    200: &#39;æˆåŠŸ&#39;,\n    400: &#39;è¯·æ±‚å‡ºé”™&#39;,\n    401: &#39;æœªæˆæƒçš„è¯·æ±‚&#39;,\n    403: &#39;ç¦æ­¢ï¼šç¦æ­¢æ‰§è¡Œè®¿é—®&#39;,\n    404: &#39;æ‰¾ä¸åˆ°ï¼šè¯·æ£€æŸ¥URLä»¥ç¡®ä¿è·¯å¾„æ­£ç¡®&#39;,\n    500: &#39;æœåŠ¡å™¨çš„å†…éƒ¨é”™è¯¯&#39;,\n    503: &#39;æœåŠ¡ä¸å¯ç”¨&#39;\n  }\n  ctx.json = dat =&amp;gt; {\n    !dat.message &amp;amp;&amp;amp; (dat.message = msg[dat.code])\n    return dat\n  }\n\n  // è‡ªå®šä¹‰è¿”å›æ ¼å¼\n  ctx.DATA = {\n    data: {},\n    message: &#39;&#39;,\n    code: 200\n  }\n\n  // çŠ¶æ€ç»Ÿä¸€åˆ¤æ–­\n  ctx.state = res =&amp;gt; {\n    return !(res &amp;amp;&amp;amp; res.length ? res[0] : res)\n  }\n  await next()\n})\n\n// swagger\napp.use(\n  koaSwagger({\n    routePrefix: &#39;/swagger&#39;, // host at /swagger instead of default /docs\n    swaggerOptions: {\n      url: &#39;/api/swagger.json&#39; // example path to json å…¶å®å°±æ˜¯ä¹‹åswagger-jsdocç”Ÿæˆçš„æ–‡æ¡£åœ°å€\n    }\n  })\n)\n// é”™è¯¯æ•è·\napp.use((ctx, next) =&amp;gt; {\n  return next().catch(err =&amp;gt; {\n    console.log(err)\n    let msg = err ? err.msg || err.toString() : &#39;unknown error&#39;\n    let code = err ? (err.code &amp;gt;= 0 ? err.code : 500) : 500\n    ctx.DATA.code = code\n    ctx.DATA.message = msg\n    ctx.body = ctx.DATA\n    ctx.status =\n      [200, 400, 401, 403, 404, 500, 503].indexOf(code) &amp;gt;= 0 ? code : 200\n  })\n})\n// routes\napp.use(index.routes(), index.allowedMethods())\n\napp.proxy = true\n\n// koa error-handling æœåŠ¡ç«¯ã€httpé”™è¯¯\napp.on(&#39;error&#39;, (err, ctx) =&amp;gt; {\n  console.error(&#39;server error&#39;, err, ctx)\n})\n\nmodule.exports = app\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;controllerå±‚çš„æ¥å£æ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const resData = {\n    os_type_data,\n    ip_data,\n    browser_data,\n    channel_group_data,\n    client_id_group_data,\n    sortArrFormat,\n    userActions\n  }\n  // æ­£å¸¸è¿”å›å†™æ³•ï¼Œä¸€ä¸ªä¸ªçš„å®šä¹‰å¾ˆéº»çƒ¦\n  // const successData = {\n  //   code: 0,\n  //   data: resData,\n  //   status: &#39;è¯·æ±‚æˆåŠŸ&#39;\n  // }\n  // ctx.body = successData\n  \n  // ç›´æ¥æŠŠç»“æœèµ‹å€¼ï¼Œcodeç å’Œmessageä¸ç”¨ç®¡\n  ctx.DATA.data = resData\n  ctx.body = ctx.json(ctx.DATA)\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;koa-jie-kou-can-shu-xiao-yan-yu-fan-hui-zhi-tong-yi-chu-li&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Koaæ¥å£å‚æ•°æ ¡éªŒä¸è¿”å›å€¼ç»Ÿä¸€å¤„ç†&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-08-20 19:03:04&#34;,&#34;dateFormat&#34;:&#34;2021-08-20&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/koa-jie-kou-can-shu-xiao-yan-yu-fan-hui-zhi-tong-yi-chu-li&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;7 min read&#34;,&#34;time&#34;:408000,&#34;words&#34;:1341,&#34;minutes&#34;:7},&#34;description&#34;:&#34;parameteråœ°å€\n// Koaæ¥å£å‚æ•°æ ¡éªŒä¸è¿”å›å€¼ç»Ÿä¸€å¤„ç†  å°†å‚æ•°æ ¡éªŒå˜æˆä¸€ä¸ªè·¯ç”±ä¸­é—´ä»¶ï¼Œæ­£ç¡®çš„è¯ç»§ç»­æ‰§è¡Œï¼Œé”™è¯¯çš„è¯æŠ›å‡ºé”™è¯¯å¼‚å¸¸ã€‚\n// åœ¨ç¬¬ä¸€ä¸ªä¸­é—´ä»¶ä¸­è‡ªå®šä¹‰è¿”å›æ ¼å¼è¿™é‡Œå«ctx.DATAï¼ˆctxä¸Šè‡ªå®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åŒ…å«code...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å…ˆçœ‹ä¸‹æ•ˆæœ&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642391805862.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nè¿™é‡Œæˆ‘ç”¨çš„æ˜¯koa2+swagger&lt;/p&gt;\n&lt;h3 id=\&#34;å®‰è£…\&#34;&gt;å®‰è£…&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;// koa2-swagger-ui UIè§†å›¾ç»„ä»¶  swagger-jsdoc è¯†åˆ«å†™çš„ /***/ è½¬ json\nnpm install koa2-swagger-ui swagger-jsdoc --save\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=\&#34;https://www.npmjs.com/package/koa2-swagger-ui\&#34;&gt;koa2-swagger-ui npmåœ°å€&lt;/a&gt; ï¼ˆåˆ›å»ºæ¥å£æ–‡æ¡£ï¼‰&lt;br&gt;\n&lt;a href=\&#34;https://www.npmjs.com/package/swagger-jsdoc\&#34;&gt;swagger-jsdoc npmåœ°å€&lt;/a&gt; ï¼ˆè¿™ä¸ªåº“è¯»å–å¸¦æœ‰jsdocæ³¨é‡Šçš„æºä»£ç ï¼Œå¹¶ç”ŸæˆOpenAPI (Swagger)è§„èŒƒã€‚ï¼‰&lt;br&gt;\n&lt;a href=\&#34;https://www.jianshu.com/p/5365ef83252a\&#34;&gt;OpenAPI è§„èŒƒæ‘˜è¦&lt;/a&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;é…ç½®\&#34;&gt;é…ç½®&lt;/h3&gt;\n&lt;p&gt;router.js&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const router = require(&#39;koa-router&#39;)() //å¼•å…¥è·¯ç”±å‡½æ•°\nconst swaggerJSDoc = require(&#39;swagger-jsdoc&#39;)\nconst path = require(&#39;path&#39;)\nconst swaggerDefinition = {\n  openapi: &#39;3.0.1&#39;,\n    info: {\n        title: &#39;blogé¡¹ç›®è®¿é—®åœ°å€&#39;,\n        version: &#39;1.0.0&#39;,\n        description: &#39;API&#39;,\n    },\n    basePath: &#39;/&#39;, // Base path (optional)\n    tags: [\n      {\n        name: &#39;manage&#39;,\n        description: &#39;ç®¡ç†ç³»ç»Ÿ&#39;\n      },\n      {\n        name: &#39;client&#39;,\n        description: &#39;æ—¥å¿—ä¸ŠæŠ¥&#39;\n      }\n    ],\n    schemes: [&#39;http&#39;, &#39;https&#39;],\n    securityDefinitions: {\n    server_auth: {\n      type: &#39;oauth2&#39;,\n      description: &#39;ç™»å½•è´¦å·å¯†ç é‰´æƒ&#39;,\n      tokenUrl: &#39;&#39;,\n      flow: &#39;password&#39;,\n      scopes: {\n        token: &#39;modify pets in your account&#39;\n      }\n    },\n    token: {\n      type: &#39;apiKey&#39;,\n      name: &#39;token&#39;,\n      in: &#39;header&#39;\n    }\n  }\n};\nconst options = {\n    swaggerDefinition,\n    apis: [path.join(__dirname, &#39;./controllers/*.js&#39;)], // åŒ…å«ä¸Šè¿°æ³¨é‡Šçš„æ–‡ä»¶ï¼ˆï¼‰\n};\nconst swaggerSpec = swaggerJSDoc(options)\n// é€šè¿‡è·¯ç”±è·å–ç”Ÿæˆçš„æ³¨è§£æ–‡ä»¶\nrouter.get(&#39;/swagger.json&#39;, async function (ctx) {\n    ctx.set(&#39;Content-Type&#39;, &#39;application/json&#39;);\n    ctx.body = swaggerSpec;\n})\nmodule.exports = router\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;app.js å…¥å£æ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const swagger = require(&#39;./router&#39;)  // routerä¸­åšäº†swaggeré…ç½®\nconst { koaSwagger } = require(&#39;koa2-swagger-ui&#39;)\n\n// æ¥å£æ–‡æ¡£é…ç½®\napp.use(swagger.routes(), swagger.allowedMethods())\napp.use(koaSwagger({\n  routePrefix: &#39;/swagger&#39;, // æ¥å£æ–‡æ¡£è®¿é—®åœ°å€\n  swaggerOptions: {\n    url: &#39;/swagger.json&#39;, // example path to json å…¶å®å°±æ˜¯ä¹‹åswagger-jsdocç”Ÿæˆçš„æ–‡æ¡£åœ°å€\n  }\n}))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®é¡¹ç›®æ¥å£åœ°å€ + swagger ï¼Œæˆ‘çš„åœ°å€æ˜¯ http://localhost:4002/swagger&lt;/p&gt;\n&lt;h3 id=\&#34;æ³¨é‡Šç”Ÿæˆæ–‡æ¡£\&#34;&gt;æ³¨é‡Šç”Ÿæˆæ–‡æ¡£&lt;/h3&gt;\n&lt;p&gt;åœ¨controllerå±‚æ–‡ä»¶æ¯ä¸ªæ¥å£ä¸Šå†™æ³¨é‡Šï¼Œæ³¨é‡Šæ˜¯ä»¥@swaggerå¼€å¤´çš„ï¼Œswagger-jsdoc ä¼šè¯†åˆ«@swaggerï¼Œç„¶åè§£æä¸‹é¢çš„æ³¨é‡Šï¼Œè§£æå®Œç»™koa2-swagger-uiæ˜¾ç¤ºæˆé¡µé¢ï¼Œæ€»çš„æµç¨‹å°±æ˜¯è¿™æ ·ã€‚&lt;br&gt;\ngetæ–¹å¼&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// è·å–åšå®¢åˆ—è¡¨\n/**\n * @swagger\n * /api/blog/list:\n *   get:\n *     summary: è·å–åšå®¢åˆ—è¡¨\n *     description: è·å–åšå®¢åˆ—è¡¨\n *     tags:\n *       - blogs\n *     parameters:\n *       - name: author\n *         in: query\n *         required: false\n *         description: ä½œè€…\n *         type: string\n *       - name: keyword\n *         in: query\n *         required: false\n *         description: æœç´¢å…³é”®å­—\n *         type: string\n *     responses:\n *       200:\n *         description: æˆåŠŸè·å–\n */\nrouter.get(&#39;/list&#39;, async (ctx, next) =&amp;gt; {\n  const query = ctx.query\n  let author = query.author || &#39;&#39;\n  const keyword = query.keyword || &#39;&#39;\n\n  const listData = await getList(author, keyword)\n  ctx.body = new SuccessModel(listData)\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;postæ–¹å¼&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;/**\n * @swagger\n * definitions:\n *  loginparam:\n *    properties:\n *      username:\n *        type: &amp;quot;string&amp;quot;\n *        default: &amp;quot;shangsan&amp;quot;\n *        description: ç”¨æˆ·å\n *      password:\n *        type: &amp;quot;string&amp;quot;\n *        default: &amp;quot;123&amp;quot;\n *        description: å¯†ç \n */\n\n/**\n * @swagger\n * components:\n *   schemas:\n *     ProjectDetail:\n *       type: object\n *       properties:\n *         id:\n *           type: integer\n *           format: int64\n *         petId:\n *           type: integer\n *           format: int64\n *         quantity:\n *           type: integer\n *           format: int32\n *         shipDate:\n *           type: string\n *           format: date-time\n */\n\n/**\n * @swagger\n * /api/user/login:\n *   post:\n *     summary: ç™»å½•\n *     description: ç™»å½•\n *     tags:\n *       - user\n *     consumes:\n *      - application/json\n *      - application/xml\n *     produces:\n *      - application/json\n *      - application/xml\n *     parameters:\n *       - name: body\n *         in: body\n *         schema:\n *          $ref: &#39;#/definitions/loginparam&#39; ï¼ˆè¯·æ±‚å‚æ•°è¿™é‡Œå•ç‹¬æŠ½å‡ºï¼Œåœ¨ä¸Šé¢å®šä¹‰ï¼‰\n *     responses:\n *       200:\n *         description: å‘å¸ƒæˆåŠŸ\n *          content:\n *           application/json:\n *             schema:\n *               $ref: &#39;#/components/schemas/ProjectDetail&#39;ï¼ˆè¿”å›å‚æ•°ä¹Ÿæ˜¯å•ç‹¬æŠ½å‡ºå®šä¹‰ï¼Œè¿™é‡Œæ˜¯éšä¾¿ä¸¾ä¸ªä¾‹å­ï¼‰\n *       402:\n *          description: ä¿¡æ¯å¡«å†™ä¸å…¨\n *       403:\n *          description: å‚æ•°ç±»å‹é”™è¯¯\n */\n\nrouter.post(&#39;/login&#39;, async (ctx, next) =&amp;gt; {\n    // ä¸šåŠ¡é€»è¾‘\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿”å›ç¤ºä¾‹&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642412213197.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nåŸºæœ¬çš„æ¥å£æ–‡æ¡£å°±ç”Ÿæˆå•¦ï¼Œå¿«è¯•ä¸€ä¸‹å§ï½&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;node-jie-kou-sheng-cheng-jie-kou-wen-dang&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;nodeæ¥å£ç”Ÿæˆæ¥å£æ–‡æ¡£&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-08-12 19:21:22&#34;,&#34;dateFormat&#34;:&#34;2021-08-12&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/node-jie-kou-sheng-cheng-jie-kou-wen-dang&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:193000,&#34;words&#34;:670,&#34;minutes&#34;:4},&#34;description&#34;:&#34;å…ˆçœ‹ä¸‹æ•ˆæœ\n\nè¿™é‡Œæˆ‘ç”¨çš„æ˜¯koa2+swagger\nå®‰è£…\n// koa2-swagger-ui UIè§†å›¾ç»„ä»¶  swagger-jsdoc è¯†åˆ«å†™çš„ /***/ è½¬ json\nnpm install koa2-swagger-ui swag...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85\&#34;&gt;å®‰è£…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%85%8D%E7%BD%AE\&#34;&gt;é…ç½®&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B3%A8%E9%87%8A%E7%94%9F%E6%88%90%E6%96%87%E6%A1%A3\&#34;&gt;æ³¨é‡Šç”Ÿæˆæ–‡æ¡£&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å¯é€‰é“¾æ“ä½œç¬¦\&#34;&gt;å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰&lt;/h3&gt;\n&lt;p&gt;ä»¥å‰å†™ä»£ç åšåˆ¤æ–­ä¸€èˆ¬è¿™æ ·å†™æˆ–è€…ä¸‰ç›®è¿ç®—ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;let nestedProp = obj.first &amp;amp;&amp;amp; obj.first.second;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç°åœ¨åªéœ€è¦è¿™æ ·å†™ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const adventurer = {\n  name: &#39;Alice&#39;,\n  cat: {\n    name: &#39;Dinah&#39;\n  }\n};\n\nconst dogName = adventurer.dog?.name;\nconsole.log(dogName);\n// expected output: undefined\n\nconsole.log(adventurer.someNonExistentMethod?.());\n// expected output: undefined\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;å¯é€‰é“¾æ“ä½œç¬¦( ?. )å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚?. æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº . é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸ºç©º(nullish ) (null æˆ–è€… undefined) çš„æƒ…å†µä¸‹ä¸ä¼šå¼•èµ·é”™è¯¯ï¼Œè¯¥è¡¨è¾¾å¼çŸ­è·¯è¿”å›å€¼&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3 id=\&#34;ç©ºå€¼åˆå¹¶æ“ä½œç¬¦\&#34;&gt;ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰&lt;/h3&gt;\n&lt;blockquote&gt;\n&lt;p&gt;åªæœ‰å½“å·¦ä¾§ä¸ºnullå’Œundefinedæ—¶ï¼Œæ‰ä¼šè¿”å›å³ä¾§çš„æ•°&lt;br&gt;\nç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º null æˆ–è€… undefined æ—¶ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚&lt;br&gt;\nä¸é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ||ï¼‰ä¸åŒï¼Œé€»è¾‘æˆ–æ“ä½œç¬¦ä¼šåœ¨å·¦ä¾§æ“ä½œæ•°ä¸ºå‡å€¼æ—¶è¿”å›å³ä¾§æ“ä½œæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½¿ç”¨ ?? æ¥ä¸ºæŸäº›å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¯èƒ½ä¼šé‡åˆ°æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚æ¯”å¦‚ä¸ºå‡å€¼ï¼ˆä¾‹å¦‚ï¼Œ&#39;&#39; æˆ– 0ï¼‰æ—¶ã€‚è§ä¸‹é¢çš„ä¾‹å­ã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const foo = null ?? &#39;default string&#39;;\nconsole.log(foo);\n// expected output: &amp;quot;default string&amp;quot;\n\nconst baz = 0 ?? 42;\nconsole.log(baz);\n// expected output: 0\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const nullValue = null;\nconst emptyText = &amp;quot;&amp;quot;; // ç©ºå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªå‡å€¼ï¼ŒBoolean(&amp;quot;&amp;quot;) === false\nconst someNumber = 42;\n\nconst valA = nullValue ?? &amp;quot;valA çš„é»˜è®¤å€¼&amp;quot;;\nconst valB = emptyText ?? &amp;quot;valB çš„é»˜è®¤å€¼&amp;quot;;\nconst valC = someNumber ?? 0;\n\nconsole.log(valA); // &amp;quot;valA çš„é»˜è®¤å€¼&amp;quot;\nconsole.log(valB); // &amp;quot;&amp;quot;ï¼ˆç©ºå­—ç¬¦ä¸²è™½ç„¶æ˜¯å‡å€¼ï¼Œä½†ä¸æ˜¯ null æˆ–è€… undefinedï¼‰\nconsole.log(valC); // 42\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;ä¸ç»“åˆä½¿ç”¨\&#34;&gt;?.ä¸??ç»“åˆä½¿ç”¨&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;// ç©ºå€¼åˆå¹¶æ“ä½œç¬¦å¯ä»¥åœ¨ä½¿ç”¨å¯é€‰é“¾æ—¶è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼š\n\nlet customer = {\nname: &amp;quot;Carl&amp;quot;,\ndetails: { age: 82 }\n};\n\nlet customerCity = customer?.city ?? &amp;quot;æš—ä¹‹åŸ&amp;quot;;\nconsole.log(customerCity);  // â€œæš—ä¹‹åŸâ€\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;å·¥ç¨‹ä¸­æ€æ ·ä½¿ç”¨\&#34;&gt;å·¥ç¨‹ä¸­æ€æ ·ä½¿ç”¨&lt;/h4&gt;\n&lt;p&gt;babel7ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹2ä¸ªdevDependenciesä¾èµ–ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;@babel/plugin-proposal-optional-chaining // å¯é€‰é“¾\n@babel/plugin-proposal-nullish-coalescing-operator // åŒé—®å·\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åœ¨.babelrcæˆ–è€…babel.config.jsä¸­è¿™åŠ å…¥2ä¸ªæ’ä»¶(pluginså±æ€§æ”¾åœ¨JSONé¡¶å±‚)ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;plugins&amp;quot;: [\n      &amp;quot;@babel/plugin-proposal-nullish-coalescing-operator&amp;quot;,\n      &amp;quot;@babel/plugin-proposal-optional-chaining&amp;quot;\n  ]\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;è¿ç®—\&#34;&gt;!!è¿ç®—&lt;/h3&gt;\n&lt;p&gt;ä¸¤ä¸ªå¹å·è¡¨ç¤ºæŠŠç›®æ ‡å€¼è½¬åŒ–ä¸ºå¸ƒå°”å€¼ï¼Œç›¸å½“äºä½¿ç”¨Boolean()æ–¹æ³•&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;!!&amp;quot;123&amp;quot;  ç›¸å½“äºæ˜¯   Boolean(&amp;quot;123&amp;quot;)    //ç»“æœä¸ºtrue\n!!{a:1}  ç›¸å½“äºæ˜¯    Boolean({a:1})    //ç»“æœä¸ºtrue\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åœ¨ifè¯­å¥ä¸­,è¡¨è¾¾å¼çš„ç»“æœå°†è¢«å¼ºåˆ¶ä¸ºå¸ƒå°”å€¼ï¼Œé€šè¿‡åŒé‡å¦å®šï¼ˆ!!ï¼‰æˆ–å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”å€¼Booleanæ˜¯ä¸å¿…è¦çš„ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;~~è¿ç®—\&#34;&gt;~~è¿ç®—&lt;/h3&gt;\n&lt;p&gt;~~ ä¼šæŠŠåé¢çš„è¡¨è¾¾å¼å¼ºè¡Œå˜æˆint&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;var n = ~~5; // 5\nvar m = ~~-8; // -8\nvar j = ~~true; // å°†trueè½¬æ¢ä¸ºintï¼Œä¹Ÿå°±æ˜¯1ï¼Œç„¶åå†è®¡ç®—ã€‚ç»“æœä¸º1\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;cao-zuo-fu&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;jsä¸­çš„ä¸€äº›æ“ä½œç¬¦ ?./??/!!/~~&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;js&#34;,&#34;slug&#34;:&#34;3uoOai8za&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/3uoOai8za&#34;}],&#34;date&#34;:&#34;2021-07-29 20:04:04&#34;,&#34;dateFormat&#34;:&#34;2021-07-29&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/cao-zuo-fu&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:170000,&#34;words&#34;:682,&#34;minutes&#34;:3},&#34;description&#34;:&#34;å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰\nä»¥å‰å†™ä»£ç åšåˆ¤æ–­ä¸€èˆ¬è¿™æ ·å†™æˆ–è€…ä¸‰ç›®è¿ç®—ï¼š\nlet nestedProp = obj.first &amp;amp;&amp;amp; obj.first.second;\n\nç°åœ¨åªéœ€è¦è¿™æ ·å†™ï¼š\nconst adventurer = {\n...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%AF%E9%80%89%E9%93%BE%E6%93%8D%E4%BD%9C%E7%AC%A6\&#34;&gt;å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A9%BA%E5%80%BC%E5%90%88%E5%B9%B6%E6%93%8D%E4%BD%9C%E7%AC%A6\&#34;&gt;ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%8E%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8\&#34;&gt;?.ä¸??ç»“åˆä½¿ç”¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B7%A5%E7%A8%8B%E4%B8%AD%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8\&#34;&gt;å·¥ç¨‹ä¸­æ€æ ·ä½¿ç”¨&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BF%90%E7%AE%97\&#34;&gt;!!è¿ç®—&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#~~%E8%BF%90%E7%AE%97\&#34;&gt;~~è¿ç®—&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;a href=\&#34;https://www.mysqlzh.com/doc/124.html\&#34;&gt;mysqlä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;1æŸ¥è¯¢è®°å½•\&#34;&gt;1.æŸ¥è¯¢è®°å½•&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;select*from è¡¨å [where æ¡ä»¶];\n\neg:select*from students;//æŸ¥è¯¢ students è¡¨ä¸­æ‰€æœ‰è®°å½•ï¼Œæ‰€æœ‰å­—æ®µçš„å€¼éƒ½æ˜¾ç¤ºå‡ºæ¥\n\nselect field1,field2,...fieldn... from è¡¨å [where æ¡ä»¶];\n\neg:select id,name,age from students;//æŸ¥è¯¢ students è¡¨ä¸­æ‰€æœ‰è®°å½•, åªæ˜¾ç¤ºå‡º idï¼Œnameï¼Œageä¸‰ä¸ªå­—æ®µçš„å€¼\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;1.â€œ*â€è¡¨ç¤ºå°†æ‰€æœ‰çš„å­—æ®µéƒ½æ˜¾ç¤ºå‡ºæ¥&lt;/p&gt;\n&lt;p&gt;2.ç”¨é€—å·åˆ†å‰²ï¼Œåˆ—å‡ºéœ€è¦æ˜¾ç¤ºçš„å­—æ®µ&lt;/p&gt;\n&lt;h3 id=\&#34;2æŸ¥è¯¢ä¸é‡å¤çš„è®°å½•\&#34;&gt;2.æŸ¥è¯¢ä¸é‡å¤çš„è®°å½•&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;select distinct å­—æ®µ from è¡¨å;\n\neg: select distinct name from students;//æŸ¥è¯¢åå­—ä¸ç›¸åŒçš„å­¦ç”Ÿ;\nã€€ã€€select distinct name,age from students;//æŸ¥è¯¢åå­—å’Œå¹´é¾„åŒæ—¶ä¸åŒçš„å­¦ç”Ÿ\nã€€ã€€\nã€€ã€€1.distinctå¿…é¡»æ”¾åœ¨æœ€å¼€å¤´\nã€€ã€€2.distinctåªèƒ½ä½¿ç”¨éœ€è¦å»é‡çš„å­—æ®µè¿›è¡Œæ“ä½œã€‚  ----ä¹Ÿå°±æ˜¯è¯´æˆ‘sidtinctäº†name,ageä¸¤ä¸ªå­—æ®µï¼Œæˆ‘åé¢æƒ³æ ¹æ®idè¿›è¡Œæ’åºï¼Œæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸ºåªèƒ½name,ageä¸¤ä¸ªå­—æ®µè¿›è¡Œæ“ä½œ.\nã€€ã€€3.distinctå»é‡å¤šä¸ªå­—æ®µæ—¶ï¼Œå«ä¹‰æ˜¯ï¼šå‡ ä¸ªå­—æ®µ åŒæ—¶é‡å¤ æ—¶æ‰ä¼šè¢« è¿‡æ»¤ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;3æ¡ä»¶æŸ¥è¯¢\&#34;&gt;3.æ¡ä»¶æŸ¥è¯¢&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;select å­—æ®µ from è¡¨å where æ¡ä»¶;\n\neg:select * from student where sex=&#39;ç”·&#39; and age&amp;gt;20; //æŸ¥è¯¢æ€§åˆ«æ˜¯ç”·ï¼Œå¹¶ä¸”å¹´é¾„å¤§äº20å²çš„äººã€‚\n\nwhereåé¢çš„æ¡ä»¶å¯ä»¥ç”¨&amp;gt;ã€&amp;lt;ã€&amp;gt;=ã€&amp;lt;=ã€!=ç­‰å¤šç§æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå¤šä¸ªæ¡ä»¶ä¹‹é—´å¯ä»¥ç”¨orã€andç­‰é€»è¾‘è¿ç®—ç¬¦\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;4æ’åºå’Œé™åˆ¶\&#34;&gt;4.æ’åºå’Œé™åˆ¶&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;æ’åº\nselect * from è¡¨å [where æ¡ä»¶] [ order by  field1 [desc/asc],field2 [desc/asc]... ];\n\neg:select *from student order by age desc;//æŸ¥è¯¢å­¦ç”Ÿè¡¨å¹¶æŒ‰å¹´é¾„é™åºæ’åˆ—ã€‚\n\n1.desc é™åºæ’åˆ—ï¼Œasc å‡åºæ’åˆ—\n2.order by åé¢å¯ä»¥è·Ÿå¤šä¸ªä¸åŒçš„æ’åºå­—æ®µï¼Œæ¯ä¸ªæ’åºå­—æ®µéƒ½å¯ä»¥æœ‰ä¸åŒçš„æ’åºé¡ºåºã€‚\n3.å¦‚æœæ’åºå­—æ®µçš„å€¼ä¸€æ ·ï¼Œåˆ™ç›¸åŒçš„å­—æ®µæŒ‰ç…§ç¬¬äºŒä¸ªæ’åºå­—æ®µè¿›è¡Œæ’åºã€‚\n4.å¦‚æœåªæœ‰ä¸€ä¸ªæ’åºå­—æ®µï¼Œåˆ™å­—æ®µç›¸åŒçš„è®°å½•å°†ä¼šæ— åºæ’åˆ—ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;é™åˆ¶\nselect ... [limit èµ·å§‹åç§»é‡,è¡Œæ•°];\n\neg:select * from student order by mark desc limit 5;//å–å‡ºæˆç»©å‰äº”åçš„å­¦ç”Ÿ(çœç•¥äº†èµ·å§‹åç§»é‡ï¼Œæ­¤æ—¶é»˜è®¤ä¸º0)\n\n1.é»˜è®¤æƒ…å†µä¸‹ï¼Œèµ·å§‹åç§»é‡ä¸º0ï¼Œåªå†™è®°å½•è¡Œæ•°å°±å¯ä»¥ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;5èšåˆ\&#34;&gt;5.èšåˆ&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;select å­—æ®µ fun_name from è¡¨å [where æ¡ä»¶] [group by field1,field2...] [with rollup] [having æ¡ä»¶];\n\neg:\n\n1.fun_name è¡¨ç¤ºè¦åšçš„èšåˆæ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´èšåˆå‡½æ•°ï¼Œå¸¸ç”¨çš„æœ‰ : sum(æ±‚å’Œ)ã€count(*)(è®°å½•æ•°)ã€max(æœ€å¤§å€¼)ã€min(æœ€å°å€¼)ã€‚\n2.group byå…³é”®å­— è¡¨ç¤ºè¦è¿›è¡Œåˆ†ç±»èšåˆçš„å­—æ®µã€‚æ¯”å¦‚è¦æŒ‰ç…§éƒ¨é—¨åˆ†ç±»ç»Ÿè®¡å‘˜å·¥æ•°é‡ï¼Œéƒ¨é—¨å°±åº”è¯¥å†™åœ¨group by åé¢ã€‚\n3.with rollup æ˜¯å¯é€‰è¯­æ³•ï¼Œè¡¨æ˜æ˜¯å¦å¯¹åˆ†ç±»èšåˆåçš„ç»“æœè¿›è¡Œå†æ±‡æ€»\n4.having å…³é”®å­—è¡¨ç¤ºå¯¹åˆ†ç±»åçš„ç»“æœå†è¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å…¬å¸å‘˜å·¥è¡¨Aå¦‚ä¸‹ (ç¼–å·ï¼Œå§“ï¼Œåï¼Œè–ªæ°´) ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642143111386.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡æ€»äººæ•°\nselect count(1) from A;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642143169839.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡å„ä¸ªå§“çš„äººæ•°\nselect xing,count(1) from A group by xing;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;2\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642143194061.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;pre&gt;&lt;code&gt;æ—¢è¦ç»Ÿè®¡å„ä¸ªå§“çš„äººæ•°ï¼Œåˆç»Ÿè®¡æ€»äººæ•°\nselect xing,count(1) from A group by xing with rollup;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;3\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642143250933.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡äººæ•°å¤§4çš„å§“\nselect xing,count(1) from A group by xing having count(1)&amp;gt;4;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;4\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642143298558.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;pre&gt;&lt;code&gt;ç»Ÿè®¡è–ªæ°´æ€»é¢ï¼Œæœ€ä½è–ªèµ„ï¼Œæœ€é«˜è–ªèµ„\nselect count(1),min(salary),max(salary) from A;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;5\&#34;&gt;&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642143319528.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h3 id=\&#34;6ä¸ºè¡¨å’Œå­—æ®µå–åˆ«å\&#34;&gt;6.ä¸ºè¡¨å’Œå­—æ®µå–åˆ«å&lt;/h3&gt;\n&lt;p&gt;åœ¨æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¯ä»¥ä¸ºè¡¨å’Œå­—æ®µå–åˆ«åï¼Œè¿™ä¸ªåˆ«åå¯ä»¥ä»£æ›¿æŒ‡å®šçš„è¡¨å’Œå­—æ®µã€‚å¦‚æœè¡¨åå¾ˆé•¿ï¼Œç”¨èµ·æ¥ä¸æ–¹ä¾¿ï¼Œåˆ™å¯ä»¥ç”¨ä¸€ä¸ªåˆ«åæ¥ä»£æ›¿ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š(aså…³é”®å­—å¯çœç•¥)&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;select * from è¡¨å [as] åˆ«å  ï¼ˆä¸ºè¡¨å–åˆ«åï¼‰\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;SELECT å­—æ®µå [AS] åˆ«å[,å­—æ®µå [AS] åˆ«å,â€¦â€¦] FROM è¡¨å; (ä¸ºå­—æ®µå–åˆ«å)\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;mysql-cha-xun-yu-ju&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;mysqlæŸ¥è¯¢è¯­å¥&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mysql&#34;,&#34;slug&#34;:&#34;pzYATVrka&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/pzYATVrka&#34;},{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-07-22 20:46:38&#34;,&#34;dateFormat&#34;:&#34;2021-07-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/mysql-cha-xun-yu-ju&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:220000,&#34;words&#34;:918,&#34;minutes&#34;:4},&#34;description&#34;:&#34;mysqlä¸­æ–‡æ–‡æ¡£\n1.æŸ¥è¯¢è®°å½•\nselect*from è¡¨å [where æ¡ä»¶];\n\neg:select*from students;//æŸ¥è¯¢ students è¡¨ä¸­æ‰€æœ‰è®°å½•ï¼Œæ‰€æœ‰å­—æ®µçš„å€¼éƒ½æ˜¾ç¤ºå‡ºæ¥\n\nselect field1,fie...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1%E6%9F%A5%E8%AF%A2%E8%AE%B0%E5%BD%95\&#34;&gt;1.æŸ¥è¯¢è®°å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2%E6%9F%A5%E8%AF%A2%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E8%AE%B0%E5%BD%95\&#34;&gt;2.æŸ¥è¯¢ä¸é‡å¤çš„è®°å½•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2\&#34;&gt;3.æ¡ä»¶æŸ¥è¯¢&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4%E6%8E%92%E5%BA%8F%E5%92%8C%E9%99%90%E5%88%B6\&#34;&gt;4.æ’åºå’Œé™åˆ¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#5%E8%81%9A%E5%90%88\&#34;&gt;5.èšåˆ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#6%E4%B8%BA%E8%A1%A8%E5%92%8C%E5%AD%97%E6%AE%B5%E5%8F%96%E5%88%AB%E5%90%8D\&#34;&gt;6.ä¸ºè¡¨å’Œå­—æ®µå–åˆ«å&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;a href=\&#34;http://www.dockerinfo.net/document\&#34;&gt;dockerä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;æœ€è¿‘Dockerçªç„¶ç«å¾—ä¸å¾—äº†ï¼Œåˆ°å¤„éƒ½æ˜¯è°ˆè®ºDockerçš„å£°éŸ³ï¼Œç›¸ä¿¡å¤§å®¶å’Œå°ç¼–ä¸€æ ·çš„å¿ƒæƒ…ï¼Œçœ‹è¿™ä¸ªä¸œè¥¿æœ‰ç‚¹é«˜å¤§ä¸Šï¼Œä½†å°è¯•å»é˜…è¯»Dockeræ–‡ç« æ—¶åˆå‘ç°æ¦‚å¿µå¾ˆæ¨¡ç³Šã€ä¸æ¥åœ°æ°”ã€éš¾ä»¥ç†è§£ã€æ— ä»ä¸‹æ‰‹â€¦äºæ˜¯ä¸‰å¤©æ‰“é±¼ä¸¤å¤©æ™’ç½‘ï¼Œæœ€ç»ˆä¸äº†äº†ä¹‹ï¼Œåæ­£å…¬å¸ä¹Ÿæ²¡è¦æ±‚ç”¨è¿™ç©æ„å„¿ï¼Œä¸è´¹åŠ²äº†â€¦ è¿™ä¸ï¼Œå½“å‰å‡ å¤©é¡¹ç›®è¦æ±‚å¿«é€Ÿä¸Šçº¿å¹¶ä¸”éƒ¨ç½²å¤šå°æœåŠ¡å™¨ç¯å¢ƒæ—¶ï¼Œå°ç¼–ä¸€å°ä¸€å°æœåŠ¡å™¨çš„yum installã€vimã€restartâ€¦æƒ³å±çš„å¿ƒéƒ½æœ‰ï¼Œé‚£æ—¶å°ç¼–å¿ƒé‡Œæƒ³è¦æ˜¯æœ‰ä¸€ä¸ªè¿™ä¹ˆä¸€ä¸ªUç›˜ï¼Œèƒ½æŠŠæ•´ä¸ªç¯å¢ƒä¸€å°ä¸€å°çš„Ctrl+Vè¿‡å»ï¼Œé‚£è¯¥å¤šå¥½å•Šã€‚é‚£æ—¶è„‘å­ä¸€ä¸‹å­é—ªè¿‡ä¸€ä¸ªå¿µå¤´ï¼šDockerä¸å°±æ˜¯æˆ‘æƒ³æ‹¥æœ‰çš„é‚£ä¸ªUç›˜å—ã€‚&lt;/p&gt;\n&lt;p&gt;æ€€ç€è¿™æ ·çš„ä¸€ä¸ªå¿µå¤´ï¼Œå°ç¼–èŠ±äº†ä¸€äº›æ—¶é—´å»æŸ¥é˜…Dockerç›¸å…³çš„ä¹¦ç±ã€çœ‹è§†é¢‘ã€é€›è®ºå›ï¼Œåˆšå¼€å§‹å­¦ä¹ æ—¶éå¸¸éš¾å—ï¼Œæä¸æ‡‚ä»€ä¹ˆæ˜¯å®¹å™¨ä»€ä¹ˆæ˜¯é•œåƒä»€ä¹ˆæ˜¯é²¸é±¼èˆ¹â€¦è€Œæ¶‰åŠåˆ°ä¸€äº›åŸç†åº•å±‚çš„çŸ¥è¯†ï¼Œä¹¦ç±é‡Œçš„é‚£äº›æ¦‚å¿µæ¯”ä»£ç éƒ½èƒ½æ‡‚ï¼Œå°ç¼–ç¡¬å•ƒäº†ä¸€æ®µæ—¶é—´å¹¶ä¸”å®æ“äº†å‡ æ¬¡ä¹‹åï¼Œå†å›è¿‡å¤´æ¥ï¼Œæ‰è±ç„¶å¼€æœ—ã€‚å¿µåŠè®¸å¤šæƒ³è¦å­¦Dockerå´è‹¦äºéš¾ä»¥å…¥é—¨çš„å¼€å‘è€…ä»¬ï¼Œæ­£åœ¨å­¦ä¹ å´å¾ˆæŒ£æ‰çš„åˆå­¦è€…ä»¬ï¼Œæ•…è€ŒæŠŠå°ç¼–è¿™æ®µæ—¶é—´çš„å­¦ä¹ æˆæœï¼Œä»¥ä¸€ä¸ªåˆå­¦è€…çš„è§’åº¦ï¼Œéµå¾ªå¾ªåºæ¸è¿›çš„åŸåˆ™ï¼Œç¼–æˆä¸€ä»½é€šä¿—æ˜“æ‡‚çš„æ–‡ç« ï¼Œå¸Œæœ›èƒ½ä»¥æ­¤å¼•å¯¼å…¥é—¨ï¼Œæ—©æ—¥æˆDockerå¤§ç¥ã€‚&lt;/p&gt;\n&lt;p&gt;æ–‡ç« æçº²ï¼š&lt;/p&gt;\n&lt;p&gt;1ã€ä»€ä¹ˆæ˜¯Docker&lt;/p&gt;\n&lt;p&gt;2ã€Dockerå¯¹æˆ‘ä»¬æœ‰ä»€ä¹ˆç”¨å¤„&lt;/p&gt;\n&lt;p&gt;3ã€Dockerå®‰è£…å’Œä½¿ç”¨&lt;/p&gt;\n&lt;p&gt;4ã€å½©è›‹&lt;/p&gt;\n&lt;p&gt;1ã€ä»€ä¹ˆæ˜¯Docker&lt;br&gt;\nä»€ä¹ˆæ˜¯dockerï¼Ÿææ€•90%çš„äººè„‘å­ä¸€é—ªè€Œè¿‡çš„éƒ½æ˜¯é‚£å¼ å›¾ï¼šä¸€æ¡é²¸é±¼èƒŒä¸Šæ‰›ç€ä¸€å †ç®±å­ï¼Œå›¾ç‰‡ä¸‹æ–¹æ˜¯å¤§å¤§çš„â€œdockerâ€ã€‚&lt;/p&gt;\n&lt;p&gt;dockeræ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;\n&lt;p&gt;æ˜¯é²¸é±¼ï¼Ÿ&lt;/p&gt;\n&lt;p&gt;è¿˜æ˜¯ä¸€å †ç®±å­ï¼Ÿ&lt;/p&gt;\n&lt;p&gt;æˆ–è€…è¯´æ˜¯è½½ç€ç®±å­çš„é²¸é±¼ï¼Ÿ&lt;br&gt;\nè¿™é‡Œå°ç¼–ä¸åšè§£é‡Šï¼Œå…ˆå¼•ç”¨ä¸€ä¸‹å®˜æ–¹çš„è§£é‡Šï¼š&lt;/p&gt;\n&lt;p&gt;Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚&lt;/p&gt;\n&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œdockeræ˜¯ä¸€ä¸ªå®¹å™¨å¼•æ“ï¼Œå®¹å™¨ä¸”ä¸è¯´ï¼Œä»€ä¹ˆæ˜¯å¼•æ“ï¼Ÿ&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼š&lt;/p&gt;\n&lt;p&gt;æ±½è½¦çš„å¼•æ“æ˜¯å‘åŠ¨æœºï¼Œæœ‰äº†å‘åŠ¨èµ·ï¼Œæ±½è½¦æ‰èƒ½è·‘èµ·æ¥&lt;/p&gt;\n&lt;p&gt;æ¸¸æˆéœ€è¦æ¸¸æˆå¼•æ“ï¼ˆå¦‚Unity3D..ï¼‰ï¼ŒåŸºäºå¼•æ“çš„å¼€å‘ï¼Œèƒ½è®©æ¸¸æˆåŠ¨èµ·æ¥ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚å®˜è¨€ï¼Œdockerä¹Ÿæ˜¯ä¸€ç§å¼•æ“ï¼ŒåŸºäºè¿™ä¸ªå¼•æ“ï¼Œå¼€å‘è€…èƒ½è®©ä»–ä»¬å¼€å‘çš„åº”ç”¨å¤„äºä¸€ä¸ªæœ‰éš”ç¦»æ€§çš„ã€å¯ç§»æ¤æ€§çš„å®¹å™¨ä¸­ï¼Œä»¥ä¾¿äºå‘å¸ƒäºå„ç§æœºå™¨ä¸­è€Œæ— éœ€è€ƒè™‘å…¼å®¹æ€§é—®é¢˜ã€‚&lt;/p&gt;\n&lt;p&gt;å› æ­¤å°±ä¸éš¾è§£é‡Šï¼Œä¸ºä»€ä¹ˆdockerçš„logoæ˜¯ä¸€æ¡è£…ç€ä¸€å †ç®±å­çš„é²¸é±¼.&lt;/p&gt;\n&lt;p&gt;è¿™æ˜¯å› ä¸ºï¼šdockeræ‰®æ¼”çš„æ˜¯å›¾ä¸­é²¸é±¼çš„è§’è‰²ï¼Œè€Œé²¸é±¼ä¹‹ä¸Šçš„é›†è£…ç®±å°±æ˜¯ä¸€ä¸ªä¸ªå®¹å™¨ï¼Œå®¹å™¨ä¸­æ˜¯æˆ‘ä»¬å¼€å‘çš„åº”ç”¨ç¨‹åºï¼ˆä¸ä»…é™äºwebåº”ç”¨ï¼‰ï¼Œæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ç¯å¢ƒï¼ˆç¯å¢ƒè®¾ç½®ã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿâ€¦ï¼‰ï¼Œäº’ä¸å¹²æ‰°ã€‚è€Œæ¯ä¸ªç®±å­ï¼Œåˆå¯ä»¥æ‰“åŒ…æˆä¸€ä¸ªæ–°çš„é•œåƒï¼Œæ”¾åˆ°å…¶å®ƒæœåŠ¡å™¨çš„dockerç¯å¢ƒä¸­ç›´æ¥è¿è¡Œï¼Œä¸å†éœ€è¦é‡å¤å®‰è£…ç¨‹åºè¿è¡Œç¯å¢ƒã€‚&lt;/p&gt;\n&lt;p&gt;ä¸Šé¢çš„è§£é‡Šæ’å…¥äº†ä¸¤ä¸ªç”Ÿç–çš„æ¦‚å¿µï¼š&lt;/p&gt;\n&lt;p&gt;1ã€é•œåƒ&lt;/p&gt;\n&lt;p&gt;2ã€å®¹å™¨&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬å…ˆè®²å®¹å™¨&lt;/p&gt;\n&lt;p&gt;å®¹å™¨ï¼Œé¡¾åæ€ä¹‰ï¼šå°±æ˜¯è£…ä¸œè¥¿çš„å™¨çš¿ï¼Œåœ¨dockerä¸­ï¼Œå®¹å™¨å°±æ˜¯è£…è½½æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„å™¨çš¿ï¼Œåœ¨dockerçš„logoä¸­ï¼Œå®¹å™¨å°±æ˜¯ä¸€ä¸ªä¸ªç®±å­ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œè¿è¡ŒJavaWebåº”ç”¨ç¨‹åºéœ€è¦æœ‰Tomcatï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦åˆ›å»ºä¸€ä¸ªTomcatçš„å®¹å™¨ï¼Œæ‰èƒ½æŠŠæˆ‘ä»¬çš„ç¨‹åºæ”¾è¿›å»è¿è¡Œã€‚&lt;/p&gt;\n&lt;p&gt;é‚£ä¹ˆï¼Œå®¹å™¨å“ªé‡Œæ¥çš„å‘¢&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼Œç»™ç”µè„‘å®‰è£…Windowsç³»ç»Ÿéœ€è¦æœ‰Windowsé•œåƒï¼Œå› æ­¤ç»™dockerå®‰è£…å®¹å™¨ä¹Ÿæ˜¯éœ€è¦é•œåƒçš„ï¼Œæ‰€ä»¥ï¼Œé€šä¿—ä¸€ç‚¹ï¼Œé•œåƒå°±ç±»ä¼¼äºæˆ‘ä»¬æ—¥å¸¸ä¸­çš„å®‰è£…è½¯ä»¶ï¼Œç”šè‡³è¯´æ˜¯æ“ä½œç³»ç»Ÿé•œåƒæ›´ä¸ºå½¢è±¡ç‚¹ã€‚&lt;/p&gt;\n&lt;p&gt;é‚£å®¹å™¨å’Œé•œåƒæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ&lt;/p&gt;\n&lt;p&gt;ç½‘ä¸Šè¯´æ˜¯ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼Œæ²¡é”™ï¼Œä½†æ˜¯è¿™æ ·çš„æ¯”å–»æ²¡ä»€ä¹ˆå®é™…åµç”¨ã€‚&lt;/p&gt;\n&lt;p&gt;æˆ‘ä»¬çŸ¥é“:è¦è¿è¡Œä¸€ä¸ªwebç¨‹åºï¼Œéœ€è¦æœ‰ä¸ªTomcatç¯å¢ƒï¼Œéœ€è¦Tomcatç¯å¢ƒï¼Œé‚£å°±ä¸‹è½½ä¸€ä¸ªTomcatè§£å‹å‡ºæ¥ï¼Œç„¶åæŠŠwebç¨‹åºæ”¾å…¥Tomcatçš„webappsä¸­å¯åŠ¨å³å¯ï¼Œ&lt;/p&gt;\n&lt;p&gt;é‚£ä¹ˆåœ¨dockerä¸­è¦è¿è¡Œä¸€ä¸ªwebç¨‹åºï¼Œå°±éœ€è¦æœ‰Tomcatå®¹å™¨ï¼Œéœ€è¦Tomcatå®¹å™¨ï¼Œå°±å¾—å»ä¸‹è½½Tomcaté•œåƒï¼ˆä¹Ÿå¯ä»¥è‡ªå·±æ„å»ºï¼‰ï¼ŒæŠŠé•œåƒpullä¸‹æ¥ä¹‹åï¼Œè¿è¡Œèµ·æ¥ï¼Œå°±æ˜¯ä¸€ä¸ªTomcatå®¹å™¨ï¼Œæ­¤æ—¶æŠŠwebç¨‹åºè‡³äºTomcatæŒ‚è½½çš„æ•°æ®ç›®å½•webappsä¸­æ—¢å¯ä»¥è¿è¡Œã€‚&lt;/p&gt;\n&lt;p&gt;æ‰€ä»¥dockerä¸­ï¼Œå®¹å™¨å’Œé•œåƒçš„å…³ç³»æ›´åƒæ˜¯ä¸€ç§åŠ¨é™çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­˜äºä»“åº“ä¸­çš„é•œåƒæ˜¯ä¸€ä¸ªæ­»çš„è½¯ä»¶ï¼Œè€Œè¿è¡Œèµ·æ¥çš„å®¹å™¨åˆ™åƒæ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼ˆè¿›ç¨‹ï¼‰ã€‚&lt;/p&gt;\n&lt;p&gt;2ã€Dockeræœ‰ä»€ä¹ˆç”¨&lt;br&gt;\nå¯¹dockeræœ‰äº†æ¸…æ™°çš„äº†è§£ä¹‹åï¼Œæˆ‘ä»¬å¿ƒé‡Œå¯èƒ½åœ¨æƒ³ï¼š è¿™ç©å„¿å¯¹æˆ‘æœ‰ä»€ä¹ˆç”¨ï¼Ÿ æˆ‘åœ¨å“ªé‡Œèƒ½ç”¨å¾—ä¸Šï¼Ÿ æ€ä¹ˆç”¨æ‰å¯¹ï¼Ÿ&lt;/p&gt;\n&lt;p&gt;è¿™é‡Œå¼•ç”¨å‡ ä¸ªæ¡ˆä¾‹æ¥è®©å¤§å®¶ä½“ä¼šä½“ä¼šã€‚&lt;/p&gt;\n&lt;p&gt;1ã€æ¡ˆä¾‹ä¸€ å‰å‡ å¤©ï¼Œå…¬å¸ä¸€æ‰¹æœåŠ¡å™¨å°±è¦åˆ°æœŸäº†ï¼Œç”±äºæœåŠ¡å™¨æ˜¯15å¹´è´­ä¹°çš„ï¼Œç¡¬ä»¶çš„æ€§èƒ½è¿œæ¯”ç°åœ¨æ–°å‡ºçš„äº‘ä¸»æœºä½ï¼Œå› æ­¤å†³å®šæŠŠæ‰€æœ‰æœåŠ¡å™¨éƒ½æ¢æˆæ–°ä¸€ä»£æœåŠ¡å™¨ï¼Œä½†æ˜¯å°ç¼–æ•´å‡†å¤‡åŠ¨æ‰‹è¿ç§»æœåŠ¡å™¨æ—¶ï¼Œå†…å¿ƒä¸€é˜µé˜µå´©æºƒæ„Ÿæ¶Œä¸Šå¿ƒå¤´ï¼Œä»”ç»†ä¸€ç®—ï¼Œæ¯å°æœåŠ¡å™¨éƒ½è¦åšåŒæ ·çš„äº‹æƒ…ï¼š&lt;/p&gt;\n&lt;p&gt;1ã€å®‰è£…jdkã€Tomcatã€nginx 2ã€é…ç½®jdkç¯å¢ƒå˜é‡å’Œç³»ç»Ÿå˜é‡ 3ã€é…ç½®Tomcat 4ã€é…ç½®nginx 5ã€å®‰è£…é¡¹ç›®æ‰€éœ€çš„è§†é¢‘è§£ç ç»„ä»¶ 6ã€å¯¼å…¥é¡¹ç›®æ‰€éœ€çš„ä¸€äº›ç‰¹æ®Šå­—ä½“&lt;/p&gt;\n&lt;p&gt;åæ¥å†³å®šç”¨dockeréƒ¨ç½²çš„åŠæ³•ï¼Œåœ¨æ¯å°æœåŠ¡å™¨éƒ½æŠŠdockerå®‰è£…ä¹‹åï¼Œåªéœ€è¦åœ¨å…¶ä¸­ä¸€å°æœåŠ¡å™¨ä¸­æŠŠTomcaté•œåƒä»é•œåƒä»“åº“æ‹‰å–ä¸‹æ¥ï¼ŒæŠŠè¿™äº›é…ç½®éƒ½è®¾ç½®å¥½ï¼Œåšæˆä¸€ä¸ªè‡ªå·±çš„é•œåƒä¸Šä¼ åˆ°é•œåƒä»“åº“ä¸­ï¼Œä¹‹ååœ¨å…¶ä»–å‡ å°æœåŠ¡å™¨éƒ½ä¸‹è½½è‡ªå·±åšçš„é•œåƒï¼Œè¿è¡Œäºdockerä¸­ï¼ŒæŠŠä»£ç ä¸Šä¼ ï¼Œå°±ä¸‡äº‹å¤§å‰äº†ã€‚&lt;/p&gt;\n&lt;p&gt;2ã€æ¡ˆä¾‹äºŒ&lt;/p&gt;\n&lt;p&gt;å‰ä¸ä¹…çš„åœ£è¯æ´»åŠ¨ä¸­ï¼Œå…¬å¸ä¸´æ—¶çš„æ´»åŠ¨æ–¹æ¡ˆåœ¨ç¨‹åºå‘˜çš„åŠ ç­åŠ ç‚¹ä¸­ç»ˆäºä¸Šçº¿ï¼Œä½†æ˜¯ä¸€ä¸Šçº¿ä¹‹åå‘ç°æ¨å¹¿æµ·æŠ¥ä¸­çš„ä¸­æ–‡åå­—ä¹±ç ï¼Œé¢†å¯¼é—®è´£æµ‹è¯•äººå‘˜æ€ä¹ˆæ²¡åšå¥½æµ‹è¯•ï¼Œæµ‹è¯•å¾ˆå§”å±ˆçš„è¯´æˆ‘å·²ç»æµ‹è¯•æ— æ•°éå¹¶ä¸”æµ‹è¯•æŠ¥å‘Šéƒ½æäº¤äº†ï¼Œè§£å†³äº†æ‰€æœ‰é—®é¢˜æ‰ä¸Šçº¿çš„ï¼›æ²¡åŠæ³•åªèƒ½è®©æœåŠ¡å™¨åŒäº‹æŸ¥çœ‹æ­£å¼æœåŠ¡å™¨ä¸­çš„tomcaté…ç½®ï¼Œå‘ç°åŸæ¥ tomcatç”¨äº†é»˜è®¤ç¼–ç æ–¹å¼ï¼šiso8859-1ï¼Œè€Œæµ‹è¯•ç¯å¢ƒä¸­æ˜¯UTF-8ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œé¡¹ç›®ç»„å†³å®šæŠŠå¼€å‘ç¯å¢ƒè¿ç§»åˆ°dockerä¸­ï¼Œåœ¨æµ‹è¯•ç¯å¢ƒä¸­æµ‹è¯•æ— è¯¯åï¼ŒæŠŠé•œåƒæ‰“åŒ…å‘å¸ƒåˆ°æ­£å¼ç¯å¢ƒä¸­ï¼Œè§£å†³äº†ç¯å¢ƒä¸åŒå¯¼è‡´çš„é—®é¢˜ã€‚&lt;/p&gt;\n&lt;p&gt;3ã€dockerçš„å®‰è£…&lt;br&gt;\næ„ŸçŸ¥åˆ°dockerå¯¹æˆ‘ä»¬å¼€å‘è€…çš„å¥½å¤„ä¹‹åï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿè·ƒè·ƒæ¬²è¯•äº†å§ï¼Œä¸‹é¢ å°±Linux centOSï¼ˆç‰ˆæœ¬å¤§äºç­‰äº7.0ï¼‰ç³»ç»Ÿè¿›è¡Œæ¼”ç¤ºdockerçš„å®‰è£…æ­¥éª¤ï¼š&lt;/p&gt;\n&lt;p&gt;1ã€åˆ é™¤å¯èƒ½å­˜åœ¨çš„æ—§ç‰ˆæœ¬&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;1 sudo yum remove docker\n2 docker-client\n3 docker-client-latest\n4 docker-common\n5 docker-latest\n6 docker-latest-logrotate\n7 docker-logrotate\n8 docker-selinux\n9 docker-engine-selinux\n10 docker-engine\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;2ã€å®‰è£…ä¸€äº›å¿…å¤‡å·¥å…·ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;yum install -y yum-utils device-mapper-persistent-data lvm2\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3ã€æ·»åŠ Dockeræºï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;yum-config-manager\n--add-repo\nhttps://download.docker.com/linux/centos/docker-ce.repo\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;4ã€æ›´æ–°yumç¼“å­˜&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;yum makecache fast\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;5ã€å®‰è£…&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;yum install docker-ce\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;6ã€åˆ›å»ºdockerç”¨æˆ·&lt;/p&gt;\n&lt;p&gt;æ¸©é¦¨æç¤ºï¼šä»¥ä¸‹æ“ä½œä¸æ˜¯å¿…å¤‡ï¼Œä½†æ˜¯ä¸ºäº†å…»æˆä¸€ä¸ªLinuxç”¨æˆ·çš„ä½¿ç”¨çš„è‰¯å¥½ä¹ æƒ¯ï¼Œå°ç¼–ä¸å»ºè®®ç›´æ¥ä½¿ç”¨rootæ“ä½œï¼Œå› æ­¤åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç”¨æ¥æ“ä½œdockerã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;useradd docker_manager\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;docker_manageræ˜¯ç”¨æˆ·åï¼Œå¯ä»¥æ ¹æ®å–œå¥½èµ·åï¼Œåˆ›å»ºå®Œç”¨æˆ·ä¹‹åï¼Œè®¾ç½®å¯†ç &lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;passwd docker_manager\ndocker_manager_wsdt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¼šæç¤ºè¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç ,æŒ‰ç…§æç¤ºæ“ä½œå³å¯&lt;/p&gt;\n&lt;p&gt;7ã€é…ç½®dockerç”¨æˆ·çš„æƒé™&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;visudo\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;visudoæ˜¯é…ç½®ç”¨æˆ·æƒé™çš„æ–‡ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥visudoå›è½¦ä¹‹åï¼Œä¼šè¿›å…¥æ–‡ä»¶æ“ä½œï¼Œæ‰¾åˆ°â€œ# %wheel ALL=(ALL) NOPASSWD: ALLâ€è¿™ä¸€è¡Œï¼ŒæŠŠå‰é¢çš„â€œ#â€å»æ‰ï¼Œä¿å­˜æ–‡ä»¶&lt;/p&gt;\n&lt;p&gt;8ã€æˆæƒ&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;usermod -aG wheel,docker docker_manager\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;9ã€å¯åŠ¨ Docker CE&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; sudo systemctl enable docker\n sudo systemctl start docker\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ­¤æ—¶åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥â€œdocker infoâ€ä¹‹åï¼Œèƒ½å¤Ÿå±•ç¤ºdockerç›¸å…³ä¿¡æ¯ï¼Œå°±è¡¨ç¤ºdockerå®‰è£…æˆåŠŸã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;docker info\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;10ã€é•œåƒåŠ é€Ÿï¼š&lt;/p&gt;\n&lt;p&gt;ç¼–è¾‘daemon.jsonæ–‡ä»¶ï¼ˆé¦–æ¬¡å®‰è£…daemon.jsonæ˜¯ä¸ªæ–°æ–‡ä»¶ï¼Œä¸è¦æƒŠè®¶ï¼‰&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;vim /etc/docker/daemon.json\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;    {\n        &amp;quot;registry-mirrors&amp;quot;: [\n            &amp;quot;https://registry.docker-cn.com&amp;quot;\n        ]\n    }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¿å­˜ï¼Œsudo systemctl restart dockeré‡å¯å³å¯ã€‚&lt;/p&gt;\n&lt;p&gt;4ã€æ€»ç»“&lt;br&gt;\nä¸Šé¢é’ˆå¯¹dockerä½¿ç”¨äº†ä¸€ç§æ¯”è¾ƒé€šä¿—è¯™è°çš„è¯­è¨€æ¥è®²è¿°ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ–¹ä¾¿è¯»è€…èƒ½å®¹æ˜“çš„è§£è¯»å’Œç†è§£ï¼Œç†è§£å¹¶ä¸”æˆåŠŸå®‰è£…dockerä¹‹åï¼Œä½ ä»¬å°±ä¼šæƒ³æ–¹è®¾æ³•çš„è¦æŠŠè‡ªå·±çš„webé¡¹ç›®éƒ¨ç½²åˆ°dockeräº†ï¼Œè¿™æˆ‘æ²¡è¯´é”™å§ï¼Œå¤§å®¶å¯ä»¥ç½‘ä¸ŠæŸ¥æ‰¾ä¸€äº›èµ„æ–™å»å­¦ä¹ è¿™ä¸€å—ã€‚&lt;/p&gt;\n&lt;p&gt;å­¦ä¹ è½¬è½½ï¼šhttps://www.cnblogs.com/myprogramer/p/10288634.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;docker-de-an-zhuang-yu-shi-yong&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;dockerçš„å®‰è£…ä¸ä½¿ç”¨&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;docker&#34;,&#34;slug&#34;:&#34;r0XBmVMNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/r0XBmVMNv&#34;},{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-07-14 20:14:24&#34;,&#34;dateFormat&#34;:&#34;2021-07-14&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/docker-de-an-zhuang-yu-shi-yong&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;9 min read&#34;,&#34;time&#34;:526000,&#34;words&#34;:2414,&#34;minutes&#34;:9},&#34;description&#34;:&#34;dockerä¸­æ–‡æ–‡æ¡£\næœ€è¿‘Dockerçªç„¶ç«å¾—ä¸å¾—äº†ï¼Œåˆ°å¤„éƒ½æ˜¯è°ˆè®ºDockerçš„å£°éŸ³ï¼Œç›¸ä¿¡å¤§å®¶å’Œå°ç¼–ä¸€æ ·çš„å¿ƒæƒ…ï¼Œçœ‹è¿™ä¸ªä¸œè¥¿æœ‰ç‚¹é«˜å¤§ä¸Šï¼Œä½†å°è¯•å»é˜…è¯»Dockeræ–‡ç« æ—¶åˆå‘ç°æ¦‚å¿µå¾ˆæ¨¡ç³Šã€ä¸æ¥åœ°æ°”ã€éš¾ä»¥ç†è§£ã€æ— ä»ä¸‹æ‰‹â€¦äºæ˜¯ä¸‰å¤©æ‰“é±¼ä¸¤å¤©æ™’ç½‘ï¼Œæœ€ç»ˆä¸...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;util æ˜¯ä¸€ä¸ªNode.js æ ¸å¿ƒæ¨¡å—ï¼Œæä¾›å¸¸ç”¨å‡½æ•°çš„é›†åˆï¼Œç”¨äºå¼¥è¡¥æ ¸å¿ƒJavaScript çš„åŠŸèƒ½ è¿‡äºç²¾ç®€çš„ä¸è¶³ã€‚&lt;/p&gt;\n&lt;p&gt;util.inherits&lt;br&gt;\nutil.inherits(constructor, superConstructor)æ˜¯ä¸€ä¸ªå®ç°å¯¹è±¡é—´åŸå‹ç»§æ‰¿ çš„å‡½æ•°ã€‚&lt;/p&gt;\n&lt;p&gt;JavaScript çš„é¢å‘å¯¹è±¡ç‰¹æ€§æ˜¯åŸºäºåŸå‹çš„ï¼Œä¸å¸¸è§çš„åŸºäºç±»çš„ä¸åŒã€‚JavaScript æ²¡æœ‰ æä¾›å¯¹è±¡ç»§æ‰¿çš„è¯­è¨€çº§åˆ«ç‰¹æ€§ï¼Œè€Œæ˜¯é€šè¿‡åŸå‹å¤åˆ¶æ¥å®ç°çš„ã€‚&lt;/p&gt;\n&lt;p&gt;åœ¨è¿™é‡Œæˆ‘ä»¬åªä»‹ç»util.inherits çš„ç”¨æ³•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var util = require(&#39;util&#39;); \nfunction Base() { \n    this.name = &#39;base&#39;; \n    this.base = 1991; \n    this.sayHello = function() { \n    console.log(&#39;Hello &#39; + this.name); \n    }; \n} \nBase.prototype.showName = function() { \n    console.log(this.name);\n}; \nfunction Sub() { \n    this.name = &#39;sub&#39;; \n} \nutil.inherits(Sub, Base); \nvar objBase = new Base(); \nobjBase.showName(); \nobjBase.sayHello(); \nconsole.log(objBase); \nvar objSub = new Sub(); \nobjSub.showName(); \n//objSub.sayHello(); \nconsole.log(objSub);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŸºç¡€å¯¹è±¡Base å’Œä¸€ä¸ªç»§æ‰¿è‡ªBase çš„Subï¼ŒBase æœ‰ä¸‰ä¸ªåœ¨æ„é€ å‡½æ•° å†…å®šä¹‰çš„å±æ€§å’Œä¸€ä¸ªåŸå‹ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œé€šè¿‡util.inherits å®ç°ç»§æ‰¿ã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;base \nHello base \n{ name: &#39;base&#39;, base: 1991, sayHello: [Function] } \nsub \n{ name: &#39;sub&#39; }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ³¨æ„ï¼šSub ä»…ä»…ç»§æ‰¿äº†Base åœ¨åŸå‹ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œè€Œæ„é€ å‡½æ•°å†…éƒ¨åˆ›é€ çš„ base å± æ€§å’Œ sayHello å‡½æ•°éƒ½æ²¡æœ‰è¢« Sub ç»§æ‰¿ã€‚&lt;/p&gt;\n&lt;p&gt;åŒæ—¶ï¼Œåœ¨åŸå‹ä¸­å®šä¹‰çš„å±æ€§ä¸ä¼šè¢«console.log ä½œ ä¸ºå¯¹è±¡çš„å±æ€§è¾“å‡ºã€‚å¦‚æœæˆ‘ä»¬å»æ‰ objSub.sayHello(); è¿™è¡Œçš„æ³¨é‡Šï¼Œå°†ä¼šçœ‹åˆ°ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;node.js:201 \nthrow e; // process.nextTick error, or &#39;error&#39; event on first tick \n^ \nTypeError: Object #&amp;lt;Sub&amp;gt; has no method &#39;sayHello&#39; \nat Object.&amp;lt;anonymous&amp;gt; (/home/byvoid/utilinherits.js:29:8) \nat Module._compile (module.js:441:26) \nat Object..js (module.js:459:10) \nat Module.load (module.js:348:31) \nat Function._load (module.js:308:12) \nat Array.0 (module.js:479:10) \nat EventEmitter._tickCallback (node.js:192:40)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è½¬è½½è‡ªhttps://www.cnblogs.com/yuwenjing0727/p/8135608.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;nodejs-chang-yong-gong-ju-utilinherits&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Node.js å¸¸ç”¨å·¥å…· ï¼ˆutil.inheritsï¼‰&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-06-13 21:27:23&#34;,&#34;dateFormat&#34;:&#34;2021-06-13&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/nodejs-chang-yong-gong-ju-utilinherits&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:118000,&#34;words&#34;:429,&#34;minutes&#34;:2},&#34;description&#34;:&#34;util æ˜¯ä¸€ä¸ªNode.js æ ¸å¿ƒæ¨¡å—ï¼Œæä¾›å¸¸ç”¨å‡½æ•°çš„é›†åˆï¼Œç”¨äºå¼¥è¡¥æ ¸å¿ƒJavaScript çš„åŠŸèƒ½ è¿‡äºç²¾ç®€çš„ä¸è¶³ã€‚\nutil.inherits\nutil.inherits(constructor, superConstructor)æ˜¯...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;nuxtåˆ†spaå’Œéspaï¼Œé¢„æ¸²æŸ“ç›´æ¥nuxt generateæ‰“å¥½çš„é™æ€é¡µé¢æ”¾åœ¨æœåŠ¡å™¨å°±èƒ½è®¿é—®(ä¹Ÿæ˜¯æœåŠ¡ç«¯æ¸²æŸ“)ï¼Œ æœåŠ¡ç«¯æ¸²æŸ“éœ€è¦å…ˆbuildå®Œï¼ŒæŠŠæ‰“å‡ºæ¥çš„é¡¹ç›®æ”¾åˆ°æœåŠ¡å™¨ï¼Œç„¶åå…è®¸startï¼Œè¿˜è¦é…ç½®nginxè½¬å‘&lt;br&gt;\nä½¿ç”¨nuxtçš„æœåŠ¡ç«¯æ¸²æŸ“æ’ä»¶åœ¨nodeä¸­å¯ä»¥ç›´æ¥è¿”å›&lt;br&gt;\né¢„æ¸²æŸ“ä¸åƒæœåŠ¡å™¨æ¸²æŸ“é‚£æ ·å³æ—¶ç¼–è¯‘ HTMLï¼Œå®ƒåªåœ¨æ„å»ºæ—¶ä¸ºäº†ç‰¹å®šçš„è·¯ç”±ç”Ÿæˆç‰¹å®šçš„å‡ ä¸ªé™æ€é¡µé¢ï¼Œç­‰äºæˆ‘ä»¬å¯ä»¥é€šè¿‡ Webpack æ’ä»¶å°†ä¸€äº›ç‰¹å®šé¡µé¢ç»„ä»¶ build æ—¶å°±ç¼–è¯‘ä¸º html æ–‡ä»¶ï¼Œç›´æ¥ä»¥é™æ€èµ„æºçš„å½¢å¼è¾“å‡ºç»™æœç´¢å¼•æ“ã€‚é¢„æ¸²æŸ“ä¸æ‰§è¡Œjsçš„ï¼Œåªé€‚åº”äºçº¯é™æ€é¡µé¢&lt;br&gt;\nå…ˆè¯´ç»“è®ºï¼Œéƒ½å¿…ç„¶ä¼šä¼˜åŒ–SEOï¼ŒåŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;p&gt;1ã€seoçš„æœ¬è´¨æ˜¯çˆ¬è™«åŠ¨æ€æŠ“å–æ ¹htmlé‡Œé¢çš„å…³é”®æ ‡ç­¾å…³é”®å­—ï¼›&lt;br&gt;\n2ã€ç°ä»£ä¸»æµå‰ç«¯å¼€å‘æ¡†æ¶åŸºæœ¬éƒ½æ˜¯htmlæ‹‰å›æ¥ä¹‹åï¼Œå¼‚æ­¥æ‰§è¡ŒjsåŠ¨æ€æŒ‚è½½domï¼Œæ ¹htmlåœ¨æ¸²æŸ“ä¹‹å‰é‡Œé¢æä¾›ç»™çˆ¬è™«çš„ä¿¡æ¯æå°‘ï¼›&lt;/p&gt;\n&lt;p&gt;ç»¼ä¸Šï¼Œå¦‚æœä¸åšæœåŠ¡å™¨æ¸²æŸ“æˆ–é¢„æ¸²æŸ“ï¼Œseoåªèƒ½æŠ“åˆ°æ‰‹åŠ¨é…ç½®çš„é¡¶çº§æ ‡ç­¾çš„å…³é”®å­—ï¼Œæ•ˆç‡ä¸æ•ˆæœéå¸¸å·®&lt;br&gt;\nä¸è®ºæ˜¯æœåŠ¡å™¨æ¸²æŸ“è¿˜æ˜¯é¢„æ¸²æŸ“ï¼Œå®ƒä»¬éƒ½èƒ½â€œåŠ é€Ÿæµè§ˆå™¨æ˜¾ç¤ºé¡µé¢çš„é€Ÿåº¦â€å’Œseoä¼˜åŒ–ã€‚é¦–å…ˆå®¢æˆ·ç«¯ç¨‹åºåªæœ‰jsã€‚ç°ä»£ç½‘é¡µå‡ºç°ä»¥åè¿™äº›jsç¨‹åº¦è¶Šæ¥è¶Šå¤æ‚ï¼Œäºæ˜¯å¿…é¡»æœ‰ä¸€äº›ç±»ä¼¼reactã€angularè¿™æ ·çš„ä¸œè¥¿ã€‚ä½†è¿™äº›ä¸œè¥¿å…¨éƒ½æœ‰ä¸€ä¸ªé—®é¢˜ï¼šç¬¬ä¸€æ¬¡æ¸²æŸ“ç»“æŸå‰ï¼Œé¡µé¢æ˜¯ç™½çš„ã€‚äºæ˜¯æœ‰äº†æœåŠ¡ç«¯æ¸²æŸ“ï¼šå¦‚æœæœåŠ¡å™¨æ°å¥½æ˜¯nodejsï¼Œé‚£ä¹ˆå¯ä»¥è®©æœåŠ¡å™¨æå‰è¿è¡Œâ€œç¬¬ä¸€æ¬¡æ¸²æŸ“â€ã€‚æµè§ˆå™¨åªéœ€è¦æ˜¾ç¤ºå°±å¥½äº†ï¼Œå¦‚æœéœ€è¦ï¼Œå†è¿›è¡Œä»¥åçš„æ¸²æŸ“ã€‚&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;nuxt-fu-wu-duan-xuan-ran-he-yu-xuan-ran-de-qu-bie&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;nuxt æœåŠ¡ç«¯æ¸²æŸ“å’Œé¢„æ¸²æŸ“çš„åŒºåˆ«&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;ssr&#34;,&#34;slug&#34;:&#34;t5kOXmKL1&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/t5kOXmKL1&#34;},{&#34;name&#34;:&#34;nuxt&#34;,&#34;slug&#34;:&#34;9_NS-0FCYj&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/9_NS-0FCYj&#34;}],&#34;date&#34;:&#34;2021-06-02 19:38:15&#34;,&#34;dateFormat&#34;:&#34;2021-06-02&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/nuxt-fu-wu-duan-xuan-ran-he-yu-xuan-ran-de-qu-bie&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:100000,&#34;words&#34;:479,&#34;minutes&#34;:2},&#34;description&#34;:&#34;nuxtåˆ†spaå’Œéspaï¼Œé¢„æ¸²æŸ“ç›´æ¥nuxt generateæ‰“å¥½çš„é™æ€é¡µé¢æ”¾åœ¨æœåŠ¡å™¨å°±èƒ½è®¿é—®(ä¹Ÿæ˜¯æœåŠ¡ç«¯æ¸²æŸ“)ï¼Œ æœåŠ¡ç«¯æ¸²æŸ“éœ€è¦å…ˆbuildå®Œï¼ŒæŠŠæ‰“å‡ºæ¥çš„é¡¹ç›®æ”¾åˆ°æœåŠ¡å™¨ï¼Œç„¶åå…è®¸startï¼Œè¿˜è¦é…ç½®nginxè½¬å‘\nä½¿ç”¨nuxtçš„æœåŠ¡ç«¯æ¸²...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;a href=\&#34;https://www.sequelize.com.cn/\&#34;&gt;Sequelize ä¸­æ–‡æ–‡æ¡£&lt;/a&gt;&lt;br&gt;\nå¯ä»¥å…ˆçœ‹æ–‡æ¡£ï¼Œæ–‡æ¡£å¾ˆå…¨ï¼Œå®ƒçš„è¯­å¥å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šå¤„ç†ï¼Œè€Œä¸”å¾ˆç²¾ç®€ï¼Œè®©æˆ‘ä»¬ä¸ç”¨æ­»è®°ç¡¬èƒŒsqlè¯­å¥ï¼Œä¹Ÿä¸ç”¨å»åº“é‡Œå»ºè¡¨ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;è¿æ¥æ•°æ®åº“\&#34;&gt;è¿æ¥æ•°æ®åº“&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;è¿æ¥åˆ°æ•°æ®åº“\nè¦è¿æ¥åˆ°æ•°æ®åº“,å¿…é¡»åˆ›å»ºä¸€ä¸ª Sequelize å®ä¾‹. è¿™å¯ä»¥é€šè¿‡å°†è¿æ¥å‚æ•°åˆ†åˆ«ä¼ é€’åˆ° Sequelize æ„é€ å‡½æ•°æˆ–é€šè¿‡ä¼ é€’ä¸€ä¸ªè¿æ¥ URI æ¥å®Œæˆï¼š\n\nconst { Sequelize } = require(&#39;sequelize&#39;);\n\n// æ–¹æ³• 1: ä¼ é€’ä¸€ä¸ªè¿æ¥ URI\nconst sequelize = new Sequelize(&#39;sqlite::memory:&#39;) // Sqlite ç¤ºä¾‹\nconst sequelize = new Sequelize(&#39;postgres://user:pass@example.com:5432/dbname&#39;) // Postgres ç¤ºä¾‹\n\n// æ–¹æ³• 2: åˆ†åˆ«ä¼ é€’å‚æ•° (sqlite)\nconst sequelize = new Sequelize({\n  dialect: &#39;sqlite&#39;,\n  storage: &#39;path/to/database.sqlite&#39;\n});\n\n// æ–¹æ³• 3: åˆ†åˆ«ä¼ é€’å‚æ•° (å…¶å®ƒæ•°æ®åº“)\nconst sequelize = new Sequelize(&#39;database&#39;, &#39;username&#39;, &#39;password&#39;, {\n  host: &#39;localhost&#39;,\n  dialect: /* é€‰æ‹© &#39;mysql&#39; | &#39;mariadb&#39; | &#39;postgres&#39; | &#39;mssql&#39; å…¶ä¸€ */\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å®šä¹‰æ¨¡å‹-å®šä¹‰è¡¨ç»“æ„\&#34;&gt;å®šä¹‰æ¨¡å‹ ï¼ˆå®šä¹‰è¡¨ç»“æ„ï¼‰&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;module.exports = function(sequelize, DataTypes) {\n  return sequelize.define(\n    &#39;project&#39;,\n    {\n      id: {\n        type: DataTypes.INTEGER(11),\n        allowNull: false,\n        primaryKey: true,\n        autoIncrement: true\n      },\n      name: { type: DataTypes.STRING(255), allowNull: true },\n      title: { type: DataTypes.STRING(255), allowNull: true },\n      report_fix_id: { type: DataTypes.STRING(1000), allowNull: true },\n      fix_url: { type: DataTypes.STRING(2000), allowNull: true },\n      ignore_key: {\n        type: DataTypes.STRING(2000),\n        allowNull: true,\n        comment: &#39;ç®€åŒ–æ‰“å°å¯¹è±¡ä¸­æ¯”è¾ƒå¤§çš„å¯¹è±¡&#39;\n      },\n      env: {\n        type: DataTypes.STRING(255),\n        allowNull: true,\n        comment: &#39;å“ªäº›ç¯å¢ƒèƒ½ä¸ŠæŠ¥æ—¥å¿—&#39;\n      },\n      report_interval: {\n        type: DataTypes.INTEGER(11),\n        allowNull: true,\n        comment: &#39;ä¸ŠæŠ¥æ—¶é—´é—´éš”&#39;\n      },\n      ctime: {\n        type: DataTypes.INTEGER(10),\n        allowNull: true,\n        get() {\n          return moment\n            .unix(this.getDataValue(&#39;ctime&#39;))\n            .format(&#39;YYYY/MM/DD HH:mm:ss&#39;)\n        }\n      },\n      del: { type: DataTypes.INTEGER(1), allowNull: true, defaultValue: &#39;0&#39; }\n    },\n    {\n      tableName: &#39;project&#39;\n    }\n  )\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ¨¡å‹åŒæ­¥-çœŸæ­£ä»æ•°æ®åº“åˆ›å»º\&#34;&gt;æ¨¡å‹åŒæ­¥ ï¼ˆçœŸæ­£ä»æ•°æ®åº“åˆ›å»ºï¼‰&lt;/h3&gt;\n&lt;p&gt;å®šä¹‰æ¨¡å‹æ—¶,ä½ è¦å‘Šè¯‰ Sequelize æœ‰å…³æ•°æ®åº“ä¸­è¡¨çš„ä¸€äº›ä¿¡æ¯. ä½†æ˜¯,å¦‚æœè¯¥è¡¨å®é™…ä¸Šä¸å­˜åœ¨äºæ•°æ®åº“ä¸­æ€ä¹ˆåŠï¼Ÿ å¦‚æœå­˜åœ¨,ä½†å…·æœ‰ä¸åŒçš„åˆ—,è¾ƒå°‘çš„åˆ—æˆ–ä»»ä½•å…¶ä»–å·®å¼‚,è¯¥æ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;\n&lt;p&gt;è¿™å°±æ˜¯æ¨¡å‹åŒæ­¥çš„æ¥æº.å¯ä»¥é€šè¿‡è°ƒç”¨ä¸€ä¸ªå¼‚æ­¥å‡½æ•°(è¿”å›ä¸€ä¸ªPromise)model.sync(options). é€šè¿‡æ­¤è°ƒç”¨,Sequelize å°†è‡ªåŠ¨å¯¹æ•°æ®åº“æ‰§è¡Œ SQL æŸ¥è¯¢. è¯·æ³¨æ„,è¿™ä»…æ›´æ”¹æ•°æ®åº“ä¸­çš„è¡¨,è€Œä¸æ›´æ”¹ JavaScript ç«¯çš„æ¨¡å‹.&lt;/p&gt;\n&lt;p&gt;User.sync() - å¦‚æœè¡¨ä¸å­˜åœ¨,åˆ™åˆ›å»ºè¯¥è¡¨(å¦‚æœå·²ç»å­˜åœ¨,åˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ)&lt;/p&gt;\n&lt;h4 id=\&#34;usersync-force-true-å°†åˆ›å»ºè¡¨å¦‚æœè¡¨å·²ç»å­˜åœ¨åˆ™å°†å…¶é¦–å…ˆåˆ é™¤-è¿™ä¸ªä¸è¦ç”¨ä¹Ÿæœ€å¥½åˆ«è¯•\&#34;&gt;User.sync({ force: true }) - å°†åˆ›å»ºè¡¨,å¦‚æœè¡¨å·²ç»å­˜åœ¨,åˆ™å°†å…¶é¦–å…ˆåˆ é™¤ ï¼ˆè¿™ä¸ªä¸è¦ç”¨ï¼Œä¹Ÿæœ€å¥½åˆ«è¯•ï¼‰&lt;/h4&gt;\n&lt;p&gt;User.sync({ alter: true }) - è¿™å°†æ£€æŸ¥æ•°æ®åº“ä¸­è¡¨çš„å½“å‰çŠ¶æ€(å®ƒå…·æœ‰å“ªäº›åˆ—,å®ƒä»¬çš„æ•°æ®ç±»å‹ç­‰),ç„¶ååœ¨è¡¨ä¸­è¿›è¡Œå¿…è¦çš„æ›´æ”¹ä»¥ä½¿å…¶ä¸æ¨¡å‹åŒ¹é….&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;sequelize\n  .authenticate()\n  .then(() =&amp;gt; {\n    console.log(&#39;æ•°æ®åº“è¿æ¥æˆåŠŸ&#39;.green)\n    // sequelize.sync({ alter: true })\n  })\n  .catch(err =&amp;gt; {\n    console.log(&#39;æ•°æ®åº“è¿æ¥å¤±è´¥&#39;.red)\n  })\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;åˆ›å»ºå®ä¾‹ä¿®æ”¹å†…å®¹insert\&#34;&gt;åˆ›å»ºå®ä¾‹ï¼ˆä¿®æ”¹å†…å®¹INSERTï¼‰&lt;/h3&gt;\n&lt;p&gt;å°½ç®¡æ¨¡å‹æ˜¯ä¸€ä¸ªç±»,ä½†æ˜¯ä½ ä¸åº”ç›´æ¥ä½¿ç”¨ new è¿ç®—ç¬¦æ¥åˆ›å»ºå®ä¾‹. ç›¸å,åº”è¯¥ä½¿ç”¨ build æ–¹æ³•ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const jane = User.build({ name: &amp;quot;Jane&amp;quot; });\nconsole.log(jane instanceof User); // true\nconsole.log(jane.name); // &amp;quot;Jane&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä½†æ˜¯,ä»¥ä¸Šä»£ç æ ¹æœ¬æ— æ³•ä¸æ•°æ®åº“é€šä¿¡(è¯·æ³¨æ„,å®ƒç”šè‡³ä¸æ˜¯å¼‚æ­¥çš„)ï¼ è¿™æ˜¯å› ä¸º build æ–¹æ³•ä»…åˆ›å»ºä¸€ä¸ªå¯¹è±¡,è¯¥å¯¹è±¡ è¡¨ç¤º å¯ä»¥ æ˜ å°„åˆ°æ•°æ®åº“çš„æ•°æ®. ä¸ºäº†å°†è¿™ä¸ªå®ä¾‹çœŸæ­£ä¿å­˜(å³æŒä¹…ä¿å­˜)åœ¨æ•°æ®åº“ä¸­,åº”ä½¿ç”¨ save æ–¹æ³•ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;await jane.save();\nconsole.log(&#39;Jane å·²ä¿å­˜åˆ°æ•°æ®åº“!&#39;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¯·æ³¨æ„,ä»ä¸Šé¢ä»£ç æ®µä¸­çš„ await ç”¨æ³•æ¥çœ‹,save æ˜¯ä¸€ç§å¼‚æ­¥æ–¹æ³•. å®é™…ä¸Š,å‡ ä¹æ¯ä¸ª Sequelize æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„. build æ˜¯æå°‘æ•°ä¾‹å¤–ä¹‹ä¸€.&lt;/p&gt;\n&lt;p&gt;éå¸¸æœ‰ç”¨çš„æ·å¾„: create æ–¹æ³•&lt;br&gt;\nSequelizeæä¾›äº† create æ–¹æ³•,è¯¥æ–¹æ³•å°†ä¸Šè¿°çš„ build æ–¹æ³•å’Œ save æ–¹æ³•åˆå¹¶ä¸ºä¸€ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const jane = await User.create({ name: &amp;quot;Jane&amp;quot; });\n// Jane ç°åœ¨å­˜åœ¨äºæ•°æ®åº“ä¸­ï¼\nconsole.log(jane instanceof User); // true\nconsole.log(jane.name); // &amp;quot;Jane&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç®€å•-select-æŸ¥è¯¢\&#34;&gt;ç®€å• SELECT æŸ¥è¯¢&lt;/h3&gt;\n&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ findAll æ–¹æ³•ä»æ•°æ®åº“ä¸­è¯»å–æ•´ä¸ªè¡¨ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;// æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·\nconst users = await User.findAll();\nconsole.log(users.every(user =&amp;gt; user instanceof User)); // true\nconsole.log(&amp;quot;All users:&amp;quot;, JSON.stringify(users, null, 2));\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç›¸å½“äºsqlè¯­å¥&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;SELECT * FROM ...\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å—¯ï¼Œå†™ä¸€äº›å»ºè¡¨ä¸æŸ¥è¯¢çš„æµç¨‹ï¼Œç…§ç€å®˜ç½‘æŠ„ä¹Ÿæ²¡ä»€ä¹ˆæ„æ€ã€‚ä½¿ç”¨è¿™ä¸ªæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„æ“ä½œæ•°æ®åº“ï¼Œä½¿æˆ‘ä»¬å†™nodeæ¥å£çš„æ—¶å€™æ•ˆç‡ç¿»å€ï½&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;sequelize-node-lian-jie-shu-ju-ku-de-orm&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Sequelize nodeè¿æ¥æ•°æ®åº“çš„ORM&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-05-20 20:36:06&#34;,&#34;dateFormat&#34;:&#34;2021-05-20&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/sequelize-node-lian-jie-shu-ju-ku-de-orm&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;5 min read&#34;,&#34;time&#34;:257000,&#34;words&#34;:1033,&#34;minutes&#34;:5},&#34;description&#34;:&#34;Sequelize ä¸­æ–‡æ–‡æ¡£\nå¯ä»¥å…ˆçœ‹æ–‡æ¡£ï¼Œæ–‡æ¡£å¾ˆå…¨ï¼Œå®ƒçš„è¯­å¥å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šå¤„ç†ï¼Œè€Œä¸”å¾ˆç²¾ç®€ï¼Œè®©æˆ‘ä»¬ä¸ç”¨æ­»è®°ç¡¬èƒŒsqlè¯­å¥ï¼Œä¹Ÿä¸ç”¨å»åº“é‡Œå»ºè¡¨ã€‚\nè¿æ¥æ•°æ®åº“\nè¿æ¥åˆ°æ•°æ®åº“\nè¦è¿æ¥åˆ°æ•°æ®åº“,å¿…é¡»åˆ›å»ºä¸€ä¸ª Sequelize å®ä¾‹. è¿™å¯ä»¥é€šè¿‡å°†...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93\&#34;&gt;è¿æ¥æ•°æ®åº“&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9E%8B-%E5%AE%9A%E4%B9%89%E8%A1%A8%E7%BB%93%E6%9E%84\&#34;&gt;å®šä¹‰æ¨¡å‹ ï¼ˆå®šä¹‰è¡¨ç»“æ„ï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%A8%A1%E5%9E%8B%E5%90%8C%E6%AD%A5-%E7%9C%9F%E6%AD%A3%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA\&#34;&gt;æ¨¡å‹åŒæ­¥ ï¼ˆçœŸæ­£ä»æ•°æ®åº“åˆ›å»ºï¼‰&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#usersync-force-true-%E5%B0%86%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%A6%82%E6%9E%9C%E8%A1%A8%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%E5%88%99%E5%B0%86%E5%85%B6%E9%A6%96%E5%85%88%E5%88%A0%E9%99%A4-%E8%BF%99%E4%B8%AA%E4%B8%8D%E8%A6%81%E7%94%A8%E4%B9%9F%E6%9C%80%E5%A5%BD%E5%88%AB%E8%AF%95\&#34;&gt;User.sync({ force: true }) - å°†åˆ›å»ºè¡¨,å¦‚æœè¡¨å·²ç»å­˜åœ¨,åˆ™å°†å…¶é¦–å…ˆåˆ é™¤ ï¼ˆè¿™ä¸ªä¸è¦ç”¨ï¼Œä¹Ÿæœ€å¥½åˆ«è¯•ï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B%E4%BF%AE%E6%94%B9%E5%86%85%E5%AE%B9insert\&#34;&gt;åˆ›å»ºå®ä¾‹ï¼ˆä¿®æ”¹å†…å®¹INSERTï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AE%80%E5%8D%95-select-%E6%9F%A5%E8%AF%A2\&#34;&gt;ç®€å• SELECT æŸ¥è¯¢&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;span class=\&#34;katex\&#34;&gt;&lt;span class=\&#34;katex-mathml\&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;?&lt;/mo&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æ˜¯&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;ä¸Š&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;ä¸€&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;ä¸ª&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;ç¨‹&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;åº&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æ‰§&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;è¡Œ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æ˜¯&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;å¦&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æˆ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;åŠŸ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æ ‡&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;å¿—&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;ï¼Œ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;å¦‚&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æœ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æ‰§&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;è¡Œ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;æˆ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;åŠŸ&lt;/mi&gt;&lt;mi mathvariant=\&#34;normal\&#34;&gt;åˆ™&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=\&#34;application/x-tex\&#34;&gt;? æ˜¯ä¸Šä¸€ä¸ªç¨‹åºæ‰§è¡Œæ˜¯å¦æˆåŠŸçš„æ ‡å¿—ï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=\&#34;katex-html\&#34; aria-hidden=\&#34;true\&#34;&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.69444em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mclose\&#34;&gt;?&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æ˜¯&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;ä¸Š&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;ä¸€&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;ä¸ª&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;ç¨‹&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;åº&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æ‰§&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;è¡Œ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æ˜¯&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;å¦&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æˆ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;åŠŸ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;çš„&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æ ‡&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;å¿—&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;å¦‚&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æœ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æ‰§&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;è¡Œ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;æˆ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;åŠŸ&lt;/span&gt;&lt;span class=\&#34;mord cjk_fallback\&#34;&gt;åˆ™&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;? ä¸º0ï¼Œå¦åˆ™ ä¸ä¸º0ã€‚&lt;br&gt;\næ¯”å¦‚åˆ¤æ–­ä¸€ä¸ªnodeæœåŠ¡æ˜¯è¯¥å¯åŠ¨è¿˜æ˜¯è¯¥é‡å¯ï¼Œåˆ™å¯ä»¥æ‰§è¡Œpm2 info ***&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1644843836198.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;shell-dollar-huo-qu-han-shu-fan-hui-zhi-huo-zhe-shang-yi-ge-ming-ling-de-tui-chu-zhuang-tai&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;shell $? è·å–å‡½æ•°è¿”å›å€¼æˆ–è€…ä¸Šä¸€ä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;shell&#34;,&#34;slug&#34;:&#34;qt4i7BiKQ&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/qt4i7BiKQ&#34;}],&#34;date&#34;:&#34;2021-05-17 18:08:58&#34;,&#34;dateFormat&#34;:&#34;2021-05-17&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/shell-dollar-huo-qu-han-shu-fan-hui-zhi-huo-zhe-shang-yi-ge-ming-ling-de-tui-chu-zhuang-tai&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:20000,&#34;words&#34;:98,&#34;minutes&#34;:1},&#34;description&#34;:&#34;?æ˜¯ä¸Šä¸€ä¸ªç¨‹åºæ‰§è¡Œæ˜¯å¦æˆåŠŸçš„æ ‡å¿—ï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™? æ˜¯ä¸Šä¸€ä¸ªç¨‹åºæ‰§è¡Œæ˜¯å¦æˆåŠŸçš„æ ‡å¿—ï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™?æ˜¯ä¸Šä¸€ä¸ªç¨‹åºæ‰§è¡Œæ˜¯å¦æˆåŠŸçš„æ ‡å¿—ï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™? ä¸º0ï¼Œå¦åˆ™ ä¸ä¸º0ã€‚\næ¯”å¦‚åˆ¤æ–­ä¸€ä¸ªnodeæœåŠ¡æ˜¯è¯¥å¯åŠ¨è¿˜æ˜¯è¯¥é‡å¯ï¼Œåˆ™å¯ä»¥æ‰§è¡Œpm2 inf...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨Redisï¼Œä¸ºäº†ä¸ç”¨æ¯æ¬¡æ‰“å¼€Redisç›®å½•å»å¯åŠ¨Redisæƒ³åˆ°äº†Dockerå¯ä»¥ä½œä¸ºRedisçš„å®¹å™¨ ç›´æ¥ä¸‹è½½ä½¿ç”¨å°±è¡Œ æŠŠDockerä½¿ç”¨Redisçš„è¿‡ç¨‹åˆ†äº«ä¸‹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;æ‹‰å–redis    ï¼ˆå¦‚æœæƒ³ç›´æ¥è¿è¡Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œç¬¬äºŒæ­¥çœç•¥ç¬¬ä¸€æ­¥ï¼‰\n   docker pull redis\n\n   æ‹‰å–å®Œæˆåå¯ä½¿ç”¨ docker images æŸ¥çœ‹é•œåƒåˆ—è¡¨æ£€æŸ¥\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;åå°è¿è¡Œredis server\n   \n   docker run --name redis-test -p 6379:6379 -d redis\n   æˆ–è€… docker run --name redis-test -p 6379:6379  --rm -d redis\n\n   -dè¡¨ç¤ºåå°è¿è¡Œ \n   -pè¡¨ç¤ºæœ¬æœºç«¯å£æ˜ å°„åˆ°è¿è¡Œçš„å®¹ç§¯ç«¯å£  ç¬¬ä¸€ä¸ªæ˜¯æœ¬æœºç«¯å£ ç¬¬äºŒä¸ªæ˜¯å®¹å™¨ç«¯å£\n   --rmè¡¨ç¤ºç”¨å®Œè‡ªåŠ¨åˆ é™¤ å®¹å™¨åœæ­¢è¿è¡Œåè‡ªåŠ¨åˆ é™¤  ä¸€èˆ¬ä¸ç”¨\n   --nameè¡¨ç¤ºæŒ‡å®šåç§° ä¹‹åä¼šç”¨åˆ°\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt; å®¢æˆ·ç«¯è¿æ¥redis \n   \n   docker run -it --rm  redis redis-cli -h 192.168.1.99\n   æˆ–è€… å®Œæ•´ docker run -it --rm redis redis-cli -h 192.168.1.99 -p 6379 -a 123123\n   \n   -itè¡¨ç¤ºè¿è¡Œåè¿›å…¥å®¹å™¨å†…éƒ¨å‘½ä»¤æ¨¡å¼\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;å¯åŠ¨å·²å…³é—­çš„redisæœåŠ¡\n   æ­¥éª¤äºŒæŒ‡å®šäº†redisçš„åç§°ä¸ºredis-test æ‰§è¡Œå‘½ä»¤ redis start redis-test å¯åŠ¨redisæœåŠ¡\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;ä¸å°å¿ƒå…³æ‰äº†æ­£åœ¨è¿æ¥çš„å®¢æˆ·ç«¯ç•Œé¢redis-cli \n  - æŸ¥æ‰¾å½“å‰è¿è¡Œçš„å®¹å™¨ docker ps  \n  - ç›´æ¥è¿›å…¥å®¹å™¨ä¸­ docker attach å®¹å™¨æ ‡è¯†\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;åˆ é™¤å®¹å™¨\n   - docker rm [containerName||ID] æˆ–è€…å¼ºåˆ¶åˆ é™¤åŠ -få‚æ•°\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;æ¨èä¸€ä¸ªå¥½ç”¨çš„rediså¯è§†åŒ–è½¯ä»¶ï¼Œå…è´¹çš„ï¼Œâ€œAnother Redis Desktop Managerâ€ åœ°å€ï¼šhttps://github.com/qishibo/AnotherRedisDesktopManager/&lt;/p&gt;\n&lt;!-- more --&gt;\n&#34;,&#34;fileName&#34;:&#34;docker-zhong-shi-yong-redis&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨Redisï¼Œä¸ºäº†ä¸ç”¨æ¯æ¬¡æ‰“å¼€Redisç›®å½•å»å¯åŠ¨Redisæƒ³åˆ°äº†Dockerå¯ä»¥ä½œä¸ºRedisçš„å®¹å™¨ ç›´æ¥ä¸‹è½½ä½¿ç”¨å°±è¡Œ æŠŠDockerä½¿ç”¨Redisçš„è¿‡ç¨‹åˆ†äº«ä¸‹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;æ‹‰å–redis    ï¼ˆå¦‚æœæƒ³ç›´æ¥è¿è¡Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œç¬¬äºŒæ­¥çœç•¥ç¬¬ä¸€æ­¥ï¼‰\n   docker pull redis\n\n   æ‹‰å–å®Œæˆåå¯ä½¿ç”¨ docker images æŸ¥çœ‹é•œåƒåˆ—è¡¨æ£€æŸ¥\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;åå°è¿è¡Œredis server\n   \n   docker run --name redis-test -p 6379:6379 -d redis\n   æˆ–è€… docker run --name redis-test -p 6379:6379  --rm -d redis\n\n   -dè¡¨ç¤ºåå°è¿è¡Œ \n   -pè¡¨ç¤ºæœ¬æœºç«¯å£æ˜ å°„åˆ°è¿è¡Œçš„å®¹ç§¯ç«¯å£  ç¬¬ä¸€ä¸ªæ˜¯æœ¬æœºç«¯å£ ç¬¬äºŒä¸ªæ˜¯å®¹å™¨ç«¯å£\n   --rmè¡¨ç¤ºç”¨å®Œè‡ªåŠ¨åˆ é™¤ å®¹å™¨åœæ­¢è¿è¡Œåè‡ªåŠ¨åˆ é™¤  ä¸€èˆ¬ä¸ç”¨\n   --nameè¡¨ç¤ºæŒ‡å®šåç§° ä¹‹åä¼šç”¨åˆ°\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt; å®¢æˆ·ç«¯è¿æ¥redis \n   \n   docker run -it --rm  redis redis-cli -h 192.168.1.99\n   æˆ–è€… å®Œæ•´ docker run -it --rm redis redis-cli -h 192.168.1.99 -p 6379 -a 123123\n   \n   -itè¡¨ç¤ºè¿è¡Œåè¿›å…¥å®¹å™¨å†…éƒ¨å‘½ä»¤æ¨¡å¼\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;å¯åŠ¨å·²å…³é—­çš„redisæœåŠ¡\n   æ­¥éª¤äºŒæŒ‡å®šäº†redisçš„åç§°ä¸ºredis-test æ‰§è¡Œå‘½ä»¤ redis start redis-test å¯åŠ¨redisæœåŠ¡\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;ä¸å°å¿ƒå…³æ‰äº†æ­£åœ¨è¿æ¥çš„å®¢æˆ·ç«¯ç•Œé¢redis-cli \n  - æŸ¥æ‰¾å½“å‰è¿è¡Œçš„å®¹å™¨ docker ps  \n  - ç›´æ¥è¿›å…¥å®¹å™¨ä¸­ docker attach å®¹å™¨æ ‡è¯†\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;pre&gt;&lt;code&gt;åˆ é™¤å®¹å™¨\n   - docker rm [containerName||ID] æˆ–è€…å¼ºåˆ¶åˆ é™¤åŠ -få‚æ•°\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;æ¨èä¸€ä¸ªå¥½ç”¨çš„rediså¯è§†åŒ–è½¯ä»¶ï¼Œå…è´¹çš„ï¼Œâ€œAnother Redis Desktop Managerâ€ åœ°å€ï¼šhttps://github.com/qishibo/AnotherRedisDesktopManager/&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;dockerä¸­ä½¿ç”¨redis&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;redis&#34;,&#34;slug&#34;:&#34;54JMWgB6H&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/54JMWgB6H&#34;},{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-04-21 21:08:41&#34;,&#34;dateFormat&#34;:&#34;2021-04-21&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/docker-zhong-shi-yong-redis&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:91000,&#34;words&#34;:376,&#34;minutes&#34;:2},&#34;description&#34;:&#34;é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨Redisï¼Œä¸ºäº†ä¸ç”¨æ¯æ¬¡æ‰“å¼€Redisç›®å½•å»å¯åŠ¨Redisæƒ³åˆ°äº†Dockerå¯ä»¥ä½œä¸ºRedisçš„å®¹å™¨ ç›´æ¥ä¸‹è½½ä½¿ç”¨å°±è¡Œ æŠŠDockerä½¿ç”¨Redisçš„è¿‡ç¨‹åˆ†äº«ä¸‹ï¼š\n\n\næ‹‰å–redis    ï¼ˆå¦‚æœæƒ³ç›´æ¥è¿è¡Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œç¬¬äºŒæ­¥...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;ä½œç”¨ï¼šæ—¶é—´æˆ³è½¬åŒ–ä¸ªæ ¼å¼&lt;/p&gt;\n&lt;p&gt;åŸå› ï¼šæ•°æ®åº“ä¸­ä¸ºäº†å¿«é€ŸæŸ¥è¯¢ï¼Œä¸€èˆ¬ä¿æŒæ—¥æœŸæ˜¯int(1415873634479),ä½†æ˜¯è¿™æ ·æŸ¥è¯¢çš„æ—¶å€™å¾ˆéš¾çŸ¥é“ç¡®åˆ‡çš„æ—¥æœŸ&lt;/p&gt;\n&lt;p&gt;æ ¼å¼ï¼šselect from_unixtime(1459338786);2016-03-30 19:53:06&lt;/p&gt;\n&lt;p&gt;select from_unixtime(1459338786, &#39;%Y-%m-%d %H:%i:%s&#39;);2016-03-30 19:53:06&lt;/p&gt;\n&lt;p&gt;SELECT id ,FROM_UNIXTIME(&#39;last_update_time&#39;) FROM current_inventory WHERE seat_code = &#39;hk2-i0302c03&#39; //å­—æ®µè¦åŠ å¼•å·&lt;/p&gt;\n&lt;p&gt;å¤‡æ³¨ï¼šé»˜è®¤è½¬åŒ–æ ¼å¼æ˜¯%Y-%m-%d %H:%i:%s&lt;/p&gt;\n&lt;p&gt;æ ¼å¼è¯´æ˜ï¼š&lt;/p&gt;\n&lt;p&gt;%M æœˆåå­—(Januaryï½December)&lt;br&gt;\n%W æ˜ŸæœŸåå­—(Sundayï½Saturday)&lt;br&gt;\n%D æœ‰è‹±è¯­å‰ç¼€çš„æœˆä»½çš„æ—¥æœŸ(1st, 2nd, 3rd, ç­‰ç­‰ã€‚ï¼‰&lt;br&gt;\n%Y å¹´, æ•°å­—, 4 ä½&lt;br&gt;\n%y å¹´, æ•°å­—, 2 ä½&lt;br&gt;\n%a ç¼©å†™çš„æ˜ŸæœŸåå­—(Sunï½Sat)&lt;br&gt;\n%d æœˆä»½ä¸­çš„å¤©æ•°, æ•°å­—(00ï½31)&lt;br&gt;\n%e æœˆä»½ä¸­çš„å¤©æ•°, æ•°å­—(0ï½31)&lt;br&gt;\n%m æœˆ, æ•°å­—(01ï½12)&lt;br&gt;\n%c æœˆ, æ•°å­—(1ï½12)&lt;br&gt;\n%b ç¼©å†™çš„æœˆä»½åå­—(Janï½Dec)&lt;br&gt;\n%j ä¸€å¹´ä¸­çš„å¤©æ•°(001ï½366)&lt;br&gt;\n%H å°æ—¶(00ï½23)&lt;br&gt;\n%k å°æ—¶(0ï½23)&lt;br&gt;\n%h å°æ—¶(01ï½12)&lt;br&gt;\n%I å°æ—¶(01ï½12)&lt;br&gt;\n%l å°æ—¶(1ï½12)&lt;br&gt;\n%i åˆ†é’Ÿ, æ•°å­—(00ï½59)&lt;br&gt;\n%r æ—¶é—´,12 å°æ—¶(hh:mm:ss [AP]M)&lt;br&gt;\n%T æ—¶é—´,24 å°æ—¶(hh:mm:ss)&lt;br&gt;\n%S ç§’(00ï½59)&lt;br&gt;\n%s ç§’(00ï½59)&lt;br&gt;\n%p AMæˆ–PM&lt;br&gt;\n%w ä¸€ä¸ªæ˜ŸæœŸä¸­çš„å¤©æ•°(0=Sunday ï½6=Saturday ï¼‰&lt;br&gt;\n%U æ˜ŸæœŸ(0ï½52), è¿™é‡Œæ˜ŸæœŸå¤©æ˜¯æ˜ŸæœŸçš„ç¬¬ä¸€å¤©&lt;br&gt;\n%u æ˜ŸæœŸ(0ï½52), è¿™é‡Œæ˜ŸæœŸä¸€æ˜¯æ˜ŸæœŸçš„ç¬¬ä¸€å¤©&lt;br&gt;\n%% ä¸€ä¸ªæ–‡å­—%&lt;/p&gt;\n&lt;p&gt;åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/yangliu4683/article/details/78340939&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;wo-shi-ce-shi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;mysql æ—¶é—´æˆ³æ ¼å¼åŒ–å‡½æ•°from_unixtime&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2021-04-06 11:01:44&#34;,&#34;dateFormat&#34;:&#34;2021-04-06&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/wo-shi-ce-shi&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:91000,&#34;words&#34;:341,&#34;minutes&#34;:2},&#34;description&#34;:&#34;ä½œç”¨ï¼šæ—¶é—´æˆ³è½¬åŒ–ä¸ªæ ¼å¼\nåŸå› ï¼šæ•°æ®åº“ä¸­ä¸ºäº†å¿«é€ŸæŸ¥è¯¢ï¼Œä¸€èˆ¬ä¿æŒæ—¥æœŸæ˜¯int(1415873634479),ä½†æ˜¯è¿™æ ·æŸ¥è¯¢çš„æ—¶å€™å¾ˆéš¾çŸ¥é“ç¡®åˆ‡çš„æ—¥æœŸ\næ ¼å¼ï¼šselect from_unixtime(1459338786);2016-03-30 19...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;pre&gt;&lt;code class=\&#34;language-nginx\&#34;&gt;server {\n  listen 9003;\n  server_name *****.com;\n  index index.html index.htm;\n  location / {\n    proxy_pass http://127.0.0.1:4001;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-for $remote_addr;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Forwarded-Port $server_port;\n    proxy_connect_timeout 300;\n\n    # æŒ‡å®šå…è®¸è·¨åŸŸçš„æ–¹æ³•ï¼Œ*ä»£è¡¨æ‰€æœ‰\n    add_header Access-Control-Allow-Methods *;\n\n    # é¢„æ£€å‘½ä»¤çš„ç¼“å­˜ï¼Œå¦‚æœä¸ç¼“å­˜æ¯æ¬¡ä¼šå‘é€ä¸¤æ¬¡è¯·æ±‚\n    add_header Access-Control-Max-Age 3600;\n\n    # å¸¦cookieè¯·æ±‚éœ€è¦åŠ ä¸Šè¿™ä¸ªå­—æ®µï¼Œå¹¶è®¾ç½®ä¸ºtrue\n    add_header Access-Control-Allow-Credentials true;\n\n    # è¡¨ç¤ºå…è®¸è¿™ä¸ªåŸŸè·¨åŸŸè°ƒç”¨ï¼ˆå®¢æˆ·ç«¯å‘é€è¯·æ±‚çš„åŸŸåå’Œç«¯å£ï¼‰\n    # $http_originåŠ¨æ€è·å–è¯·æ±‚å®¢æˆ·ç«¯è¯·æ±‚çš„åŸŸ   ä¸ç”¨*çš„åŸå› æ˜¯å¸¦cookieçš„è¯·æ±‚ä¸æ”¯æŒ*å·\n    add_header Access-Control-Allow-Origin $http_origin;\n\n    # è¡¨ç¤ºè¯·æ±‚å¤´çš„å­—æ®µ åŠ¨æ€è·å–\n    add_header Access-Control-Allow-Headers $http_access_control_request_headers;\n\n    # OPTIONSé¢„æ£€å‘½ä»¤ï¼Œé¢„æ£€å‘½ä»¤é€šè¿‡æ—¶æ‰å‘é€è¯·æ±‚\n    # æ£€æŸ¥è¯·æ±‚çš„ç±»å‹æ˜¯ä¸æ˜¯é¢„æ£€å‘½ä»¤\n    if ($request_method = OPTIONS){\n      return 200;\n    }\n\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;nginx-dai-cookie-yun-xu-kua-yu-pei-zhi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;nginxå¸¦cookieå…è®¸è·¨åŸŸé…ç½®&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;nginx&#34;,&#34;slug&#34;:&#34;lUaTxyOe3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lUaTxyOe3&#34;},{&#34;name&#34;:&#34;æœåŠ¡ç«¯&#34;,&#34;slug&#34;:&#34;lTeQHqjnC&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/lTeQHqjnC&#34;}],&#34;date&#34;:&#34;2021-02-10 19:11:56&#34;,&#34;dateFormat&#34;:&#34;2021-02-10&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/nginx-dai-cookie-yun-xu-kua-yu-pei-zhi&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:59000,&#34;words&#34;:224,&#34;minutes&#34;:1},&#34;description&#34;:&#34;server {\n  listen 9003;\n  server_name *****.com;\n  index index.html index.htm;\n  location / {\n    proxy_pass http://127....&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å¼ºåˆ¶commitè§„èŒƒå¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨packageé¡¹ç›®ä¸­çš„gitHooksé€‰é¡¹ä¸‹çš„&amp;quot;commit-msg&amp;quot;è®¾ç½®è‡ªå·±çš„commitè§„åˆ™è„šæœ¬ã€‚æ¯”å¦‚æˆ‘è¦å¼ºåˆ¶commitå†…å®¹ä¸ºfeat:åŠ ç©ºæ ¼xxxæˆ–è€…fix:åŠ ç©ºæ ¼xxxï¼Œå¦‚æœä¸ç¬¦åˆç»™å‡ºç›¸åº”æç¤ºï¼Œåˆ™æˆ‘åº”è¯¥è¿™ä¹ˆå†™ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://note.youdao.com/yws/public/resource/d60e09a825bba46e1719f2dc06a2f7e3/xmlnote/302F691AA217499EA4DC783EA5E361B8/3538\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nverify-commit-msg.jsä¸­ä»£ç ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;const chalk = require(&amp;quot;chalk&amp;quot;);\nconst msgPath = process.env.GIT_PARAMS;\nconst msg = require(&amp;quot;fs&amp;quot;)\n  .readFileSync(msgPath, &amp;quot;utf-8&amp;quot;)\n  .trim();\n\nconst commitRE = /^(revert: )?(feat|fix|polish|docs|style|refactor|perf|test|workflow|ci|chore|types|build|Merge)(\\(.+\\))?: .{1,50}|Merge /;\n\nif (!commitRE.test(msg)) {\n  console.error(\n    `  ${chalk.bgRed.white(&amp;quot; ERROR &amp;quot;)} ${chalk.red(\n      `invalid commit message format.`\n    )}\\n\\n` +\n      chalk.red(\n        `  Proper commit message format is required for automated changelog generation. Examples:\\n\\n`\n      ) +\n      `    ${chalk.green(`feat: add &#39;comments&#39; option`)}\\n` +\n      `    ${chalk.green(`fix: handle events on blur (close #28)`)}\\n\\n` +\n      chalk.red(\n        `  You can also use ${chalk.cyan(\n          `yarn commit`\n        )} to interactively generate a commit message.\\n`\n      )\n  );\n  process.exit(1);\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¦ä¸€ç§æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;a href=\&#34;https://www.npmjs.com/package/git-cz/v/4.2.0\&#34;&gt;git-cz&lt;/a&gt; é€šè¿‡äº¤äº’çš„æ–¹å¼ç”Ÿæˆæ›´ä¸“ä¸šçš„commitï¼Œæ•ˆæœå¦‚ä¸‹&lt;br&gt;\n&lt;img src=\&#34;https://weidadeda.github.io/post-images/1642390440510.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;hello-gridea&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å¦‚ä½•è‡ªå®šä¹‰commitè§„èŒƒ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å·¥ç¨‹åŒ–&#34;,&#34;slug&#34;:&#34;_l9fydARk&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/_l9fydARk&#34;},{&#34;name&#34;:&#34;commitè§„èŒƒ&#34;,&#34;slug&#34;:&#34;Z8QV8E2Pt&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/Z8QV8E2Pt&#34;}],&#34;date&#34;:&#34;2020-10-23 21:00:00&#34;,&#34;dateFormat&#34;:&#34;2020-10-23&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/hello-gridea&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:69000,&#34;words&#34;:229,&#34;minutes&#34;:2},&#34;description&#34;:&#34;å¼ºåˆ¶commitè§„èŒƒå¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨packageé¡¹ç›®ä¸­çš„gitHooksé€‰é¡¹ä¸‹çš„&amp;quot;commit-msg&amp;quot;è®¾ç½®è‡ªå·±çš„commitè§„åˆ™è„šæœ¬ã€‚æ¯”å¦‚æˆ‘è¦å¼ºåˆ¶commitå†…å®¹ä¸ºfeat:åŠ ç©ºæ ¼xxxæˆ–è€…fix:åŠ ç©ºæ ¼xxx...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰æŸäº›å±æ€§å’Œæ–¹æ³•ï¼Œå¦ä¸€ä¸ªå¯¹è±¡æœ‰ï¼Œæ‹¿è¿‡æ¥ä½¿ç”¨ï¼Œå°±æ˜¯ç»§æ‰¿&lt;/p&gt;\n&lt;h3 id=\&#34;ç»§æ‰¿çš„å®ç°æ–¹å¼\&#34;&gt;ç»§æ‰¿çš„å®ç°æ–¹å¼&lt;/h3&gt;\n&lt;h4 id=\&#34;æ··å…¥å¼ç»§æ‰¿\&#34;&gt;æ··å…¥å¼ç»§æ‰¿&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;var obj = {};\nvar obj1 = {\n    money : 10000000,\n    car : 100,\n    brand: &amp;quot;å¸ƒåŠ è¿ªå¨èˆª&amp;quot;,\n    huaqian: function(){\n        console.log(&amp;quot;ä¸å·®é’±ï¼Œéšä¾¿èŠ±&amp;quot;);\n    }\n};\nconsole.log(obj);\nfor(var k in obj1){\n    //money\n    //car\n    //brand\n    //huaqian\n    obj[k] = obj1[k];\n}\n\nconsole.log(obj);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;åŸå‹ç»§æ‰¿çš„æ–¹å¼\&#34;&gt;åŸå‹ç»§æ‰¿çš„æ–¹å¼&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;é€šè¿‡ä¿®æ”¹åŸå‹å®ç°çš„ç»§æ‰¿ å°±æ˜¯åŸå‹ç»§æ‰¿&lt;/li&gt;\n&lt;li&gt;é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ç»§æ‰¿è‡ªæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;//Person.prototype\nvar human = {\n    gender:&amp;quot;female&amp;quot;,\n    height: 170,\n    weight: 50\n}\nfunction Person(){\n}\nPerson.prototype.name = &amp;quot;ç‹è‰è‰&amp;quot;;\n\nfor(var k in human){\n    Person.prototype[k] = human[k];\n}\nvar p = new Person();\nconsole.log(p.name,p.gender,p.height,p.weight);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¿®æ”¹åŸå‹å¯¹è±¡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;Person.prototype.maimeng = function (){\n    console.log(&amp;quot;æ„Ÿè§‰è‡ªå·±èŒèŒå“’&amp;quot;);\n}\n\np.maimeng();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;æ›¿æ¢åŸå‹å¯¹è±¡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;Person.prototype = human;\nvar p = new Person();\nconsole.log(p.gender);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;ç»å…¸ç»§æ‰¿\&#34;&gt;ç»å…¸ç»§æ‰¿&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œå°±èƒ½å®ç°ç»§æ‰¿&lt;/li&gt;\n&lt;li&gt;var obj1 = Object.create(obj)&lt;/li&gt;\n&lt;li&gt;åˆ›å»ºå‡ºæ¥ä¸€ä¸ªæ–°çš„ç»§æ‰¿è‡ªå‚æ•° obj çš„å¯¹è±¡ obj1&lt;/li&gt;\n&lt;li&gt;å…¶å®å†…éƒ¨ä½¿ç”¨çš„å°±æ˜¯åŸå‹ç»§æ‰¿&lt;/li&gt;\n&lt;li&gt;ES5æ‰æ”¯æŒçš„è¿™ä¸ªæ–¹æ³• éœ€è¦è€ƒè™‘å…¼å®¹æ€§é—®é¢˜&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;var human = {\n    name: &amp;quot;ç‹è‰è‰&amp;quot;,\n    gender: &amp;quot;female&amp;quot;,\n    dance :function(){\n        console.log(&amp;quot;äºŒäººè½¬ï¼Œè½¬è½¬è½¬&amp;quot;)\n    }\n}\nvar obj = Object.create(human);\n\nconsole.log(obj);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&#34;å¤„ç†ç»å…¸ç»§æ‰¿çš„å…¼å®¹æ€§é—®é¢˜\&#34;&gt;å¤„ç†ç»å…¸ç»§æ‰¿çš„å…¼å®¹æ€§é—®é¢˜&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;if(Object.create){\n    var obj = Object.create({name:&amp;quot;æç‹—äºŒ&amp;quot;,age:18});\n}else{\n    Object.create = function(obj){\n\t\t//åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¦å®ç°çš„åŠŸèƒ½\n\t\t//å°±æ˜¯ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°†objè®¾ç½®ä¸ºè¯¥å¯¹è±¡çš„åŸå‹\n\n\t\t//è¦è®¾ç½®åŸå‹ï¼Œåªèƒ½é€šè¿‡ä¸¤ç§æ–¹å¼ï¼Œ\n\t\t// ä¸€ç§æ˜¯ å¯¹è±¡.__proto__  å¦å¤–ä¸€ç§æ˜¯ æ„é€ å‡½æ•°.prototype\n\t\t//ç”±äº__proto__è¿™ä¸ªå±æ€§æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨\n\t\t//å°±åªèƒ½ä½¿ç”¨ æ„é€ å‡½æ•°.prototype å»æ›¿æ¢åŸå‹å¯¹è±¡äº†\n\n        function F(){}\n        F.prototype = obj;\n        var result = new F();\n        return result;\n    }\n}\n\n//ä¸æ¨èç›´æ¥ä¿®æ”¹å†…ç½®å¯¹è±¡ï¼Œå› ä¸ºåœ¨å¤šäººå¼€å‘çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿå†²çª\n\nObject.creat = function () {\n    console.log(&amp;quot;æˆ‘æ˜¯æäºŒç‹—ï¼Œæˆ‘çš„createæ–¹æ³•å°±æ˜¯ç”¨æ¥è¾“å‡ºè¿™å¥è¯çš„ï¼Œå“ˆå“ˆå“ˆ&amp;quot;);\n}\n\nfunction hanyingxinCreate(obj){\n    if(Object.create){\n        return Object.creat(obj);\n    }else{\n        function F(){}\n        F.prototype = obj;\n        var result = new F();\n        return result;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å†…å®¹è½¬è½½è‡ªï¼šhttps://blog.ihoey.com/posts/javascript/2016-06-15-javascript-inherit.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;js-dui-xiang-ji-cheng&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;jså¯¹è±¡ç»§æ‰¿&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;js&#34;,&#34;slug&#34;:&#34;3uoOai8za&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/3uoOai8za&#34;}],&#34;date&#34;:&#34;2020-01-16 15:21:48&#34;,&#34;dateFormat&#34;:&#34;2020-01-16&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/js-dui-xiang-ji-cheng&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:147000,&#34;words&#34;:558,&#34;minutes&#34;:3},&#34;description&#34;:&#34;ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰æŸäº›å±æ€§å’Œæ–¹æ³•ï¼Œå¦ä¸€ä¸ªå¯¹è±¡æœ‰ï¼Œæ‹¿è¿‡æ¥ä½¿ç”¨ï¼Œå°±æ˜¯ç»§æ‰¿\nç»§æ‰¿çš„å®ç°æ–¹å¼\næ··å…¥å¼ç»§æ‰¿\nvar obj = {};\nvar obj1 = {\n    money : 10000000,\n    car : 100,\n    brand:...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BB%A7%E6%89%BF%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F\&#34;&gt;ç»§æ‰¿çš„å®ç°æ–¹å¼&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%B7%E5%85%A5%E5%BC%8F%E7%BB%A7%E6%89%BF\&#34;&gt;æ··å…¥å¼ç»§æ‰¿&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF%E7%9A%84%E6%96%B9%E5%BC%8F\&#34;&gt;åŸå‹ç»§æ‰¿çš„æ–¹å¼&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BB%8F%E5%85%B8%E7%BB%A7%E6%89%BF\&#34;&gt;ç»å…¸ç»§æ‰¿&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%84%E7%90%86%E7%BB%8F%E5%85%B8%E7%BB%A7%E6%89%BF%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98\&#34;&gt;å¤„ç†ç»å…¸ç»§æ‰¿çš„å…¼å®¹æ€§é—®é¢˜&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;prototypeæ˜¾ç¤ºåŸå‹æ˜¯ç±»çš„åŸå‹æŒ‡å‘è¯¥æ–¹æ³•çš„åŸå‹å¯¹è±¡-protoéšå¼åŸå‹æ˜¯å¯¹è±¡çš„åŸå‹æŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡\&#34;&gt;prototypeï¼ˆæ˜¾ç¤ºåŸå‹ï¼‰æ˜¯â€œç±»â€çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥æ–¹æ³•çš„åŸå‹å¯¹è±¡ã€‚&lt;strong&gt;proto&lt;/strong&gt;ï¼ˆéšå¼åŸå‹ï¼‰æ˜¯å¯¹è±¡çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚&lt;/h3&gt;\n&lt;p&gt;JSå½“ç„¶æ²¡æœ‰â€œç±»â€ï¼Œåªæœ‰constructorã€‚&lt;br&gt;\nconstructorå°±æ˜¯å½“ä½ new fn()æ—¶çš„é‚£ä¸ªâ€œfnâ€ã€‚&lt;br&gt;\nfnçš„æ—¶å€™ï¼Œäº§ç”Ÿçš„å®ä¾‹çš„__proto__æŒ‡å‘fn.prototypeï¼Œä¸¤è€…æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;function Foo(){}\nvar foo = new Foo()\nFoo.prototype.__proto__ === Object.prototype //true\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;prototypeï¼šæ¯ä¸€ä¸ªå‡½æ•°åœ¨åˆ›å»ºä¹‹åéƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªåä¸ºprototypeçš„å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;proto&lt;/strong&gt;ï¼šJavaScriptä¸­ä»»æ„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®å±æ€§[[prototype]]ï¼Œåœ¨ES5ä¹‹å‰æ²¡æœ‰æ ‡å‡†çš„æ–¹æ³•è®¿é—®è¿™ä¸ªå†…ç½®å±æ€§ï¼Œä½†æ˜¯å¤§å¤šæ•°æµè§ˆå™¨éƒ½æ”¯æŒé€šè¿‡__proto__æ¥è®¿é—®ã€‚ES5ä¸­æœ‰äº†å¯¹äºè¿™ä¸ªå†…ç½®å±æ€§æ ‡å‡†çš„Getæ–¹æ³•Object.getPrototypeOf().&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Note: Object.prototype è¿™ä¸ªå¯¹è±¡æ˜¯ä¸ªä¾‹å¤–ï¼Œå®ƒçš„__proto__å€¼ä¸ºnull&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;éšå¼åŸå‹æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°constructorçš„prototype\&#34;&gt;éšå¼åŸå‹æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°(constructor)çš„prototype&lt;/h4&gt;\n&lt;p&gt;__proto__çš„æŒ‡å‘åˆ°åº•å¦‚ä½•åˆ¤æ–­å‘¢ï¼Ÿæ ¹æ®ECMAå®šä¹‰ &#39;to the value of its constructorâ€™s &amp;quot;prototype&amp;quot; &#39; ----æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°ï¼‰çš„æ˜¾å¼åŸå‹ã€‚æ‰€ä»¥å…³é”®çš„ç‚¹åœ¨äºæ‰¾åˆ°åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œæ¥ä¸‹æ¥å°±æ¥çœ‹ä¸€ä¸‹JSä¸­å¯¹è±¡è¢«åˆ›å»ºçš„æ–¹å¼ï¼Œä¸€çœ¼çœ‹è¿‡å»ä¼¼ä¹æœ‰ä¸‰ç§æ–¹å¼ï¼šï¼ˆ1ï¼‰å¯¹è±¡å­—é¢é‡çš„æ–¹å¼ ï¼ˆ2ï¼‰new çš„æ–¹å¼ ï¼ˆ3ï¼‰ES5ä¸­çš„Object.create() ä½†æ˜¯æˆ‘è®¤ä¸ºæœ¬è´¨ä¸Šåªæœ‰ä¸€ç§æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡newæ¥åˆ›å»ºã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œé¦–å…ˆå­—é¢é‡çš„æ–¹å¼æ˜¯ä¸€ç§ä¸ºäº†å¼€å‘äººå‘˜æ›´æ–¹ä¾¿åˆ›å»ºå¯¹è±¡çš„ä¸€ä¸ªè¯­æ³•ç³–ï¼Œæœ¬è´¨å°±æ˜¯ var o = new Object(); o.xx = xx;o.yy=yy; å†æ¥çœ‹çœ‹Object.create(),è¿™æ˜¯ES5ä¸­æ–°å¢çš„æ–¹æ³•ï¼Œåœ¨è¿™ä¹‹å‰è¿™è¢«ç§°ä¸ºåŸå‹å¼ç»§æ‰¿ã€‚&lt;/p&gt;\n&lt;p&gt;ä¸‹é¢çœ‹å‡ ä¸ªä¾‹å­ç»ƒä¹ ä¸€ä¸‹ï¼š&lt;/p&gt;\n&lt;p&gt;å†…å»ºå¯¹è±¡(built-in object)ï¼šæ¯”å¦‚Array()ï¼ŒArray.prototype.__proto__æŒ‡å‘ä»€ä¹ˆï¼ŸArray.prototypeä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å°±æ˜¯ç”± Object() è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„ï¼Œå› æ­¤Array.prototype.&lt;strong&gt;proto&lt;/strong&gt; === Object.prototype //trueï¼Œæˆ–è€…ä¹Ÿå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæ‰€æœ‰çš„å†…å»ºå¯¹è±¡éƒ½æ˜¯ç”±Object()åˆ›å»ºè€Œæ¥ã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;è‡ªå®šä¹‰å¯¹è±¡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;function Foo(){}\nvar foo = new Foo()\nFoo.prototype.__proto__ === Object.prototype //true ç†ç”±åŒä¸Š\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;//è¿™æ—¶æˆ‘ä»¬æƒ³è®©Fooç»§æ‰¿Bar\nfunction Bar(){}\nFoo.prototype = new Bar()\n Foo.prototype.__proto__ === Bar.prototype //true\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;//æˆ‘ä»¬ä¸æƒ³è®©Fooç»§æ‰¿è°ï¼Œä½†æ˜¯æˆ‘ä»¬è¦è‡ªå·±é‡æ–°å®šä¹‰Foo.prototype\nFoo.prototype = {\n  a:10,\n  b:-10\n}\n//è¿™ç§æ–¹å¼å°±æ˜¯ç”¨äº†å¯¹è±¡å­—é¢é‡çš„æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ ¹æ®å‰æ–‡æ‰€è¿° \nFoo.prototype.__proto__ === Object.prototype\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä»¥ä¸Šæƒ…å†µéƒ½ç­‰äºå®Œå…¨é‡å†™äº†Foo.prototypeï¼Œæ‰€ä»¥Foo.prototype.constructorä¹Ÿè·Ÿç€æ”¹å˜äº†ï¼Œäºæ˜¯ä¹constructorè¿™ä¸ªå±æ€§å’ŒåŸæ¥çš„æ„é€ å‡½æ•°Fooï¼ˆï¼‰ä¹Ÿå°±åˆ‡æ–­äº†è”ç³»ã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;æ­¤å¤–\&#34;&gt;æ­¤å¤–ï¼š&lt;/h4&gt;\n&lt;p&gt;æ„é€ å‡½æ•°Foo()é™¤äº†æ˜¯æ–¹æ³•ï¼Œä¹Ÿæ˜¯å¯¹è±¡å•Šï¼Œå®ƒä¹Ÿæœ‰__proto__å±æ€§ï¼ŒæŒ‡å‘è°å‘¢ï¼ŸæŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡å‘—ã€‚å‡½æ•°çš„æ„é€ å‡½æ•°ä¸å°±æ˜¯Functionå˜›ï¼Œå› æ­¤è¿™é‡Œçš„__proto__æŒ‡å‘äº†Function.prototypeã€‚å…¶å®é™¤äº†Foo()ï¼ŒFunction(), Object()ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚åŸå‹å¯¹è±¡ä¹Ÿæ˜¯å¯¹è±¡å•Šï¼Œå®ƒçš„__proto__å±æ€§ï¼ŒåˆæŒ‡å‘è°å‘¢ï¼ŸåŒç†ï¼ŒæŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡å‘—ã€‚è¿™é‡Œæ˜¯Object.prototype.æœ€åï¼ŒObject.prototypeçš„__proto__å±æ€§æŒ‡å‘nullã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;æ„é€ å‡½æ•°çš„éšå¼åŸå‹\&#34;&gt;æ„é€ å‡½æ•°çš„éšå¼åŸå‹&lt;/h4&gt;\n&lt;p&gt;æ—¢ç„¶æ˜¯æ„é€ å‡½æ•°é‚£ä¹ˆå®ƒå°±æ˜¯Functionï¼ˆï¼‰çš„å®ä¾‹ï¼Œå› æ­¤ä¹Ÿå°±æŒ‡å‘Function.prototype,æ¯”å¦‚ Object.&lt;strong&gt;proto&lt;/strong&gt; === Function.prototype&lt;/p&gt;\n&lt;h3 id=\&#34;instanceof\&#34;&gt;instanceof&lt;/h3&gt;\n&lt;p&gt;instanceof æ“ä½œç¬¦çš„å†…éƒ¨å®ç°æœºåˆ¶å’Œéšå¼åŸå‹ã€æ˜¾å¼åŸå‹æœ‰ç›´æ¥çš„å…³ç³»ã€‚instanceofçš„å·¦å€¼ä¸€èˆ¬æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³å€¼ä¸€èˆ¬æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­å·¦å€¼æ˜¯å¦æ˜¯å³å€¼çš„å®ä¾‹ã€‚å®ƒçš„å†…éƒ¨å®ç°åŸç†æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;//è®¾ L instanceof R \n//é€šè¿‡åˆ¤æ–­\n L.__proto__.__proto__ ..... === R.prototype ï¼Ÿ\n//æœ€ç»ˆè¿”å›true or false\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¹Ÿå°±æ˜¯æ²¿ç€Lçš„__proto__ä¸€ç›´å¯»æ‰¾åˆ°åŸå‹é“¾æœ«ç«¯ï¼Œç›´åˆ°ç­‰äºR.prototypeä¸ºæ­¢ã€‚çŸ¥é“äº†è¿™ä¸ªä¹Ÿå°±çŸ¥é“ä¸ºä»€ä¹ˆä»¥ä¸‹è¿™äº›å¥‡æ€ªçš„è¡¨è¾¾å¼ä¸ºä»€ä¹ˆä¼šå¾—åˆ°ç›¸åº”çš„å€¼äº†&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;Function instanceof Object // true \n Object instanceof Function // true \n Function instanceof Function //true\n Object instanceof Object // true\n Number instanceof Number //false\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;guanxi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;__proto__å’Œprototypeçš„åŒºåˆ«å’Œå…³ç³»ï¼Ÿ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;js&#34;,&#34;slug&#34;:&#34;3uoOai8za&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://weidadeda.github.io/tag/3uoOai8za&#34;}],&#34;date&#34;:&#34;2020-01-14 15:39:57&#34;,&#34;dateFormat&#34;:&#34;2020-01-14&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/guanxi&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:239000,&#34;words&#34;:1034,&#34;minutes&#34;:4},&#34;description&#34;:&#34;prototypeï¼ˆæ˜¾ç¤ºåŸå‹ï¼‰æ˜¯â€œç±»â€çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥æ–¹æ³•çš„åŸå‹å¯¹è±¡ã€‚protoï¼ˆéšå¼åŸå‹ï¼‰æ˜¯å¯¹è±¡çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚\nJSå½“ç„¶æ²¡æœ‰â€œç±»â€ï¼Œåªæœ‰constructorã€‚\nconstructorå°±æ˜¯å½“ä½ new fn()æ—¶çš„é‚£...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#prototype%E6%98%BE%E7%A4%BA%E5%8E%9F%E5%9E%8B%E6%98%AF%E7%B1%BB%E7%9A%84%E5%8E%9F%E5%9E%8B%E6%8C%87%E5%90%91%E8%AF%A5%E6%96%B9%E6%B3%95%E7%9A%84%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1-proto%E9%9A%90%E5%BC%8F%E5%8E%9F%E5%9E%8B%E6%98%AF%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%9E%8B%E6%8C%87%E5%90%91%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1\&#34;&gt;prototypeï¼ˆæ˜¾ç¤ºåŸå‹ï¼‰æ˜¯â€œç±»â€çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥æ–¹æ³•çš„åŸå‹å¯¹è±¡ã€‚&lt;strong&gt;proto&lt;/strong&gt;ï¼ˆéšå¼åŸå‹ï¼‰æ˜¯å¯¹è±¡çš„åŸå‹ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%9A%90%E5%BC%8F%E5%8E%9F%E5%9E%8B%E6%8C%87%E5%90%91%E5%88%9B%E5%BB%BA%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%BD%E6%95%B0constructor%E7%9A%84prototype\&#34;&gt;éšå¼åŸå‹æŒ‡å‘åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°(constructor)çš„prototype&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%AD%A4%E5%A4%96\&#34;&gt;æ­¤å¤–ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E9%9A%90%E5%BC%8F%E5%8E%9F%E5%9E%8B\&#34;&gt;æ„é€ å‡½æ•°çš„éšå¼åŸå‹&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#instanceof\&#34;&gt;instanceof&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ å˜¿å˜¿ï¼ğŸ¤&lt;/p&gt;\n&lt;h2 id=\&#34;å…³äºæœ¬ç«™\&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;å…³äºè¿™ä¸ªç«™å‘¢,å°±æ˜¯è®°å½•ä¸‹å¹³æ—¶è®°ä¸å¤ªä½çš„è¿˜æœ‰ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£å–œæ¬¢çš„ä¸€äº›ä¸œè¥¿\né¡ºä¾¿ä¹Ÿåˆ†äº«ç»™å¤§å®¶å§!\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;å…³äºæˆ‘\&#34;&gt;ğŸ‘¨â€ğŸ’» å…³äºæˆ‘&lt;/h2&gt;\n&lt;p&gt;ä¸€åå‰ç«¯å¼€å‘ï¼Œ95åï¼Œç°å±…åŒ—äº¬ï¼Œå…»äº†ä¸¤åªçŒ«ï¼Œå–œæ¬¢å¥èº«ğŸ’ªå–œæ¬¢ç ”ç©¶å†å²ğŸ“’&lt;/p&gt;\n&lt;h2 id=\&#34;è”ç³»æˆ‘å‘€\&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;é‚®ç®±ï¼š18310536322@163.com&lt;/li&gt;\n&lt;li&gt;å¾®ä¿¡ï¼š18310536322&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;about&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å…³äº&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2019-06-13 19:09:48&#34;,&#34;dateFormat&#34;:&#34;2019-06-13&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://weidadeda.github.io/post/about&#34;,&#34;hideInList&#34;:true,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:22000,&#34;words&#34;:106,&#34;minutes&#34;:1},&#34;description&#34;:&#34;æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ å˜¿å˜¿ï¼ğŸ¤\nğŸ  å…³äºæœ¬ç«™\nå…³äºè¿™ä¸ªç«™å‘¢,å°±æ˜¯è®°å½•ä¸‹å¹³æ—¶è®°ä¸å¤ªä½çš„è¿˜æœ‰ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£å–œæ¬¢çš„ä¸€äº›ä¸œè¥¿\né¡ºä¾¿ä¹Ÿåˆ†äº«ç»™å¤§å®¶å§!\n\nğŸ‘¨â€ğŸ’» å…³äºæˆ‘\nä¸€åå‰ç«¯å¼€å‘ï¼Œ95åï¼Œç°å±…åŒ—äº¬ï¼Œå…»äº†ä¸¤åªçŒ«ï¼Œå–œæ¬¢å¥èº«ğŸ’ªå–œæ¬¢ç ”ç©¶...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99\&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8E%E6%88%91\&#34;&gt;ğŸ‘¨â€ğŸ’» å…³äºæˆ‘&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%81%94%E7%B3%BB%E6%88%91%E5%91%80\&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;}]";
  // var json = escape.substr(1, escape.length - 2);
  // var datas = json.split(',');
  // for (let i=0; i < datas.length; i++) {
  //   let item = datas[i];
  //   let attrs = item.split('34;:&#34')
  //   debugger
  //   console.log(datas[i])
  // }
  let escapeMap = new Map();
  escapeMap.set('&#34;', '"');
  escapeMap.set('&gt;', '>');
  escapeMap.set('&#39;', "'");
  escapeMap.set('&lt;', '<');
  escapeMap.set('&quot;', '"');
  escapeMap.set('&amp;', '&');
</script> -->

<script src="/media/js/mouse/peace.js"></script>



</html>